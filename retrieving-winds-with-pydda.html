<!DOCTYPE html><html lang="en" class="light" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>PyDDA tutorial - ERAD 2024</title><meta property="og:title" content="PyDDA tutorial - ERAD 2024"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png"/><meta property="og:image" content="/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/erad2024/build/_assets/app-IVMJSATM.css"/><link rel="stylesheet" href="/erad2024/build/_assets/thebe-core-C4ZDKLDU.css"/><link rel="stylesheet" href="/myst-theme.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 fixed w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-wrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/erad2024/"><div class="p-1 mr-3"><img src="/erad2024/build/erad_white_backgroun-51f2407d1c747f6191e0f6d0eb7a5d28.png" class="h-9 dark:hidden" height="2.25rem"/><img src="/erad2024/build/erad_white_backgroun-51f2407d1c747f6191e0f6d0eb7a5d28.png" class="hidden h-9 dark:block" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"><div class="relative inline-block mx-2 grow-0"><a href="https://www.erad2024.it" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Conference Home</a></div><div class="relative inline-block mx-2 grow-0"><a href="https://openradarscience.org" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Open Radar Community</a></div></div><div class="flex-grow block"></div><button class="theme rounded-full border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Change theme to dark mode." aria-label="Change theme to dark mode."><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-full w-full p-0.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></button><div class="block sm:hidden"><div class="relative" data-headlessui-state=""><div><button class="flex text-sm bg-transparent rounded-full focus:outline-none" id="headlessui-menu-button-:Rciop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open Menu</span><div class="flex items-center text-stone-200 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="p-1"><path fill-rule="evenodd" d="M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z" clip-rule="evenodd"></path></svg></div></button></div></div></div><div class="hidden sm:block"><a href="https://binder.projectpythia.org/v2/gh/openradar/erad2024/main?labpath=notebooks" target="_blank" rel="noopener noreferrer" class="inline-block px-4 py-2 mx-1 mt-0 leading-none border rounded text-md border-stone-700 dark:border-white text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 hover:bg-neutral-100">Launch Environment</a></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><nav aria-label="Table of Contents" class="flex-grow overflow-y-auto transition-opacity mt-6 pb-3 ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="ERAD 2024" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/erad2024/">ERAD 2024</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Preamble" class="block break-words rounded py-2 grow cursor-pointer">Preamble</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Data Access" class="block break-words rounded py-2 grow cursor-pointer">Data Access</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R3d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Radar Software Foundations" class="block break-words rounded py-2 grow cursor-pointer">Radar Software Foundations</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R4d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R4d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Notebook Environment" class="block break-words rounded py-2 grow cursor-pointer">Notebook Environment</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R5d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R5d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Retrieving winds with PyDDA" class="block break-words rounded py-2 grow cursor-pointer">Retrieving winds with PyDDA</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R6d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R6d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav><div class="flex-none py-4 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap" style="margin-top:60px"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="pt-5 mb-8"><div class="flex items-center h-6 mt-3 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://opensource.org/licenses/Apache-2.0" target="_blank" rel="noopener noreferrer" title="Content License: Apache License 2.0 (Apache-2.0)" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="mx-1 inline-block opacity-60 hover:opacity-100 hover:text-[#599F46]"><path d="M13.2 15.6c1.4-.5 2.1-1.6 2.1-3.3S13.8 8.9 12 8.9c-1.9 0-3.3 1.6-3.3 3.3 0 1.8.8 3 2.2 3.4l-2.3 5.9c-3.1-.8-6.3-4.6-6.3-9.3 0-5.5 4.3-10 9.7-10s9.8 4.5 9.8 10c0 4.7-3.1 8.5-6.3 9.3l-2.3-5.9z"></path></svg></a><a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="opacity-50 hover:opacity-100 text-inherit hover:text-inherit" aria-label="Code License: Creative Commons Attribution 4.0 International (CC-BY-4.0)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mx-1"><title>Code License: Creative Commons Attribution 4.0 International (CC-BY-4.0)</title><path d="M12 2.2c2.7 0 5 1 7 2.9.9.9 1.6 2 2.1 3.1.5 1.2.7 2.4.7 3.8 0 1.3-.2 2.6-.7 3.8-.5 1.2-1.2 2.2-2.1 3.1-1 .9-2 1.7-3.2 2.2-1.2.5-2.5.7-3.7.7s-2.6-.3-3.8-.8c-1.2-.5-2.2-1.2-3.2-2.1s-1.6-2-2.1-3.2-.8-2.4-.8-3.7c0-1.3.2-2.5.7-3.7S4.2 6 5.1 5.1C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C5.6 7.1 5 8 4.6 9c-.4 1-.6 2-.6 3s.2 2.1.6 3c.4 1 1 1.8 1.8 2.6S8 19 9 19.4c1 .4 2 .6 3 .6s2.1-.2 3-.6c1-.4 1.9-1 2.7-1.8 1.5-1.5 2.3-3.3 2.3-5.6 0-1.1-.2-2.1-.6-3.1-.4-1-1-1.8-1.7-2.6C16.1 4.8 14.2 4 12 4zm-.1 6.4l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.5.3-1 .4-1.5.4-.9 0-1.6-.3-2.1-.8-.5-.6-.8-1.3-.8-2.3 0-.9.3-1.7.8-2.2.6-.6 1.3-.8 2.1-.8 1.2 0 2.1.4 2.6 1.4zm5.6 0l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.4.2-.9.3-1.4.3-.9 0-1.6-.3-2.1-.8s-.8-1.3-.8-2.2c0-.9.3-1.7.8-2.2.5-.5 1.2-.8 2-.8 1.2 0 2.1.4 2.6 1.4z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1"><title>Credit must be given to the creator</title><path d="M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.8-1.7-2.8-4-2.8-6.7s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4zm2.6 5.6v4h-1.1v4.7h-3v-4.7H9.4v-4c0-.2.1-.3.2-.4.1-.2.2-.2.4-.2h4c.2 0 .3.1.4.2.2.1.2.2.2.4zm-4-2.5c0-.9.5-1.4 1.4-1.4s1.4.5 1.4 1.4c0 .9-.5 1.4-1.4 1.4s-1.4-.5-1.4-1.4z"></path></svg></a><a href="https://en.wikipedia.org/wiki/Open_access" target="_blank" rel="noopener noreferrer" title="Open Access" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="mr-1 inline-block opacity-60 hover:opacity-100 hover:text-[#E18435]"><path d="M17.1 12.6h-2V7.5c0-1.7-1.4-3.1-3-3.1-.8 0-1.6.3-2.2.9-.6.5-.9 1.3-.9 2.2v.7H7v-.7c0-1.4.5-2.7 1.5-3.7s2.2-1.5 3.6-1.5 2.6.5 3.6 1.5 1.5 2.3 1.5 3.7v5.1z"></path><path d="M12 21.8c-.8 0-1.6-.2-2.3-.5-.7-.3-1.4-.8-1.9-1.3-.6-.6-1-1.2-1.3-2-.3-.8-.5-1.6-.5-2.4s.2-1.6.5-2.4c.3-.7.7-1.4 1.3-2s1.2-1 1.9-1.3c.7-.3 1.5-.5 2.3-.5.8 0 1.6.2 2.3.5.7.3 1.4.8 1.9 1.3.6.6 1 1.2 1.3 2 .3.8.5 1.6.5 2.4s-.2 1.6-.5 2.4c-.3.7-.7 1.4-1.3 2-.6.6-1.2 1-1.9 1.3-.7.3-1.5.5-2.3.5zm0-10.3c-2.2 0-4 1.8-4 4.1s1.8 4.1 4 4.1 4-1.8 4-4.1-1.8-4.1-4-4.1z"></path><circle cx="12" cy="15.6" r="1.7"></circle></svg></a><a href="https://github.com/openradar/erad2024" title="GitHub Repository: openradar/erad2024" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rd4fop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">PyDDA tutorial</h1><header class="mt-4 not-prose"><div><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rhkfop:" data-state="closed">Alfonso Ladino</button><a class="ml-1" href="https://orcid.org/0000-0001-8081-7827" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rikfop:" data-state="closed">Anna del Moral Méndez</button><a class="ml-1" href="https://orcid.org/0000-0002-5015-840X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rjkfop:" data-state="closed">Brenda Javornik</button></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rkkfop:" data-state="closed">Daniel Michelson</button><a class="ml-1" href="https://orcid.org/0000-0003-3222-9881" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rlkfop:" data-state="closed">Daniel Wolfensberger</button></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rmkfop:" data-state="closed">Gionata Ghiggi</button><a class="ml-1" href="https://orcid.org/0000-0002-0818-0865" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rnkfop:" data-state="closed">Jen DeHart</button><a class="ml-1" href="https://orcid.org/0000-0001-8536-4927" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rokfop:" data-state="closed">Jordi Figueras i Ventura</button><a class="ml-1" href="https://orcid.org/0000-0002-4949-422X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rpkfop:" data-state="closed">Julian Giles</button><a class="ml-1" href="https://orcid.org/0000-0001-8134-008X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rqkfop:" data-state="closed">Kai Mühlbauer</button><a class="ml-1" href="https://orcid.org/0000-0001-6599-1034" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rrkfop:" data-state="closed">Maxwell Grover</button><a class="ml-1" href="https://orcid.org/0000-0002-0370-8974" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rskfop:" data-state="closed">Mike Dixon</button><a class="ml-1" href="https://orcid.org/0000-0002-9597-9113" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rtkfop:" data-state="closed">Robert Jackson</button><a class="ml-1" href="https://orcid.org/0000-0003-2518-1234" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rukfop:" data-state="closed">Scott Collis</button><a class="ml-1" href="https://orcid.org/0000-0002-2303-687X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rvkfop:" data-state="closed">Ting-Yu Cha</button><a class="ml-1" href="https://orcid.org/0000-0002-6292-8483" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span></div></header></div><div class="block my-10 lg:sticky lg:top-0 lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:93px"><nav></nav></div><div class="sticky top-[60px] flex justify-end w-full z-20 pointer-events-none"><div class="flex p-1 m-1 space-x-1 border rounded-full shadow pointer-events-auto border-stone-300 bg-white/80 dark:bg-stone-900/80 backdrop-blur"><div class="rounded"><button class="flex text-center rounded-full cursor-pointer text-stone-800 dark:text-white hover:opacity-100 opacity-60" aria-label="start compute environment"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="inline-block w-6 h-6 align-top"><title>enable compute</title><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1012.728 0M12 3v9"></path></svg></button></div></div></div><div id="skip-to-article"></div><div id="zOkVqqwBTS" class="relative group/block article-grid subgrid-gap col-screen"><img id="zEOHpB60jh" style="margin:0 auto" src="/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png" alt="PyDDA logo" data-canonical-url="https://openradarscience.org/PyDDA/_images/logo.png"/><p>PyDDA is an open source Python package for retrieving winds using Multiple Doppler analyses. It uses the 3D variational technique for retrieving winds from multiple Doppler radars. It uses Py-ART Grid Objects as inputs. Therefore, preprocessed and gridded data are needed for PyDDA to run.</p><h2 id="id-3d-variational-technique" class="relative group"><span class="heading-text">3D variational technique</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3d-variational-technique" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>PyDDA uses a 3D variational technique to retrieve the 3D wind field. We will leave students that are interested in more information about these technqiues two references to read at the end of this notebook. A basic introduction to 3D variational analysis is given here.</p><p>PyDDA minimizes a cost function <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span></span></span></span></span> that corresponds to various penalties including:</p><p><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mi>m</mi></msub><mo>=</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">J_{m} = \nabla \cdot V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">∇</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span> which corresponds to the mass continuity equation.</p><p><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mi>o</mi></msub><mo>=</mo></mrow><annotation encoding="application/x-tex">J_{o} = </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span></span> RMSE between radar winds and analysis winds.</p><p><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mi>b</mi></msub><mo>=</mo></mrow><annotation encoding="application/x-tex">J_{b} = </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span></span> RMSE between sounding winds and analysis winds.</p><p><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mi>s</mi></msub><mo>=</mo><msup><mi mathvariant="normal">∇</mi><mn>2</mn></msup><mi>V</mi></mrow><annotation encoding="application/x-tex">J_{s} = \nabla^2 V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span> which corresponds to the smoothness of wind field to eliminate high-frequency noise that can result from numerical instability.</p><p>The cost function to be minimized is a weighted sum of the various cost functions in PyDDA and are represented in Equation (1):</p><p>$J = c_{m}J_{m} + c_{o}J_{o} + c_{b}J_{b} + c_{s}J_{s} + ...$ (1)</p><h3 id="references" class="relative group"><span class="heading-text">References</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#references" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="p6rZ1KdA6p" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="imports" class="relative group"><span class="heading-text">Imports</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#imports" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Let’s import the necessary libraries. For now, we’ll need PyART, glob, matplotlib, and PyDDA.</p></div><div id="S0Y93UUU5h" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">import glob

import pyart
import matplotlib.pyplot as plt
import pydda
import warnings
import numpy as np
import pandas as pd
import fsspec
import cartopy.crs as ccrs

warnings.filterwarnings(&quot;ignore&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="yma9OE2dRYb1KJX-NWp3g" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="MSzZ7EW1lS" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="case-study" class="relative group"><span class="heading-text">Case study</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#case-study" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will examine the same case study over Italy that has been used for this entire short course. For this case in May 2024, we had weak convective cells in the region of</p><p>For this case, we had coverage of the storm from two radars, a MeteoSwiss C-band radar near Monte Lema, CH and an X-band radar from ARPA Lombardia located about 50 km away in Milano, IT.</p></div><div id="cYISariIvH" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="c-band-radar" class="relative group"><span class="heading-text">C-band Radar</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#c-band-radar" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We need to load and preprocess the C-band radar data first. In order to do so, we first need to load the MeteoSwiss C-band radar file.</p></div><div id="dVrCecf8E7" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Set the URL and path for the cloud
URL = &quot;https://js2.jetstream-cloud.org:8001/&quot;
path = f&quot;pythia/radar/erad2024&quot;


fs = fsspec.filesystem(&quot;s3&quot;, anon=True, client_kwargs=dict(endpoint_url=URL))

fs.glob(f&quot;{path}/*&quot;)

files = fs.glob(&quot;pythia/radar/erad2024/dda_data/*&quot;)
local_files = [
    fsspec.open_local(
        f&quot;simplecache::{URL}{i}&quot;, s3={&quot;anon&quot;: True}, filecache={&quot;cache_storage&quot;: &quot;.&quot;}
    )
    for i in files
]

radar = pyart.io.read(local_files[1])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="mpbLWFQHCYZhv9dlcBPkV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="NYdK4OvpFm" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">radar.info()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="sxkKcluh0hDvTmGhSn4JD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ycw5nj312F" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="dealiasing" class="relative group"><span class="heading-text">Dealiasing</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#dealiasing" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The next step is to dealias the radar data. We will follow the steps that were shown eariler in this course to dealias the radar data. Dealiasing is covered in detail in the <a target="_blank" href="https://projectpythia.org/radar-cookbook/notebooks/foundations/pyart-corrections.html" rel="noreferrer">Radar Cookbook</a>.</p></div><div id="ROimJQ0Aed" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">nyquist = radar.instrument_parameters[&quot;nyquist_velocity&quot;][&quot;data&quot;][0]
vel_dealias = pyart.correct.dealias_region_based(
    radar,
    vel_field=&quot;velocity&quot;,
    nyquist_vel=nyquist,
    centered=True,
)
radar.add_field(&quot;corrected_velocity&quot;, vel_dealias, replace_existing=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="0hzw_soRq8O50TEgJ4oCS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="C5pfGdEEVp" class="relative group/block article-grid subgrid-gap col-screen"><p>Plot the data to make sure dealiasing succeeded.</p></div><div id="SE1s8Pyia5" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">display = pyart.graph.RadarDisplay(radar)
display.plot(&quot;reflectivity&quot;, vmin=-20, vmax=70, cmap=&quot;pyart_ChaseSpectral&quot;, sweep=0)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="aP2OkDcwpNMgesWmUfyTP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="OEdDvPlOtL" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">display = pyart.graph.RadarDisplay(radar)
display.plot(&quot;corrected_velocity&quot;, vmin=-30, vmax=30, cmap=&quot;twilight_shifted&quot;, sweep=0)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Y-feeaRkfVfbkE8aZn5v_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="NM65zLMZ50" class="relative group/block article-grid subgrid-gap col-screen"><p>Some regions did not dealias correctly, like in the region around (-100 km, -100 km) where gate-to-gate shear exceeds the Nyquist interval in the absence of . The region-based algorithm is very sensitive to speckles that are present in the above image. Let’s despeckle the above radar data to remove some artifacts.</p></div><div id="X3y0Ur9I8c" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">gatefilter = pyart.filters.GateFilter(radar)
gatefilter.exclude_above(&quot;spectrum_width&quot;, 7)
# gatefilter.exclude_below(&#x27;cross_correlation_ratio&#x27;, 0.8)
gatefilter = pyart.correct.despeckle_field(
    radar, &quot;reflectivity&quot;, gatefilter=gatefilter, size=36
)
display = pyart.graph.RadarDisplay(radar)
display.plot(
    &quot;reflectivity&quot;,
    vmin=-20,
    vmax=70,
    gatefilter=gatefilter,
    cmap=&quot;pyart_ChaseSpectral&quot;,
    sweep=0,
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="pOYrCCxNLKYdf_Z6O4gN0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="g8I4RHYu4h" class="relative group/block article-grid subgrid-gap col-screen"><p>Let’s also tweak the settings of the region based dealiasing. Currently, the dealiasing will attempt to dealias regions that are separated by 100 masked gates in the radial. We will disable this feature by setting <code>skip_between_rays</code> to 0 so that all dealiasing across filtered gates along the azimuth is disabled.</p></div><div id="wwieDzSaTZ" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">nyquist = radar.instrument_parameters[&quot;nyquist_velocity&quot;][&quot;data&quot;][0]
vel_dealias = pyart.correct.dealias_region_based(
    radar,
    vel_field=&quot;velocity&quot;,
    nyquist_vel=nyquist,
    gatefilter=gatefilter,
    centered=True,
    skip_between_rays=0,
)
radar.add_field(&quot;corrected_velocity&quot;, vel_dealias, replace_existing=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="b3j5Jk5WHh2dfXx_D4Q4j" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="xebfIIamR6" class="relative group/block article-grid subgrid-gap col-screen"><p>Let’s plot all of the sweeps to make sure dealiasing worked correctly.
A good indicator of checking this is to check if there are discontinuities in the radial velocities between sweeps on the order of the Nyquist velocity. If there are such discontinuties, further tweaking of the parameters or grounding the retrieval to a sounding may be needed. Using these parameters, the above example radar data is properly dealiased.</p></div><div id="HkTkwfsF7M" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">display = pyart.graph.RadarDisplay(radar)
fig, ax = plt.subplots(4, 5, figsize=(15, 10))
for i in range(radar.nsweeps):
    display.plot(
        &quot;corrected_velocity&quot;,
        vmin=-30,
        vmax=30,
        cmap=&quot;twilight_shifted&quot;,
        sweep=i,
        colorbar_label=&quot;m/s&quot;,
        ax=ax[int(i / 5), i % 5],
    )
    ax[int(i / 5), i % 5].set_title(&quot;%2.1f deg&quot; % radar.fixed_angle[&quot;data&quot;][i])
    ax[int(i / 5), i % 5].set_xlabel(&quot;X [km]&quot;)
    ax[int(i / 5), i % 5].set_ylabel(&quot;Y [km]&quot;)
fig.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="-auBFm00kFMe5cle_42se" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GWgRLBCQ5l" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">pyart.io.write_cfradial(&quot;MonteLema.20240522.151606_dealiased.nc&quot;, radar)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ijSBU55HjrReG4kNJTZlC" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="LImsSImTNW" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="gridding" class="relative group"><span class="heading-text">Gridding</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#gridding" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>PyDDA requires data to be gridded to Cartesian coordinates in order to retrieve the 3D wind fields. Therefore, we will use Py-ART’s <em>grid_from_radars</em> function in order to do the gridding. You usually want to have a grid resolution such that your features of interest are covered by four grid points. In this case, we’re at 1 km horizontal and 0.5 km vertical resolution. For more information on gridding with Py-ART, see the <a target="_blank" href="https://projectpythia.org/radar-cookbook/notebooks/foundations/pyart-gridding.html" rel="noreferrer">Radar Cookbook</a>.</p></div><div id="MK45xh7q09" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">grid_limits = ((0.0, 15000.0), (-100_000.0, 100_000.0), (-100_000.0, 100_000.0))
grid_shape = (31, 201, 201)
radar.fields[&quot;corrected_velocity&quot;][&quot;data&quot;] = np.ma.masked_where(
    gatefilter.gate_excluded, radar.fields[&quot;corrected_velocity&quot;][&quot;data&quot;]
)
radar.fields[&quot;reflectivity&quot;][&quot;data&quot;] = np.ma.masked_where(
    gatefilter.gate_excluded, radar.fields[&quot;reflectivity&quot;][&quot;data&quot;]
)

cband_grid = pyart.map.grid_from_radars(
    [radar], grid_limits=grid_limits, grid_shape=grid_shape
)
cband_ds = cband_grid.to_xarray()
cband_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="A0XCKkWK5LMA1CYNmAHNu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bJH2RNseBP" class="relative group/block article-grid subgrid-gap col-screen"><p>Let’s make sure the grid looks good!</p></div><div id="ttb0QY8o1c" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">cband_ds.isel(z=1).reflectivity.plot(
    x=&quot;lon&quot;, y=&quot;lat&quot;, vmin=-20, vmax=70, cmap=&quot;pyart_ChaseSpectral&quot;
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="mnsIG4zwZg2wNAd7ZVmKf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="JZQSw1S9W5" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">cband_ds.isel(y=35).reflectivity.plot(
    x=&quot;x&quot;, y=&quot;z&quot;, vmin=-20, vmax=70, cmap=&quot;pyart_ChaseSpectral&quot;
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="2ZPRiRNQJZp3ent2F3Elf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="muK4SApIx3" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="x-band-data" class="relative group"><span class="heading-text">X-band Data</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#x-band-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Next, we need to load the X-band radar data from the archive.</p></div><div id="bDrZvaGags" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">radar_xband = pyart.io.read(local_files[0])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="KEvbaUV3deMEUvDj2j3Qf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="mFkwzk60Vh" class="relative group/block article-grid subgrid-gap col-screen"><p>Read a single file, the one closes to the UAH volume scan used before</p></div><div id="A7yMyeHR3q" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">radar.info()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="R1Xy8Ghy6Gk5Bdv4HyQaz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="OcLezON6w0" class="relative group/block article-grid subgrid-gap col-screen"><p>Visualize the data to make sure we have the correct scan.</p></div><div id="u0SJuUUQbf" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">display = pyart.graph.RadarDisplay(radar_xband)
display.plot(&quot;DBZ&quot;, vmin=0, vmax=70, cmap=&quot;pyart_ChaseSpectral&quot;, sweep=0)
plt.ylim(-100, 100)
plt.xlim(-100, 100)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="HdZyckjBGaWINSHT904eU" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="u9QSRb5bxh" class="relative group/block article-grid subgrid-gap col-screen"><p>The X-band radar data also need to be dealiased. We will still need to filter out the noise in the above radar data.</p></div><div id="IdX8SKpbC3" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Use the C-band radar lat/lon as the center for the grid

gatefilter = pyart.filters.GateFilter(radar_xband)
gatefilter.exclude_above(&quot;WIDTH&quot;, 7)
gatefilter.exclude_below(&quot;RHOHV&quot;, 0.8)
gatefilter = pyart.correct.despeckle_field(
    radar_xband, &quot;DBZ&quot;, gatefilter=gatefilter, size=100
)
vel_dealias = pyart.correct.dealias_region_based(
    radar_xband,
    vel_field=&quot;VEL&quot;,
    nyquist_vel=nyquist,
    centered=True,
    skip_between_rays=0,
    skip_along_ray=0,
    interval_splits=3,
)
radar_xband.add_field(&quot;corrected_velocity&quot;, vel_dealias, replace_existing=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="lzdV8PPR24OvY0dSCVKsL" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="UxgPR64TJt" class="relative group/block article-grid subgrid-gap col-screen"><p>Let’s view the sweeps to make sure that dealiasing is working correctly.</p></div><div id="BAVe9XFr28" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">display = pyart.graph.RadarDisplay(radar_xband)
fig, ax = plt.subplots(2, 4, figsize=(15, 5))
for i in range(radar_xband.nsweeps):
    display.plot(
        &quot;corrected_velocity&quot;,
        vmin=-30,
        vmax=30,
        cmap=&quot;twilight_shifted&quot;,
        sweep=i,
        colorbar_label=&quot;m/s&quot;,
        ax=ax[int(i / 4), i % 4],
    )
    ax[int(i / 4), i % 4].set_title(&quot;%2.1f deg&quot; % radar.fixed_angle[&quot;data&quot;][i])
    ax[int(i / 4), i % 4].set_xlabel(&quot;X [km]&quot;)
    ax[int(i / 4), i % 4].set_ylabel(&quot;Y [km]&quot;)
fig.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="j9GnI_44JvIq0iA8DM44r" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Z1yxQNdzEA" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">pyart.io.write_cfradial(&quot;ARPA_Lombardia.20240522.151546_dealiased.nc&quot;, radar_xband)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="JkUsTzpdyzvoTQeMv8bgI" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="pBfW0gxpWI" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">grid_lat = radar.latitude[&quot;data&quot;][0]
grid_lon = radar.longitude[&quot;data&quot;][0]
xband_grid = pyart.map.grid_from_radars(
    [radar_xband],
    grid_limits=grid_limits,
    grid_shape=grid_shape,
    grid_origin=(grid_lat, grid_lon),
)

# Convert to xarray and remove the time dimension
xband_ds = xband_grid.to_xarray().squeeze()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="fu__VLRBgxxd9LM1mBSX9" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bvVE1JX2ty" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="visualize-the-grids" class="relative group"><span class="heading-text">Visualize the grids</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#visualize-the-grids" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Let’s see what our output data looks like!</p></div><div id="QVjOfOKWCV" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">xband_ds.DBZ.isel(z=1).plot(x=&quot;lon&quot;, y=&quot;lat&quot;, cmap=&quot;Spectral_r&quot;, vmin=-20, vmax=50)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="iJs5p4S_kaqNNkzPXd-Vz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="XfKJAfwDRy" class="relative group/block article-grid subgrid-gap col-screen"><p>Velocities look good!</p></div><div id="VufiWsjruP" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">xband_ds.corrected_velocity.isel(z=4).plot(
    x=&quot;lon&quot;, y=&quot;lat&quot;, cmap=&quot;twilight_shifted&quot;, vmin=-30, vmax=30
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="9Jo0o5uspXVX8k7x1IdlK" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="XmLTbBULs3" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">xband_ds.corrected_velocity.isel(y=55).plot(
    x=&quot;x&quot;, y=&quot;z&quot;, cmap=&quot;twilight_shifted&quot;, vmin=-20, vmax=20
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="5y-rf3DR2mXmYNlZZoi78" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="EwdlFva3AH" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="pydda-initialization" class="relative group"><span class="heading-text">PyDDA initialization</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pydda-initialization" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The 3DVAR wind retrieval first requires an initial guess at the wind field in order to start the cost function minimization process. PyDDA has support for using WRF and sounding data as an initial guess of the wind field as well as constant wind fields.</p><table><tbody><tr><th class="">Initalization functions in <strong>pydda.initialization</strong> module:</th><th class="">Functionality</th></tr><tr><td class="">make_constant_wind_field(Grid[, wind, vel_field])</td><td class="">This function makes a constant wind field given a wind vector</td></tr><tr><td class="">make_wind_field_from_profile(Grid, profile)</td><td class="">This function makes a 3D wind field from a sounding.</td></tr><tr><td class="">make_background_from_wrf(Grid, file_path, ...)</td><td class="">This function makes an initalization field based off of the u and w from a WRF run.</td></tr><tr><td class="">make_initialization_from_era_interim(Grid[, ...])</td><td class="">This function will read ERA Interim in NetCDF format and add it to the Py-ART grid specified by Grid.</td></tr></tbody></table><p>For this example, using a zero initialization field is sufficient to create an accurate representation of the wind field. Depending on your radar set up, you may need to adjust the input initial wind field to avoid artifacts at the edges of the multi-Doppler lobes.</p></div><div id="egwrqAFLuQ" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">cband_ds = pydda.io.read_from_pyart_grid(cband_grid)
xband_ds = pydda.io.read_from_pyart_grid(xband_grid)
cband_ds = pydda.initialization.make_constant_wind_field(
    cband_ds, (0.0, 0.0, 0.0), &quot;velocity&quot;
)
xband_ds[&quot;reflectivity&quot;] = xband_ds[&quot;DBZ&quot;]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="-tqBoKFVhNcGkm02031b6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="v5QU1zeSoq" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="pydda-wind-retrieval" class="relative group"><span class="heading-text">PyDDA wind retrieval</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pydda-wind-retrieval" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The core wind retrieval function in PyDDA is done using <strong>retrieval.get_dd_wind_field</strong>. It has many potential keyword inputs that the user can enter. In this example, we are specifying:</p><table><tbody><tr><th class="">Input to <strong>pydda.initialization</strong> module:</th><th class="">Meaning</th><th class="">Value</th></tr><tr><td class="">Grids</td><td class="">The input grids to analyze.</td><td class="">[uah_grid, nexrad_grid]</td></tr><tr><td class="">u_init</td><td class="">Initial guess of <em>u</em> field.</td><td class="">u_init</td></tr><tr><td class="">v_init</td><td class="">Initial guess of <em>u</em> field.</td><td class="">v_init</td></tr><tr><td class="">w_init</td><td class="">Initial guess of <em>u</em> field.</td><td class="">w_init</td></tr><tr><td class="">Co</td><td class="">Weight for cost function related to radar observations</td><td class="">1.0</td></tr><tr><td class="">Cm</td><td class="">Weight of cost function related to mass continuity equation</td><td class="">256.0</td></tr><tr><td class="">Cx</td><td class="">Weight of cost function for smoothess in the <em>x</em>-direction</td><td class="">1e-3</td></tr><tr><td class="">Cy</td><td class="">Weight of cost function for smoothess in the <em>y</em>-direction</td><td class="">1e-3</td></tr><tr><td class="">Cz</td><td class="">Weight of cost function for smoothess in the <em>z</em>-direction</td><td class="">1e-3</td></tr><tr><td class="">Cb</td><td class="">Weight of cost function for sounding (background) constraint</td><td class="">0</td></tr><tr><td class="">frz</td><td class="">The freezing level in meters. This is to tell PyDDA where to use ice particle fall speeds in the wind retrieval verus liquid.</td><td class="">5000.</td></tr><tr><td class="">filter_window</td><td class="">The window to apply the low pass filter on</td><td class="">5</td></tr><tr><td class="">mask_outside_opt</td><td class="">Mask all winds outside the Dual Doppler lobes</td><td class="">True</td></tr><tr><td class="">vel_name</td><td class="">The name of the velocity field in the radar data</td><td class="">‘corrected_velocity’</td></tr><tr><td class="">wind_tol</td><td class="">Stop optimization when the change in wind speeds between iterations is less than this value</td><td class=""></td></tr><tr><td class="">engine</td><td class="">PyDDA supports three backends for optimization: SciPy, JAX, and TensorFlow.</td><td class="">“scipy”</td></tr></tbody></table></div><div id="DmCkB2J60N" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">grids, params = pydda.retrieval.get_dd_wind_field(
    [cband_ds, xband_ds],
    Co=1,
    Cm=1024.0,
    Cx=1e-2,
    Cy=1e-2,
    Cz=1e-2,
    frz=5000.0,
    mask_outside_opt=True,
    upper_bc=1,
    vel_name=&quot;corrected_velocity&quot;,
    wind_tol=0.5,
    engine=&quot;scipy&quot;,
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="2ha_DILI6HFKB6VPaLIqO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ei2tgRjd9i" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="visualize-the-results" class="relative group"><span class="heading-text">Visualize the results</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#visualize-the-results" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Let’s visualize the results. There are two ways in which this data can be visualized. One way is by using PyDDA’s visualization routines. You can also use xarray to visualize the output grids.</p></div><div id="Kgx5vJjghs" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds = grids[0]
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="suAzNbtTntX9wETNA5qPZ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="tES7uYNx3T" class="relative group/block article-grid subgrid-gap col-screen"><p>If you are not able to get the above example to run on your laptop, pre-generated grid files are available <a target="_blank" href="https://drive.google.com/drive/folders/1LmfJeiYHcC_NGWuNAW7gAPMUNp7Z4UZq?usp=sharing" rel="noreferrer">here</a>.</p></div><div id="zc1JUMZLIf" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds.reflectivity.sel(z=2000, method=&quot;nearest&quot;).plot(
    cmap=&quot;pyart_ChaseSpectral&quot;, vmin=-10, vmax=60
)
ds.isel(time=0).sel(z=2000, method=&quot;nearest&quot;).w.plot.contour(
    x=&quot;x&quot;, y=&quot;y&quot;, levels=np.arange(1, 5, 1)
)
plt.xlim([-50000, 25000])
plt.ylim([-100000, -25000])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="qPVug9q34PN8fn3pWt31r" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="YVSE3IPUVe" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="saving-the-grids" class="relative group"><span class="heading-text">Saving the grids</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#saving-the-grids" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="uTSww0CqYE" class="relative group/block article-grid subgrid-gap col-screen"><p>We can save the grids using either <em>xarray</em>’s or Py-ART’s functionality. To save the output grids,  use <em>pyart.io.write_grid</em> (PyART) functions. For example:</p></div><div id="hzC9xCtUIE" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Keep these lines if we can&#x27;t update PyDDA in time for ERAD
# grids[0].attrs[&quot;radar_name&quot;] = &quot;C-band&quot;
# del grids[0][&quot;time&quot;].attrs[&quot;units&quot;]
# grids[1].attrs[&quot;radar_name&quot;] = &quot;X-band&quot;
# del grids[1][&quot;time&quot;].attrs[&quot;units&quot;]
#
grids[0].to_netcdf(&quot;output_grid_Cband.nc&quot;)
grids[1].to_netcdf(&quot;output_grid_Xband.nc&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="5GCFHaB_OoXoIQiViGg_H" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="hzBEYaXkHu" class="relative group/block article-grid subgrid-gap col-screen"><p>In order to load the grids again, we can just use PyART’s <em>pyart.io.read_grid</em> procedure.</p></div><div id="PmWBfzpJkf" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># For live demos, load these since retrieval takes about 7 minutes
grids = [
    pydda.io.read_grid(&quot;output_grid_Cband.nc&quot;),
    pydda.io.read_grid(&quot;output_grid_Xband.nc&quot;),
]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="D5THlycfX1j6I2wseEqH5" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="x4pC7G4ZHh" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="pydda-visualization-routines" class="relative group"><span class="heading-text">PyDDA visualization routines</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pydda-visualization-routines" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>PyDDA’s visualization routines support the native PyART grids that are output by PyDDA. These routines have an advantage over xarray’s plotting routines for adjusting your barb and quiver size by specifying their using parameters that are in scales of kilometers. This makes it easier to plot barb and quiver plots compared to using xarray’s functionality.</p><p>For example, the documentation for <em>pydda.vis.plot_horiz_xsection_quiver</em> is given below.</p></div><div id="kvt1fsxU3N" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">?pydda.vis.plot_horiz_xsection_quiver</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="TBuBNg--hp7-8hdNYWXau" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="AjKVE8CO4V" class="relative group/block article-grid subgrid-gap col-screen"><p>PyDDA has the following visualization routines for your sets of grids:</p><table><tbody><tr><th class="">Procedure</th><th class="">Description</th></tr><tr><td class="">plot_horiz_xsection_barbs(Grids[, ax, ...])</td><td class="">Horizontal cross section of winds from wind fields generated by PyDDA using barbs.</td></tr><tr><td class="">plot_xz_xsection_barbs(Grids[, ax, ...])</td><td class="">Cross section of winds from wind fields generated by PyDDA in the X-Z plane using barbs.</td></tr><tr><td class="">plot_yz_xsection_barbs(Grids[, ax, ...])</td><td class="">Cross section of winds from wind fields generated by PyDDA in the Y-Z plane using barbs.</td></tr><tr><td class="">plot_horiz_xsection_barbs_map(Grids[, ax, ...])</td><td class="">Horizontal cross section of winds from wind fields generated by PyDDA onto a geographical map using barbs.</td></tr><tr><td class="">plot_horiz_xsection_streamlines(Grids[, ax, ...])</td><td class="">Horizontal cross section of winds from wind fields generated by PyDDA using streamlines.</td></tr><tr><td class="">plot_xz_xsection_streamlines(Grids[, ax, ...])</td><td class="">Cross section of winds from wind fields generated by PyDDA in the X-Z plane using streamlines.</td></tr><tr><td class="">plot_yz_xsection_streamlines(Grids[, ax, ...])</td><td class="">Cross section of winds from wind fields generated by PyDDA in the Y-Z plane using streamlines.</td></tr><tr><td class="">plot_horiz_xsection_streamlines_map(Grids[, ...])</td><td class="">Horizontal cross section of winds from wind fields generated by PyDDA using streamlines.</td></tr><tr><td class="">plot_horiz_xsection_quiver(Grids[, ax, ...])</td><td class="">Horizontal cross section of winds from wind fields generated by PyDDA using quivers.</td></tr><tr><td class="">plot_xz_xsection_quiver(Grids[, ax, ...])</td><td class="">Cross section of winds from wind fields generated by PyDDA in the X-Z plane using quivers.</td></tr><tr><td class="">plot_yz_xsection_quiver(Grids[, ax, ...])</td><td class="">Cross section of winds from wind fields generated by PyDDA in the Y-Z plane using quivers.</td></tr><tr><td class="">plot_horiz_xsection_quiver_map(Grids[, ax, ...])</td><td class="">Horizontal cross section of winds from wind fields generated by PyDDA using quivers onto a geographical map.</td></tr></tbody></table></div><div id="DSTwc3GbvR" class="relative group/block article-grid subgrid-gap col-screen"><p>Let’s show a quiver plot of this storm!</p><p>We have specified the quivers to be 4 km apart and moved the key to the bottom right with the specific length indicating 20 m/s winds. Let’s look at the 3 km level.</p></div><div id="LmXguRmzJH" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(1, 1, figsize=(6, 6))
pydda.vis.plot_horiz_xsection_quiver(
    grids,
    quiver_spacing_x_km=2.5,
    quiver_spacing_y_km=2.5,
    quiver_width=0.005,
    vmax=60,
    quiverkey_len=10.0,
    w_vel_contours=np.arange(1, 5, 1),
    level=4,
    cmap=&quot;pyart_ChaseSpectral&quot;,
    ax=ax,
    quiverkey_loc=&quot;bottom_right&quot;,
)
plt.xlim([-75, 25])
plt.ylim([-100, -25])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="L55PXAj7SpKzB5SnAriNd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="XQIZKtANlf" class="relative group/block article-grid subgrid-gap col-screen"><p>We can zoom in and modify the plot using standard matplotlib functions on the axis handle.</p><p>It is much easier to see updrafts being placed just to the outside of the strongest precipitation, with potential new growth in the north of the domain with updraft velocities &gt; 7 m/s. The precipitation is downwind of the updraft as we would expect.</p><p>Updrafts are right tilted due to the horizontal wind shear. The horizontal wind shear also causes the most intense precipitation to be downshear of the updraft. This therefore shows us that we have a good quality wind retrieval below about 5 km in altitude.</p></div><div id="NaeM1vC2e3" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(1, 1, figsize=(6, 4))
pydda.vis.plot_xz_xsection_quiver(
    grids,
    quiver_spacing_x_km=2.0,
    quiver_spacing_z_km=1.0,
    quiver_width=0.005,
    quiverkey_len=10.0,
    w_vel_contours=np.arange(1, 5, 1),
    level=37,
    cmap=&quot;pyart_ChaseSpectral&quot;,
    ax=ax,
    quiverkey_loc=&quot;top_right&quot;,
)
ax.set_xlim([-75, -25])
ax.set_ylim([0, 13])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="1KTxcr2zTrpY9o_N43IpU" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="fUV21clRKh" class="relative group/block article-grid subgrid-gap col-screen"><p>Let’s view a horizontal cross section with barbs!</p></div><div id="KySJ0x94Yr" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(1, 1, figsize=(6, 6))
pydda.vis.plot_horiz_xsection_barbs(
    grids,
    barb_spacing_x_km=6.0,
    barb_spacing_y_km=6.0,
    w_vel_contours=np.arange(1, 10, 1),
    level=6,
    cmap=&quot;pyart_ChaseSpectral&quot;,
    ax=ax,
)
# ax.set_xlim([-60, 0])
# ax.set_ylim([0, 70])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Aac0OaO2XINoaGQGSmgPc" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="xmClyLKGKU" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">cband_ds[&quot;time&quot;][0].dt.year.values</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="FlT6vN40FgEdpL_Kybs0D" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/erad2024/environment"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">Notebook Environment</div>Environment overview</div></div></a></div></main></article><script>((o,u)=>{if(!window.history.state||!window.history.state.key){let f=Math.random().toString(32).slice(2);window.history.replaceState({key:f},"")}try{let d=JSON.parse(sessionStorage.getItem(o)||"{}")[u||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(f){console.error(f),sessionStorage.removeItem(o)}})("positions", null)</script><link rel="modulepreload" href="/erad2024/build/entry.client-K6EYMIDZ.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-FBLNPC3V.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-XJN3BT5Q.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-RE6LVKIZ.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-YAIQ7LUU.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-HTHE5KDW.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-AAPZCWUN.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-QB27XQSF.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-JOLZ6LZB.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-MITWS4PZ.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-EEG6LHX7.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-TEYZXLTV.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/erad2024/build/root-ZSMPVWLZ.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-OCW4QGPJ.js"/><link rel="modulepreload" href="/erad2024/build/routes/$-OW6NTZY2.js"/><script>window.__remixContext = {"url":"/retrieving-winds-with-pydda","state":{"loaderData":{"root":{"theme":"light","config":{"options":{"favicon":"/erad2024/build/favicon-012adb977e0747fc93abb0d9b08b0324.ico","logo":"/erad2024/build/erad_white_backgroun-51f2407d1c747f6191e0f6d0eb7a5d28.png","logo_dark":"/erad2024/build/erad_white_backgroun-51f2407d1c747f6191e0f6d0eb7a5d28.png"},"myst":"1.3.3","nav":[{"title":"Conference Home","url":"https://www.erad2024.it"},{"title":"Open Radar Community","url":"https://openradarscience.org"}],"actions":[{"title":"Launch Environment","url":"https://binder.projectpythia.org/v2/gh/openradar/erad2024/main?labpath=notebooks","internal":false,"static":false}],"projects":[{"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"title":"ERAD 2024","authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"github":"https://github.com/openradar/erad2024","copyright":"2024","references":{"foundations":{"url":"https://projectpythia-mystmd.github.io/pythia-foundations"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"openradar/erad2024","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"notebooks/data-access/intro-data-access.ipynb"}],"title":"Data Access"},{"children":[{"children":[{"file":"notebooks/xradar-pyart/xradar-basics.ipynb"}],"title":"XRadar"},{"children":[{"file":"notebooks/xradar-pyart/pyart-basics.ipynb"}],"title":"Py-ART and wradlib"},{"children":[{"pattern":"notebooks/baltrad/baltrad_short_course/*.ipynb"},{"pattern":"notebooks/baltrad/pyart2baltrad/*.ipynb"},{"file":"notebooks/baltrad/baltrad2wradlib/baltrad2wradlib.ipynb"}],"title":"BALTRAD"},{"children":[{"file":"notebooks/lrose/lrose-introduction.ipynb"}],"title":"LROSE"}],"title":"Radar Software Foundations"},{"children":[{"file":"notebooks/environment"}],"title":"Notebook Environment"},{"children":[{"file":"notebooks/Retrieving_winds_with_pydda.ipynb"}],"title":"Retrieving winds with PyDDA"}],"thumbnail":"/erad2024/build/0885e6292c6be2fd643fbc952d479a01.jpeg","exports":[],"bibliography":[],"index":"readme","pages":[{"level":1,"title":"Preamble"},{"slug":"how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"/erad2024/build/72a08caa5cbe5f9cce5999dbd1a81dfd.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Data Access"},{"slug":"intro-data-access","title":"Data Access Instructions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Radar Software Foundations"},{"level":2,"title":"XRadar"},{"slug":"xradar-basics","title":"Xradar Basics","description":"","date":"","thumbnail":"/erad2024/build/xradar_logo-0f12356d8ddc75bce59d8eecc64cc837.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"Py-ART and wradlib"},{"slug":"pyart-basics","title":"Py-ART Basics with Xradar","description":"","date":"","thumbnail":"/erad2024/build/arm_logo-cf67145a355d1a26f5e011018f07f300.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"BALTRAD"},{"slug":"baltrad-io","title":"I/O model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-qc","title":"Quality Control","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-drqc","title":"Quality Control using DR","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-parallel-processing","title":"Parallel processing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-compositing","title":"Compositing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-pyart-rain-rate-example","title":"Rain Rate retrieval with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pyart-baltrad-dealias-example","title":"Doppler Velocity Dealiasing with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad2wradlib","title":"Attenuation correction comparison with wradlib","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"LROSE"},{"slug":"lrose-introduction","title":"LROSE Echo and Wind Retrieval Tutorial","description":"","date":"","thumbnail":"/erad2024/build/8ad65774263f4fd7856f5554d1df1971.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Notebook Environment"},{"slug":"environment","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Retrieving winds with PyDDA"},{"slug":"retrieving-winds-with-pydda","title":"PyDDA tutorial","description":"","date":"","thumbnail":"/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/erad2024"},"routes/$":{"config":{"options":{"favicon":"/erad2024/build/favicon-012adb977e0747fc93abb0d9b08b0324.ico","logo":"/erad2024/build/erad_white_backgroun-51f2407d1c747f6191e0f6d0eb7a5d28.png","logo_dark":"/erad2024/build/erad_white_backgroun-51f2407d1c747f6191e0f6d0eb7a5d28.png"},"myst":"1.3.3","nav":[{"title":"Conference Home","url":"https://www.erad2024.it"},{"title":"Open Radar Community","url":"https://openradarscience.org"}],"actions":[{"title":"Launch Environment","url":"https://binder.projectpythia.org/v2/gh/openradar/erad2024/main?labpath=notebooks","internal":false,"static":false}],"projects":[{"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"title":"ERAD 2024","authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"github":"https://github.com/openradar/erad2024","copyright":"2024","references":{"foundations":{"url":"https://projectpythia-mystmd.github.io/pythia-foundations"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"openradar/erad2024","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"notebooks/data-access/intro-data-access.ipynb"}],"title":"Data Access"},{"children":[{"children":[{"file":"notebooks/xradar-pyart/xradar-basics.ipynb"}],"title":"XRadar"},{"children":[{"file":"notebooks/xradar-pyart/pyart-basics.ipynb"}],"title":"Py-ART and wradlib"},{"children":[{"pattern":"notebooks/baltrad/baltrad_short_course/*.ipynb"},{"pattern":"notebooks/baltrad/pyart2baltrad/*.ipynb"},{"file":"notebooks/baltrad/baltrad2wradlib/baltrad2wradlib.ipynb"}],"title":"BALTRAD"},{"children":[{"file":"notebooks/lrose/lrose-introduction.ipynb"}],"title":"LROSE"}],"title":"Radar Software Foundations"},{"children":[{"file":"notebooks/environment"}],"title":"Notebook Environment"},{"children":[{"file":"notebooks/Retrieving_winds_with_pydda.ipynb"}],"title":"Retrieving winds with PyDDA"}],"thumbnail":"/erad2024/build/0885e6292c6be2fd643fbc952d479a01.jpeg","exports":[],"bibliography":[],"index":"readme","pages":[{"level":1,"title":"Preamble"},{"slug":"how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"/erad2024/build/72a08caa5cbe5f9cce5999dbd1a81dfd.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Data Access"},{"slug":"intro-data-access","title":"Data Access Instructions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Radar Software Foundations"},{"level":2,"title":"XRadar"},{"slug":"xradar-basics","title":"Xradar Basics","description":"","date":"","thumbnail":"/erad2024/build/xradar_logo-0f12356d8ddc75bce59d8eecc64cc837.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"Py-ART and wradlib"},{"slug":"pyart-basics","title":"Py-ART Basics with Xradar","description":"","date":"","thumbnail":"/erad2024/build/arm_logo-cf67145a355d1a26f5e011018f07f300.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"BALTRAD"},{"slug":"baltrad-io","title":"I/O model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-qc","title":"Quality Control","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-drqc","title":"Quality Control using DR","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-parallel-processing","title":"Parallel processing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-compositing","title":"Compositing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-pyart-rain-rate-example","title":"Rain Rate retrieval with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pyart-baltrad-dealias-example","title":"Doppler Velocity Dealiasing with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad2wradlib","title":"Attenuation correction comparison with wradlib","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"LROSE"},{"slug":"lrose-introduction","title":"LROSE Echo and Wind Retrieval Tutorial","description":"","date":"","thumbnail":"/erad2024/build/8ad65774263f4fd7856f5554d1df1971.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Notebook Environment"},{"slug":"environment","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Retrieving winds with PyDDA"},{"slug":"retrieving-winds-with-pydda","title":"PyDDA tutorial","description":"","date":"","thumbnail":"/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"kind":"Notebook","sha256":"10442bb96a6fa5ed02950c70338a2ae0534cf15c80f52dca01e1a78fff5e5042","slug":"retrieving-winds-with-pydda","location":"/notebooks/Retrieving_winds_with_pydda.ipynb","dependencies":[],"frontmatter":{"title":"PyDDA tutorial","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"github":"https://github.com/openradar/erad2024","copyright":"2024","abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"thumbnail":"/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png","exports":[{"format":"ipynb","filename":"Retrieving_winds_with_pydda.ipynb","url":"/erad2024/build/Retrieving_winds_wit-439481f7de0080fde03e515f1ae4f7dc.ipynb"}]},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"image","url":"/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png","alt":"PyDDA logo","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zEOHpB60jh","urlSource":"https://openradarscience.org/PyDDA/_images/logo.png"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"PyDDA is an open source Python package for retrieving winds using Multiple Doppler analyses. It uses the 3D variational technique for retrieving winds from multiple Doppler radars. It uses Py-ART Grid Objects as inputs. Therefore, preprocessed and gridded data are needed for PyDDA to run.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"lwdptqbaz3"}],"key":"NxnTRpN5vf"},{"type":"heading","depth":2,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"3D variational technique","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"wutCn7NFCU"}],"identifier":"id-3d-variational-technique","label":"3D variational technique","html_id":"id-3d-variational-technique","implicit":true,"key":"qssjr196F4"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"PyDDA uses a 3D variational technique to retrieve the 3D wind field. We will leave students that are interested in more information about these technqiues two references to read at the end of this notebook. A basic introduction to 3D variational analysis is given here.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"P0Xnki5p4X"}],"key":"UX8Cuq7F29"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"PyDDA minimizes a cost function ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"xwExXgYAjD"},{"type":"inlineMath","value":"J","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eJ\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eJ\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.09618em;\"\u003eJ\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"RYquWeR0vq"},{"type":"text","value":" that corresponds to various penalties including:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"L8Y8xuYvFo"}],"key":"OLbXIsrgLR"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"inlineMath","value":"J_{m} = \\nabla \\cdot V","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003eJ\u003c/mi\u003e\u003cmi\u003em\u003c/mi\u003e\u003c/msub\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmi mathvariant=\"normal\"\u003e∇\u003c/mi\u003e\u003cmo\u003e⋅\u003c/mo\u003e\u003cmi\u003eV\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eJ_{m} = \\nabla \\cdot V\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.09618em;\"\u003eJ\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.1514em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003em\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e∇\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e⋅\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.22222em;\"\u003eV\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"dylLeDKwR5"},{"type":"text","value":" which corresponds to the mass continuity equation.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"bacTLQANiO"}],"key":"DdSl0lYvBZ"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"inlineMath","value":"J_{o} = ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003eJ\u003c/mi\u003e\u003cmi\u003eo\u003c/mi\u003e\u003c/msub\u003e\u003cmo\u003e=\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eJ_{o} = \u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.09618em;\"\u003eJ\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.1514em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003eo\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"ZVfSedMVmV"},{"type":"text","value":" RMSE between radar winds and analysis winds.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"myI24JnUUZ"}],"key":"ZDQzedHZhF"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"inlineMath","value":"J_{b} = ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003eJ\u003c/mi\u003e\u003cmi\u003eb\u003c/mi\u003e\u003c/msub\u003e\u003cmo\u003e=\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eJ_{b} = \u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.09618em;\"\u003eJ\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3361em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003eb\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"NWtXvBsiU7"},{"type":"text","value":" RMSE between sounding winds and analysis winds.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"du0OP8zRhu"}],"key":"CnVXZY0Dkj"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"inlineMath","value":"J_{s} = \\nabla^2 V","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003eJ\u003c/mi\u003e\u003cmi\u003es\u003c/mi\u003e\u003c/msub\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmsup\u003e\u003cmi mathvariant=\"normal\"\u003e∇\u003c/mi\u003e\u003cmn\u003e2\u003c/mn\u003e\u003c/msup\u003e\u003cmi\u003eV\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eJ_{s} = \\nabla^2 V\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.09618em;\"\u003eJ\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.1514em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003es\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8141em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e∇\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.8141em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.22222em;\"\u003eV\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"ZL42jKIMvu"},{"type":"text","value":" which corresponds to the smoothness of wind field to eliminate high-frequency noise that can result from numerical instability.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"GP4dTvJvmk"}],"key":"ZEQ4e10pMn"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"The cost function to be minimized is a weighted sum of the various cost functions in PyDDA and are represented in Equation (1):","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"f8qtaPgDqT"}],"key":"WypzHc0ZGN"},{"type":"paragraph","children":[{"type":"text","value":"$J = c_{m}J_{m} + c_{o}J_{o} + c_{b}J_{b} + c_{s}J_{s} + ...$ (1)","key":"YDxUrIBjwK"}],"key":"kUHs9wYmUs"},{"type":"heading","depth":3,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"bmOxNJhrBC"}],"identifier":"references","label":"References","html_id":"references","implicit":true,"key":"ZWC4QkPEV3"}],"key":"zOkVqqwBTS"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OBl3lZ6H9b"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"H7eh5iamqi"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s import the necessary libraries. For now, we’ll need PyART, glob, matplotlib, and PyDDA.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vykqkQ99OO"}],"key":"ELci5BD2fw"}],"key":"p6rZ1KdA6p"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import glob\n\nimport pyart\nimport matplotlib.pyplot as plt\nimport pydda\nimport warnings\nimport numpy as np\nimport pandas as pd\nimport fsspec\nimport cartopy.crs as ccrs\n\nwarnings.filterwarnings(\"ignore\")","key":"HD2jQUxNk6"},{"type":"output","id":"yma9OE2dRYb1KJX-NWp3g","data":[],"key":"UjCd4EAVPq"}],"key":"S0Y93UUU5h"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Case study","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KjO7P4H6rv"}],"identifier":"case-study","label":"Case study","html_id":"case-study","implicit":true,"key":"UjE2fcVxlC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We will examine the same case study over Italy that has been used for this entire short course. For this case in May 2024, we had weak convective cells in the region of","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SzQvx55cYW"}],"key":"xZl3Xs38RJ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"For this case, we had coverage of the storm from two radars, a MeteoSwiss C-band radar near Monte Lema, CH and an X-band radar from ARPA Lombardia located about 50 km away in Milano, IT.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"TIcqnzmdu6"}],"key":"tiTpVxBL52"}],"key":"MSzZ7EW1lS"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"C-band Radar","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EVpYwe4bgY"}],"identifier":"c-band-radar","label":"C-band Radar","html_id":"c-band-radar","implicit":true,"key":"g8RxiKsXQJ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We need to load and preprocess the C-band radar data first. In order to do so, we first need to load the MeteoSwiss C-band radar file.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"l6y1Q3pwSH"}],"key":"SqaPEFShrR"}],"key":"cYISariIvH"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set the URL and path for the cloud\nURL = \"https://js2.jetstream-cloud.org:8001/\"\npath = f\"pythia/radar/erad2024\"\n\n\nfs = fsspec.filesystem(\"s3\", anon=True, client_kwargs=dict(endpoint_url=URL))\n\nfs.glob(f\"{path}/*\")\n\nfiles = fs.glob(\"pythia/radar/erad2024/dda_data/*\")\nlocal_files = [\n    fsspec.open_local(\n        f\"simplecache::{URL}{i}\", s3={\"anon\": True}, filecache={\"cache_storage\": \".\"}\n    )\n    for i in files\n]\n\nradar = pyart.io.read(local_files[1])","key":"foZTmaj1kL"},{"type":"output","id":"mpbLWFQHCYZhv9dlcBPkV","data":[],"key":"e8Fo2MJARm"}],"key":"dVrCecf8E7"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"radar.info()","key":"NviFESYisz"},{"type":"output","id":"sxkKcluh0hDvTmGhSn4JD","data":[],"key":"U0Ff63yrkq"}],"key":"NYdK4OvpFm"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dealiasing","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WoBMwkvl3G"}],"identifier":"dealiasing","label":"Dealiasing","html_id":"dealiasing","implicit":true,"key":"j5waDpbPyR"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The next step is to dealias the radar data. We will follow the steps that were shown eariler in this course to dealias the radar data. Dealiasing is covered in detail in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sZJHGNasNt"},{"type":"link","url":"https://projectpythia.org/radar-cookbook/notebooks/foundations/pyart-corrections.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Radar Cookbook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hrBJ6nunz6"}],"urlSource":"https://projectpythia.org/radar-cookbook/notebooks/foundations/pyart-corrections.html","key":"sEMc8cf05u"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Wikz8bRHYm"}],"key":"sWdoyr7j7f"}],"key":"ycw5nj312F"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"nyquist = radar.instrument_parameters[\"nyquist_velocity\"][\"data\"][0]\nvel_dealias = pyart.correct.dealias_region_based(\n    radar,\n    vel_field=\"velocity\",\n    nyquist_vel=nyquist,\n    centered=True,\n)\nradar.add_field(\"corrected_velocity\", vel_dealias, replace_existing=True)","key":"SrJIA1ouql"},{"type":"output","id":"0hzw_soRq8O50TEgJ4oCS","data":[],"key":"oquz5qXW5M"}],"key":"ROimJQ0Aed"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the data to make sure dealiasing succeeded.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YUlfezzDNZ"}],"key":"Ub6fqjM935"}],"key":"C5pfGdEEVp"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"display = pyart.graph.RadarDisplay(radar)\ndisplay.plot(\"reflectivity\", vmin=-20, vmax=70, cmap=\"pyart_ChaseSpectral\", sweep=0)","key":"Mnr4VkemiY"},{"type":"output","id":"aP2OkDcwpNMgesWmUfyTP","data":[],"key":"RpLTOj3lvt"}],"key":"SE1s8Pyia5"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"display = pyart.graph.RadarDisplay(radar)\ndisplay.plot(\"corrected_velocity\", vmin=-30, vmax=30, cmap=\"twilight_shifted\", sweep=0)","key":"T24TF30m6l"},{"type":"output","id":"Y-feeaRkfVfbkE8aZn5v_","data":[],"key":"CfQhrZvuXW"}],"key":"OEdDvPlOtL"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Some regions did not dealias correctly, like in the region around (-100 km, -100 km) where gate-to-gate shear exceeds the Nyquist interval in the absence of . The region-based algorithm is very sensitive to speckles that are present in the above image. Let’s despeckle the above radar data to remove some artifacts.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q9raZ94Zdn"}],"key":"PhBDa4jFKI"}],"key":"NM65zLMZ50"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"gatefilter = pyart.filters.GateFilter(radar)\ngatefilter.exclude_above(\"spectrum_width\", 7)\n# gatefilter.exclude_below('cross_correlation_ratio', 0.8)\ngatefilter = pyart.correct.despeckle_field(\n    radar, \"reflectivity\", gatefilter=gatefilter, size=36\n)\ndisplay = pyart.graph.RadarDisplay(radar)\ndisplay.plot(\n    \"reflectivity\",\n    vmin=-20,\n    vmax=70,\n    gatefilter=gatefilter,\n    cmap=\"pyart_ChaseSpectral\",\n    sweep=0,\n)","key":"y4xyF3N8gn"},{"type":"output","id":"pOYrCCxNLKYdf_Z6O4gN0","data":[],"key":"NuKPSdg2ha"}],"key":"X3y0Ur9I8c"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s also tweak the settings of the region based dealiasing. Currently, the dealiasing will attempt to dealias regions that are separated by 100 masked gates in the radial. We will disable this feature by setting ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MLAUOCVvhj"},{"type":"inlineCode","value":"skip_between_rays","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FNQwWs9uhh"},{"type":"text","value":" to 0 so that all dealiasing across filtered gates along the azimuth is disabled.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aKrq5tlHdE"}],"key":"NBBWBLutjw"}],"key":"g8I4RHYu4h"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"nyquist = radar.instrument_parameters[\"nyquist_velocity\"][\"data\"][0]\nvel_dealias = pyart.correct.dealias_region_based(\n    radar,\n    vel_field=\"velocity\",\n    nyquist_vel=nyquist,\n    gatefilter=gatefilter,\n    centered=True,\n    skip_between_rays=0,\n)\nradar.add_field(\"corrected_velocity\", vel_dealias, replace_existing=True)","key":"WHIh9fpVZD"},{"type":"output","id":"b3j5Jk5WHh2dfXx_D4Q4j","data":[],"key":"hLSqLVeJLK"}],"key":"wwieDzSaTZ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Let’s plot all of the sweeps to make sure dealiasing worked correctly.\nA good indicator of checking this is to check if there are discontinuities in the radial velocities between sweeps on the order of the Nyquist velocity. If there are such discontinuties, further tweaking of the parameters or grounding the retrieval to a sounding may be needed. Using these parameters, the above example radar data is properly dealiased.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O3ppdv0wAb"}],"key":"FzxkcruAmZ"}],"key":"xebfIIamR6"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"display = pyart.graph.RadarDisplay(radar)\nfig, ax = plt.subplots(4, 5, figsize=(15, 10))\nfor i in range(radar.nsweeps):\n    display.plot(\n        \"corrected_velocity\",\n        vmin=-30,\n        vmax=30,\n        cmap=\"twilight_shifted\",\n        sweep=i,\n        colorbar_label=\"m/s\",\n        ax=ax[int(i / 5), i % 5],\n    )\n    ax[int(i / 5), i % 5].set_title(\"%2.1f deg\" % radar.fixed_angle[\"data\"][i])\n    ax[int(i / 5), i % 5].set_xlabel(\"X [km]\")\n    ax[int(i / 5), i % 5].set_ylabel(\"Y [km]\")\nfig.tight_layout()","key":"GRYm6sVXKb"},{"type":"output","id":"-auBFm00kFMe5cle_42se","data":[],"key":"sX95vkGGd8"}],"key":"HkTkwfsF7M"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"pyart.io.write_cfradial(\"MonteLema.20240522.151606_dealiased.nc\", radar)","key":"zhgb31BspY"},{"type":"output","id":"ijSBU55HjrReG4kNJTZlC","data":[],"key":"rlwrhp7KC2"}],"key":"GWgRLBCQ5l"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Gridding","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tbaBh0CUmH"}],"identifier":"gridding","label":"Gridding","html_id":"gridding","implicit":true,"key":"m0Rg2FYqR3"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"PyDDA requires data to be gridded to Cartesian coordinates in order to retrieve the 3D wind fields. Therefore, we will use Py-ART’s ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ESpLJgUtLn"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"grid_from_radars","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nd4uj4SxBd"}],"key":"BdmLd0uhVa"},{"type":"text","value":" function in order to do the gridding. You usually want to have a grid resolution such that your features of interest are covered by four grid points. In this case, we’re at 1 km horizontal and 0.5 km vertical resolution. For more information on gridding with Py-ART, see the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tCIqgN7Ef8"},{"type":"link","url":"https://projectpythia.org/radar-cookbook/notebooks/foundations/pyart-gridding.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Radar Cookbook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OkUcPtB0uk"}],"urlSource":"https://projectpythia.org/radar-cookbook/notebooks/foundations/pyart-gridding.html","key":"bH4U02WHkS"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lO6Jtwi2vV"}],"key":"M4v4EAVSGj"}],"key":"LImsSImTNW"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"grid_limits = ((0.0, 15000.0), (-100_000.0, 100_000.0), (-100_000.0, 100_000.0))\ngrid_shape = (31, 201, 201)\nradar.fields[\"corrected_velocity\"][\"data\"] = np.ma.masked_where(\n    gatefilter.gate_excluded, radar.fields[\"corrected_velocity\"][\"data\"]\n)\nradar.fields[\"reflectivity\"][\"data\"] = np.ma.masked_where(\n    gatefilter.gate_excluded, radar.fields[\"reflectivity\"][\"data\"]\n)\n\ncband_grid = pyart.map.grid_from_radars(\n    [radar], grid_limits=grid_limits, grid_shape=grid_shape\n)\ncband_ds = cband_grid.to_xarray()\ncband_ds","key":"fL9qb26b3Z"},{"type":"output","id":"A0XCKkWK5LMA1CYNmAHNu","data":[],"key":"ZVLXPvn1VN"}],"key":"MK45xh7q09"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s make sure the grid looks good!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rMQEsz9shD"}],"key":"Z4opGaL3xe"}],"key":"bJH2RNseBP"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"cband_ds.isel(z=1).reflectivity.plot(\n    x=\"lon\", y=\"lat\", vmin=-20, vmax=70, cmap=\"pyart_ChaseSpectral\"\n)","key":"dPxux873c5"},{"type":"output","id":"mnsIG4zwZg2wNAd7ZVmKf","data":[],"key":"CzIPSpB3So"}],"key":"ttb0QY8o1c"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"cband_ds.isel(y=35).reflectivity.plot(\n    x=\"x\", y=\"z\", vmin=-20, vmax=70, cmap=\"pyart_ChaseSpectral\"\n)","key":"GNjy0KXAF7"},{"type":"output","id":"2ZPRiRNQJZp3ent2F3Elf","data":[],"key":"iBG3GqAFaC"}],"key":"JZQSw1S9W5"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"X-band Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BTclisBGo5"}],"identifier":"x-band-data","label":"X-band Data","html_id":"x-band-data","implicit":true,"key":"eqix7yjcQz"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Next, we need to load the X-band radar data from the archive.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FzjDQIJ2mN"}],"key":"ZeCcYuijud"}],"key":"muK4SApIx3"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"radar_xband = pyart.io.read(local_files[0])","key":"ArGLx8fLrj"},{"type":"output","id":"KEvbaUV3deMEUvDj2j3Qf","data":[],"key":"e3Fz9eS1og"}],"key":"bDrZvaGags"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Read a single file, the one closes to the UAH volume scan used before","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lQnGIz74iE"}],"key":"r4nlW3gEyA"}],"key":"mFkwzk60Vh"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"radar.info()","key":"PJELFJZiQO"},{"type":"output","id":"R1Xy8Ghy6Gk5Bdv4HyQaz","data":[],"key":"acLmzAy6FM"}],"key":"A7yMyeHR3q"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize the data to make sure we have the correct scan.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OrePaic8XZ"}],"key":"x2lAk0oMgK"}],"key":"OcLezON6w0"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"display = pyart.graph.RadarDisplay(radar_xband)\ndisplay.plot(\"DBZ\", vmin=0, vmax=70, cmap=\"pyart_ChaseSpectral\", sweep=0)\nplt.ylim(-100, 100)\nplt.xlim(-100, 100)","key":"zM7lclRFgA"},{"type":"output","id":"HdZyckjBGaWINSHT904eU","data":[],"key":"FfBI8OVqgQ"}],"key":"u0SJuUUQbf"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The X-band radar data also need to be dealiased. We will still need to filter out the noise in the above radar data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H80behvOuj"}],"key":"zBvTMktgYg"}],"key":"u9QSRb5bxh"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Use the C-band radar lat/lon as the center for the grid\n\ngatefilter = pyart.filters.GateFilter(radar_xband)\ngatefilter.exclude_above(\"WIDTH\", 7)\ngatefilter.exclude_below(\"RHOHV\", 0.8)\ngatefilter = pyart.correct.despeckle_field(\n    radar_xband, \"DBZ\", gatefilter=gatefilter, size=100\n)\nvel_dealias = pyart.correct.dealias_region_based(\n    radar_xband,\n    vel_field=\"VEL\",\n    nyquist_vel=nyquist,\n    centered=True,\n    skip_between_rays=0,\n    skip_along_ray=0,\n    interval_splits=3,\n)\nradar_xband.add_field(\"corrected_velocity\", vel_dealias, replace_existing=True)","key":"UlwxWdyxcn"},{"type":"output","id":"lzdV8PPR24OvY0dSCVKsL","data":[],"key":"SjmAylaJPP"}],"key":"IdX8SKpbC3"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s view the sweeps to make sure that dealiasing is working correctly.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cJwDGTUNZM"}],"key":"qh5gPnkUf7"}],"key":"UxgPR64TJt"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"display = pyart.graph.RadarDisplay(radar_xband)\nfig, ax = plt.subplots(2, 4, figsize=(15, 5))\nfor i in range(radar_xband.nsweeps):\n    display.plot(\n        \"corrected_velocity\",\n        vmin=-30,\n        vmax=30,\n        cmap=\"twilight_shifted\",\n        sweep=i,\n        colorbar_label=\"m/s\",\n        ax=ax[int(i / 4), i % 4],\n    )\n    ax[int(i / 4), i % 4].set_title(\"%2.1f deg\" % radar.fixed_angle[\"data\"][i])\n    ax[int(i / 4), i % 4].set_xlabel(\"X [km]\")\n    ax[int(i / 4), i % 4].set_ylabel(\"Y [km]\")\nfig.tight_layout()","key":"Pcsn8Cludi"},{"type":"output","id":"j9GnI_44JvIq0iA8DM44r","data":[],"key":"eFrCvaoCnp"}],"key":"BAVe9XFr28"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"pyart.io.write_cfradial(\"ARPA_Lombardia.20240522.151546_dealiased.nc\", radar_xband)","key":"GlZynzJD2n"},{"type":"output","id":"JkUsTzpdyzvoTQeMv8bgI","data":[],"key":"glgmupy4Wk"}],"key":"Z1yxQNdzEA"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"grid_lat = radar.latitude[\"data\"][0]\ngrid_lon = radar.longitude[\"data\"][0]\nxband_grid = pyart.map.grid_from_radars(\n    [radar_xband],\n    grid_limits=grid_limits,\n    grid_shape=grid_shape,\n    grid_origin=(grid_lat, grid_lon),\n)\n\n# Convert to xarray and remove the time dimension\nxband_ds = xband_grid.to_xarray().squeeze()","key":"MZoVgb8Wlr"},{"type":"output","id":"fu__VLRBgxxd9LM1mBSX9","data":[],"key":"EQY78BIan4"}],"key":"pBfW0gxpWI"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize the grids","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cEU1r3qF4U"}],"identifier":"visualize-the-grids","label":"Visualize the grids","html_id":"visualize-the-grids","implicit":true,"key":"wqBVpuXw2k"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s see what our output data looks like!","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YSJrJQMEWs"}],"key":"eriE35qin4"}],"key":"bvVE1JX2ty"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"xband_ds.DBZ.isel(z=1).plot(x=\"lon\", y=\"lat\", cmap=\"Spectral_r\", vmin=-20, vmax=50)","key":"j9nJ5VDdKa"},{"type":"output","id":"iJs5p4S_kaqNNkzPXd-Vz","data":[],"key":"X9wp56GdYT"}],"key":"QVjOfOKWCV"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Velocities look good!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ETFmN4HVg2"}],"key":"MigM3cZTTe"}],"key":"XfKJAfwDRy"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"xband_ds.corrected_velocity.isel(z=4).plot(\n    x=\"lon\", y=\"lat\", cmap=\"twilight_shifted\", vmin=-30, vmax=30\n)","key":"rIABSZJ5Fm"},{"type":"output","id":"9Jo0o5uspXVX8k7x1IdlK","data":[],"key":"z5wLJbHzUT"}],"key":"VufiWsjruP"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"xband_ds.corrected_velocity.isel(y=55).plot(\n    x=\"x\", y=\"z\", cmap=\"twilight_shifted\", vmin=-20, vmax=20\n)","key":"yiTVAsCe7e"},{"type":"output","id":"5y-rf3DR2mXmYNlZZoi78","data":[],"key":"AyTtafVG1H"}],"key":"XmLTbBULs3"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"PyDDA initialization","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xciG3HMdH6"}],"identifier":"pydda-initialization","label":"PyDDA initialization","html_id":"pydda-initialization","implicit":true,"key":"AhQ2HTeRbV"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The 3DVAR wind retrieval first requires an initial guess at the wind field in order to start the cost function minimization process. PyDDA has support for using WRF and sounding data as an initial guess of the wind field as well as constant wind fields.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"i3reSp8bDm"}],"key":"Hig9wEq3Jn"},{"type":"table","position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Initalization functions in ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MlixuFpmZc"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"pydda.initialization","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"X8zG0yVWM3"}],"key":"olkAxqDUkc"},{"type":"text","value":" module:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yMgoRHw1IJ"}],"key":"cFfaWXmBsu"},{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Functionality","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"j7A8UuytnM"}],"key":"HBMeJ7BfLX"}],"key":"jAFsDZS7qD"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"make_constant_wind_field(Grid[, wind, vel_field])","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"wzrpB4pFD2"}],"key":"BnmooxSdcW"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"This function makes a constant wind field given a wind vector","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Bh6e5ok5ms"}],"key":"mnqNF2ruje"}],"key":"kW5W7xy3gI"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"make_wind_field_from_profile(Grid, profile)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ATnwGQLrYO"}],"key":"xtsjT3ChKT"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"This function makes a 3D wind field from a sounding.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"AW6vaPtNXA"}],"key":"aZ41ZDjNak"}],"key":"l3aINBbsJl"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"make_background_from_wrf(Grid, file_path, ...)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"nqx1oMeQfF"}],"key":"lYLIWYt5nr"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"This function makes an initalization field based off of the u and w from a WRF run.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"BMP2i5ShGd"}],"key":"hWeOCaO3Vu"}],"key":"Hzhvn8Reeo"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"make_initialization_from_era_interim(Grid[, ...])","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OtO5c48vew"}],"key":"Omcc2CnkiZ"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"This function will read ERA Interim in NetCDF format and add it to the Py-ART grid specified by Grid.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"y1LHHvsr9L"}],"key":"abyvIDxcsd"}],"key":"nBW8wILflT"}],"key":"C7HjHvu0Vo"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"For this example, using a zero initialization field is sufficient to create an accurate representation of the wind field. Depending on your radar set up, you may need to adjust the input initial wind field to avoid artifacts at the edges of the multi-Doppler lobes.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"DvkQzHLdaA"}],"key":"SsbZnmsjYk"}],"key":"EwdlFva3AH"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"cband_ds = pydda.io.read_from_pyart_grid(cband_grid)\nxband_ds = pydda.io.read_from_pyart_grid(xband_grid)\ncband_ds = pydda.initialization.make_constant_wind_field(\n    cband_ds, (0.0, 0.0, 0.0), \"velocity\"\n)\nxband_ds[\"reflectivity\"] = xband_ds[\"DBZ\"]","key":"aM8OkplA6d"},{"type":"output","id":"-tqBoKFVhNcGkm02031b6","data":[],"key":"QjfA8NxWyI"}],"key":"egwrqAFLuQ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"PyDDA wind retrieval","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RziyOzKjLp"}],"identifier":"pydda-wind-retrieval","label":"PyDDA wind retrieval","html_id":"pydda-wind-retrieval","implicit":true,"key":"KUppitTLaP"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The core wind retrieval function in PyDDA is done using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MqC7ovUmtF"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"retrieval.get_dd_wind_field","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BYvlirxipL"}],"key":"MSt88YPeYm"},{"type":"text","value":". It has many potential keyword inputs that the user can enter. In this example, we are specifying:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ntfOwmMuTC"}],"key":"K6Oy2zfwHo"},{"type":"table","position":{"start":{"line":5,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Input to ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZizjxCgH9a"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"pydda.initialization","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"NKZ6gx957k"}],"key":"zSl9gY7nGD"},{"type":"text","value":" module:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"paToSw0NZS"}],"key":"p2t8IAFPYH"},{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Meaning","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RkTm9O8iFq"}],"key":"PQTMb9qL7t"},{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Value","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"kcfXb2PaNl"}],"key":"rNsmGRwFNy"}],"key":"bm62gwaZtF"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Grids","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XBpfGoAw1p"}],"key":"tTYGFiSSxH"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The input grids to analyze.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Wft4rJQ49J"}],"key":"nb3xnD1b9a"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"[uah_grid, nexrad_grid]","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"v8oh8V0rBJ"}],"key":"t7abgo5t72"}],"key":"yg02Rzffu8"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"u_init","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"QD1O9DSmN6"}],"key":"vM508woRfD"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Initial guess of ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"UtIaqqB1M0"},{"type":"emphasis","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"u","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"gXGMJZl5Iz"}],"key":"MLdR4hBboi"},{"type":"text","value":" field.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"UVbNwvMn3d"}],"key":"H0VktjIrwj"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"u_init","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"vVIjhTxr9s"}],"key":"IlTyKowa0o"}],"key":"JSVOFDX8mg"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"v_init","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"xIZb7LB3Cb"}],"key":"oQQOf5ecS9"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Initial guess of ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"W8bMklBcCM"},{"type":"emphasis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"u","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Mk6eYPqGVj"}],"key":"nB9FNrNTQB"},{"type":"text","value":" field.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"SdzsA51OiC"}],"key":"pBG2VVWOZ9"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"v_init","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"BaXS4qoyMO"}],"key":"vlyuakxlyx"}],"key":"lhNirQUY4X"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"w_init","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"fZFBw9UjRB"}],"key":"hpEQky33i3"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Initial guess of ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"C73cdgF2Rw"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"u","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"lGYpcI53jy"}],"key":"mQMUTqVi2M"},{"type":"text","value":" field.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Sae14pzgiR"}],"key":"Tx6fxBpkAL"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"w_init","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"mz6BvWzsJm"}],"key":"KnPnI9InPi"}],"key":"kF2k7Fh2gE"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Co","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"NKmw8KRjwl"}],"key":"TkeYCcvVop"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Weight for cost function related to radar observations","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"q3F9MkUchH"}],"key":"DgkoxuByYY"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"1.0","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"oYrKnlYd3C"}],"key":"T8SkD3Lshx"}],"key":"KlU0zIC1eK"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Cm","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"wBKuulqD4r"}],"key":"KQaMDQu3sc"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Weight of cost function related to mass continuity equation","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"FBbXjvighw"}],"key":"MRi0K3WCjo"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"256.0","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"fwJJPRb8IY"}],"key":"YBWaul9qnM"}],"key":"vAuYYgpxDL"},{"type":"tableRow","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Cx","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"akgcripOTR"}],"key":"WcHUKm2NR0"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Weight of cost function for smoothess in the ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"yca6MbqN8n"},{"type":"emphasis","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"x","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"XwMIZEJoof"}],"key":"leDnBMKtH1"},{"type":"text","value":"-direction","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"IQrqJ7nKNh"}],"key":"VJisHE6xXA"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"1e-3","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"sC5xykYBrN"}],"key":"eEejYfZ2AZ"}],"key":"LTIENigJBk"},{"type":"tableRow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Cy","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"jvZwe4u3ct"}],"key":"jEZ6q22kuo"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Weight of cost function for smoothess in the ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"EKVrrSjPGT"},{"type":"emphasis","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"y","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"HxbTfJrQxz"}],"key":"i3A24dHUpX"},{"type":"text","value":"-direction","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"JzfjRz5QEQ"}],"key":"RbjiWhVe9X"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"1e-3","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"twG0I8ZJJC"}],"key":"tOcYADCDHC"}],"key":"rQZ5qGZemB"},{"type":"tableRow","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Cz","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"wQ4bRaRmxJ"}],"key":"SNgoarK0hX"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Weight of cost function for smoothess in the ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"SIYvEnBmar"},{"type":"emphasis","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"z","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"KBAsSL1zn4"}],"key":"DQ9QpAs91j"},{"type":"text","value":"-direction","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"PRmSsxvmya"}],"key":"pwRgP0GdXh"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"1e-3","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"p0YuMXj4L9"}],"key":"pRT3sO1cHY"}],"key":"IaTrRxL1qN"},{"type":"tableRow","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Cb","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Wli7awl65a"}],"key":"nN7w4MMKqF"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Weight of cost function for sounding (background) constraint","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"aaTw2pAMOi"}],"key":"OLJTNFXiMS"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"0","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"JMTOxkblMm"}],"key":"BF3ScJQyFW"}],"key":"dVEcwiYmSs"},{"type":"tableRow","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"frz","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"G6M0GFf0RT"}],"key":"brOK4Zq0wY"},{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"The freezing level in meters. This is to tell PyDDA where to use ice particle fall speeds in the wind retrieval verus liquid.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"rabJLMKwts"}],"key":"ZZxxdvbz8H"},{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"5000.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"nsYyHnehd3"}],"key":"Vk5rsrTrvc"}],"key":"DXIC6qjAKr"},{"type":"tableRow","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"filter_window","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"F2IFHRv3vA"}],"key":"a9nenitCUx"},{"type":"tableCell","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"The window to apply the low pass filter on","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"L3wr1IPDXr"}],"key":"T3AH7iyPxN"},{"type":"tableCell","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"5","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"EEjCOF4z9F"}],"key":"E3Kg2zmV20"}],"key":"CRZG8hvNcj"},{"type":"tableRow","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"mask_outside_opt","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"fu8B9Jm5P4"}],"key":"IElHLjL4K8"},{"type":"tableCell","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Mask all winds outside the Dual Doppler lobes","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"XeOk5WvIkp"}],"key":"CAJXIshJSc"},{"type":"tableCell","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"True","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"n5mWi0XMzc"}],"key":"SRdwKjCQKZ"}],"key":"TX9wvE0dtg"},{"type":"tableRow","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"vel_name","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"RPPQxs3vmZ"}],"key":"CJ5YsMJA07"},{"type":"tableCell","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"The name of the velocity field in the radar data","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"UQZwkzVnlx"}],"key":"Tpuv6rmGaT"},{"type":"tableCell","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"‘corrected_velocity’","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Px6qCdjMZY"}],"key":"kW4kNSa0aH"}],"key":"r2Y6Qk6w6X"},{"type":"tableRow","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"wind_tol","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"TWxkcuQdcP"}],"key":"NrhJJDihrF"},{"type":"tableCell","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Stop optimization when the change in wind speeds between iterations is less than this value","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Um0y2QQ873"}],"key":"htpj0r03C7"},{"type":"tableCell","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[],"key":"iuAQfhCgWt"}],"key":"MyNdsC9LGt"},{"type":"tableRow","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"engine","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"l0Z6xEk778"}],"key":"JkVjWAVHQd"},{"type":"tableCell","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"PyDDA supports three backends for optimization: SciPy, JAX, and TensorFlow.","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"WXS3RranS8"}],"key":"GDdrY4mXmw"},{"type":"tableCell","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"“scipy”","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"DUPJnaJdi4"}],"key":"FrwLFdNXWX"}],"key":"iZXUWaiYzu"}],"key":"IPAzl0lO1R"}],"key":"v5QU1zeSoq"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"grids, params = pydda.retrieval.get_dd_wind_field(\n    [cband_ds, xband_ds],\n    Co=1,\n    Cm=1024.0,\n    Cx=1e-2,\n    Cy=1e-2,\n    Cz=1e-2,\n    frz=5000.0,\n    mask_outside_opt=True,\n    upper_bc=1,\n    vel_name=\"corrected_velocity\",\n    wind_tol=0.5,\n    engine=\"scipy\",\n)","key":"wpVMy5ehDq"},{"type":"output","id":"2ha_DILI6HFKB6VPaLIqO","data":[],"key":"pGzbpP4RSi"}],"key":"DmCkB2J60N"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize the results","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wDxxfiVpkj"}],"identifier":"visualize-the-results","label":"Visualize the results","html_id":"visualize-the-results","implicit":true,"key":"ZhtskSNkz1"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s visualize the results. There are two ways in which this data can be visualized. One way is by using PyDDA’s visualization routines. You can also use xarray to visualize the output grids.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XoRq8vxM0Z"}],"key":"kYLIfl9P2D"}],"key":"ei2tgRjd9i"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds = grids[0]\nds","key":"VhayJt4JjO"},{"type":"output","id":"suAzNbtTntX9wETNA5qPZ","data":[],"key":"jUxrCBcdil"}],"key":"Kgx5vJjghs"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If you are not able to get the above example to run on your laptop, pre-generated grid files are available ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"njkl7ofxZO"},{"type":"link","url":"https://drive.google.com/drive/folders/1LmfJeiYHcC_NGWuNAW7gAPMUNp7Z4UZq?usp=sharing","children":[{"type":"text","value":"here","key":"tS2ue9vIGD"}],"urlSource":"https://drive.google.com/drive/folders/1LmfJeiYHcC_NGWuNAW7gAPMUNp7Z4UZq?usp=sharing","key":"xbRl9aIgkH"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BGIeI60tba"}],"key":"h75JTiwZEg"}],"key":"tES7uYNx3T"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds.reflectivity.sel(z=2000, method=\"nearest\").plot(\n    cmap=\"pyart_ChaseSpectral\", vmin=-10, vmax=60\n)\nds.isel(time=0).sel(z=2000, method=\"nearest\").w.plot.contour(\n    x=\"x\", y=\"y\", levels=np.arange(1, 5, 1)\n)\nplt.xlim([-50000, 25000])\nplt.ylim([-100000, -25000])","key":"m4zjJBkkrD"},{"type":"output","id":"qPVug9q34PN8fn3pWt31r","data":[],"key":"NuC1lu9Mrc"}],"key":"zc1JUMZLIf"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Saving the grids","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dUCF1JDPEA"}],"identifier":"saving-the-grids","label":"Saving the grids","html_id":"saving-the-grids","implicit":true,"key":"HcrLFMxxld"}],"key":"YVSE3IPUVe"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can save the grids using either ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"crl7vgC6k1"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"xarray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sMUVzkAZy0"}],"key":"OypdDHuuKY"},{"type":"text","value":"’s or Py-ART’s functionality. To save the output grids,  use ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QG5Ux7ia7n"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"pyart.io.write_grid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uS92vthD5u"}],"key":"UKQeDaaxwn"},{"type":"text","value":" (PyART) functions. For example:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uFElLgcq94"}],"key":"xVIa6XPHLR"}],"key":"uTSww0CqYE"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Keep these lines if we can't update PyDDA in time for ERAD\n# grids[0].attrs[\"radar_name\"] = \"C-band\"\n# del grids[0][\"time\"].attrs[\"units\"]\n# grids[1].attrs[\"radar_name\"] = \"X-band\"\n# del grids[1][\"time\"].attrs[\"units\"]\n#\ngrids[0].to_netcdf(\"output_grid_Cband.nc\")\ngrids[1].to_netcdf(\"output_grid_Xband.nc\")","key":"CDLSanmx6S"},{"type":"output","id":"5GCFHaB_OoXoIQiViGg_H","data":[],"key":"ZuUqdJ4Ali"}],"key":"hzC9xCtUIE"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In order to load the grids again, we can just use PyART’s ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JpxLl6PYpU"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"pyart.io.read_grid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DMlp527r8p"}],"key":"BDe77jHYsg"},{"type":"text","value":" procedure.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vpAXloCs3L"}],"key":"FFfRmdM8GZ"}],"key":"hzBEYaXkHu"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# For live demos, load these since retrieval takes about 7 minutes\ngrids = [\n    pydda.io.read_grid(\"output_grid_Cband.nc\"),\n    pydda.io.read_grid(\"output_grid_Xband.nc\"),\n]","key":"VzenxK1VZ5"},{"type":"output","id":"D5THlycfX1j6I2wseEqH5","data":[],"key":"RL0Wnyei5B"}],"key":"PmWBfzpJkf"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"PyDDA visualization routines","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JGkf2GLJaa"}],"identifier":"pydda-visualization-routines","label":"PyDDA visualization routines","html_id":"pydda-visualization-routines","implicit":true,"key":"bDxKQfgJEW"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"PyDDA’s visualization routines support the native PyART grids that are output by PyDDA. These routines have an advantage over xarray’s plotting routines for adjusting your barb and quiver size by specifying their using parameters that are in scales of kilometers. This makes it easier to plot barb and quiver plots compared to using xarray’s functionality.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ee0eOibU9v"}],"key":"bhWzVYBb8d"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"For example, the documentation for ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gmom40TS3s"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"pydda.vis.plot_horiz_xsection_quiver","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JtfK7BSJB8"}],"key":"rwCb4wEUOu"},{"type":"text","value":" is given below.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"RDxGI9CRAZ"}],"key":"E1q08SwsWT"}],"key":"x4pC7G4ZHh"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"?pydda.vis.plot_horiz_xsection_quiver","key":"sI6yqKzxMX"},{"type":"output","id":"TBuBNg--hp7-8hdNYWXau","data":[],"key":"ctpnklxIee"}],"key":"kvt1fsxU3N"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"PyDDA has the following visualization routines for your sets of grids:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"a7Tv6v5RW8"}],"key":"JsRyKJWKxI"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Procedure","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BurXQwGz4g"}],"key":"MpIvzwKJdX"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JYqK08hCfP"}],"key":"TEUG0ysl1a"}],"key":"XlZC8lPzCx"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"plot_horiz_xsection_barbs(Grids[, ax, ...])","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"HWezTwAKtd"}],"key":"A7gfBBksVL"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Horizontal cross section of winds from wind fields generated by PyDDA using barbs.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ICbMdBMmQX"}],"key":"I4bcxoQVbK"}],"key":"wt4ktPwFA2"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"plot_xz_xsection_barbs(Grids[, ax, ...])","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"n8yuwD5lEN"}],"key":"GF1JFj77gT"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Cross section of winds from wind fields generated by PyDDA in the X-Z plane using barbs.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"g6iUoLDPwh"}],"key":"hELdK3d7O7"}],"key":"qDXKCowspm"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"plot_yz_xsection_barbs(Grids[, ax, ...])","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"JFftHNf4kE"}],"key":"r55a6vYfYx"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Cross section of winds from wind fields generated by PyDDA in the Y-Z plane using barbs.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lpR1CXBHKJ"}],"key":"mMqFQSQ0fV"}],"key":"TRI63I9UVj"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"plot_horiz_xsection_barbs_map(Grids[, ax, ...])","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Lwcmjq3WxQ"}],"key":"rL67lS1zn3"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Horizontal cross section of winds from wind fields generated by PyDDA onto a geographical map using barbs.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"BpGWHhcESp"}],"key":"YC2aD9P7sY"}],"key":"gh2ggdWbAk"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"plot_horiz_xsection_streamlines(Grids[, ax, ...])","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"w8WzYPJbM2"}],"key":"PyWMcL6OZr"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Horizontal cross section of winds from wind fields generated by PyDDA using streamlines.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"S44KNnh4tb"}],"key":"crTLOwwkoX"}],"key":"quJ0jNpvfh"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"plot_xz_xsection_streamlines(Grids[, ax, ...])","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"JHdcg2C4tG"}],"key":"T4bXnSzbxS"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Cross section of winds from wind fields generated by PyDDA in the X-Z plane using streamlines.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"AygwffuHwJ"}],"key":"eiviBNfBZe"}],"key":"NO2Uw5GWVq"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"plot_yz_xsection_streamlines(Grids[, ax, ...])","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"qKCpsrJQ43"}],"key":"YGy9vuFa9U"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Cross section of winds from wind fields generated by PyDDA in the Y-Z plane using streamlines.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"tiz7BHdXx5"}],"key":"DuH4mssQU0"}],"key":"ExfBwVpPWU"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"plot_horiz_xsection_streamlines_map(Grids[, ...])","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"YQC8lk5PBZ"}],"key":"dZgv8CkIp4"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Horizontal cross section of winds from wind fields generated by PyDDA using streamlines.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"wE8Yarj22A"}],"key":"XLlySvvAMt"}],"key":"rg2ybF61ZH"},{"type":"tableRow","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"plot_horiz_xsection_quiver(Grids[, ax, ...])","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"WpkRzLxa5t"}],"key":"Y9CAqn1jDE"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Horizontal cross section of winds from wind fields generated by PyDDA using quivers.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"GpZOPaem6h"}],"key":"qSwervrvWx"}],"key":"tEJK5RKXvM"},{"type":"tableRow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"plot_xz_xsection_quiver(Grids[, ax, ...])","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"jgQnkvM1Jq"}],"key":"AfpXj8372D"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Cross section of winds from wind fields generated by PyDDA in the X-Z plane using quivers.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"AwDcVPqopz"}],"key":"GXTPAbN4na"}],"key":"muLCmyA7Ym"},{"type":"tableRow","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"plot_yz_xsection_quiver(Grids[, ax, ...])","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"DdE5BXOfrj"}],"key":"saLsoZJaqL"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Cross section of winds from wind fields generated by PyDDA in the Y-Z plane using quivers.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"FDRQXImOdY"}],"key":"C4rZNW6kFk"}],"key":"C4dbBIDEie"},{"type":"tableRow","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"plot_horiz_xsection_quiver_map(Grids[, ax, ...])","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"R7uODuiPHy"}],"key":"c1thi3H4Bp"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Horizontal cross section of winds from wind fields generated by PyDDA using quivers onto a geographical map.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Xv9qPc43pt"}],"key":"WtZrZ2yKdS"}],"key":"CE56wQtJFQ"}],"key":"qofnaYR0ky"}],"key":"AjKVE8CO4V"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s show a quiver plot of this storm!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J7klHQPMHd"}],"key":"gEmwkb8cQg"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We have specified the quivers to be 4 km apart and moved the key to the bottom right with the specific length indicating 20 m/s winds. Let’s look at the 3 km level.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WPuPxv6vqS"}],"key":"dxxs5gxqbo"}],"key":"DSTwc3GbvR"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 1, figsize=(6, 6))\npydda.vis.plot_horiz_xsection_quiver(\n    grids,\n    quiver_spacing_x_km=2.5,\n    quiver_spacing_y_km=2.5,\n    quiver_width=0.005,\n    vmax=60,\n    quiverkey_len=10.0,\n    w_vel_contours=np.arange(1, 5, 1),\n    level=4,\n    cmap=\"pyart_ChaseSpectral\",\n    ax=ax,\n    quiverkey_loc=\"bottom_right\",\n)\nplt.xlim([-75, 25])\nplt.ylim([-100, -25])","key":"wnNfDAIbEH"},{"type":"output","id":"L55PXAj7SpKzB5SnAriNd","data":[],"key":"XQyVQpgUCa"}],"key":"LmXguRmzJH"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can zoom in and modify the plot using standard matplotlib functions on the axis handle.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ekw3IFLOoq"}],"key":"vhun3FSzto"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"It is much easier to see updrafts being placed just to the outside of the strongest precipitation, with potential new growth in the north of the domain with updraft velocities \u003e 7 m/s. The precipitation is downwind of the updraft as we would expect.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"C7q2lcRMi8"}],"key":"H6jczctWYl"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Updrafts are right tilted due to the horizontal wind shear. The horizontal wind shear also causes the most intense precipitation to be downshear of the updraft. This therefore shows us that we have a good quality wind retrieval below about 5 km in altitude.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"U53clpyT1x"}],"key":"Jj3ZTbRCIe"}],"key":"XQIZKtANlf"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 1, figsize=(6, 4))\npydda.vis.plot_xz_xsection_quiver(\n    grids,\n    quiver_spacing_x_km=2.0,\n    quiver_spacing_z_km=1.0,\n    quiver_width=0.005,\n    quiverkey_len=10.0,\n    w_vel_contours=np.arange(1, 5, 1),\n    level=37,\n    cmap=\"pyart_ChaseSpectral\",\n    ax=ax,\n    quiverkey_loc=\"top_right\",\n)\nax.set_xlim([-75, -25])\nax.set_ylim([0, 13])","key":"n6TcAMn0qZ"},{"type":"output","id":"1KTxcr2zTrpY9o_N43IpU","data":[],"key":"ZE3A69PBNN"}],"key":"NaeM1vC2e3"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s view a horizontal cross section with barbs!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hJvJK40JCy"}],"key":"Jlydmk1i3N"}],"key":"fUV21clRKh"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 1, figsize=(6, 6))\npydda.vis.plot_horiz_xsection_barbs(\n    grids,\n    barb_spacing_x_km=6.0,\n    barb_spacing_y_km=6.0,\n    w_vel_contours=np.arange(1, 10, 1),\n    level=6,\n    cmap=\"pyart_ChaseSpectral\",\n    ax=ax,\n)\n# ax.set_xlim([-60, 0])\n# ax.set_ylim([0, 70])","key":"lLPzLmqsww"},{"type":"output","id":"Aac0OaO2XINoaGQGSmgPc","data":[],"key":"wHRcCjGi7S"}],"key":"KySJ0x94Yr"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"cband_ds[\"time\"][0].dt.year.values","key":"zZZSjO2kdV"},{"type":"output","id":"FlT6vN40FgEdpL_Kybs0D","data":[],"key":"S68dsreqK0"}],"key":"xmClyLKGKU"}],"key":"xHa0xn87n9"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Environment overview","url":"/environment","group":"Notebook Environment"}}},"domain":"http://localhost:3000"},"project":{"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"title":"ERAD 2024","authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"github":"https://github.com/openradar/erad2024","copyright":"2024","references":{"foundations":{"url":"https://projectpythia-mystmd.github.io/pythia-foundations"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"openradar/erad2024","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"notebooks/data-access/intro-data-access.ipynb"}],"title":"Data Access"},{"children":[{"children":[{"file":"notebooks/xradar-pyart/xradar-basics.ipynb"}],"title":"XRadar"},{"children":[{"file":"notebooks/xradar-pyart/pyart-basics.ipynb"}],"title":"Py-ART and wradlib"},{"children":[{"pattern":"notebooks/baltrad/baltrad_short_course/*.ipynb"},{"pattern":"notebooks/baltrad/pyart2baltrad/*.ipynb"},{"file":"notebooks/baltrad/baltrad2wradlib/baltrad2wradlib.ipynb"}],"title":"BALTRAD"},{"children":[{"file":"notebooks/lrose/lrose-introduction.ipynb"}],"title":"LROSE"}],"title":"Radar Software Foundations"},{"children":[{"file":"notebooks/environment"}],"title":"Notebook Environment"},{"children":[{"file":"notebooks/Retrieving_winds_with_pydda.ipynb"}],"title":"Retrieving winds with PyDDA"}],"thumbnail":"/erad2024/build/0885e6292c6be2fd643fbc952d479a01.jpeg","exports":[],"bibliography":[],"index":"readme","pages":[{"level":1,"title":"Preamble"},{"slug":"how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"/erad2024/build/72a08caa5cbe5f9cce5999dbd1a81dfd.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Data Access"},{"slug":"intro-data-access","title":"Data Access Instructions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Radar Software Foundations"},{"level":2,"title":"XRadar"},{"slug":"xradar-basics","title":"Xradar Basics","description":"","date":"","thumbnail":"/erad2024/build/xradar_logo-0f12356d8ddc75bce59d8eecc64cc837.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"Py-ART and wradlib"},{"slug":"pyart-basics","title":"Py-ART Basics with Xradar","description":"","date":"","thumbnail":"/erad2024/build/arm_logo-cf67145a355d1a26f5e011018f07f300.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"BALTRAD"},{"slug":"baltrad-io","title":"I/O model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-qc","title":"Quality Control","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-drqc","title":"Quality Control using DR","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-parallel-processing","title":"Parallel processing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-compositing","title":"Compositing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-pyart-rain-rate-example","title":"Rain Rate retrieval with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pyart-baltrad-dealias-example","title":"Doppler Velocity Dealiasing with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad2wradlib","title":"Attenuation correction comparison with wradlib","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"LROSE"},{"slug":"lrose-introduction","title":"LROSE Echo and Wind Retrieval Tutorial","description":"","date":"","thumbnail":"/erad2024/build/8ad65774263f4fd7856f5554d1df1971.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Notebook Environment"},{"slug":"environment","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Retrieving winds with PyDDA"},{"slug":"retrieving-winds-with-pydda","title":"PyDDA tutorial","description":"","date":"","thumbnail":"/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/erad2024/build/manifest-4C03D258.js";
import * as route0 from "/erad2024/build/root-ZSMPVWLZ.js";
import * as route1 from "/erad2024/build/routes/$-OW6NTZY2.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/erad2024/build/entry.client-K6EYMIDZ.js");</script></body></html>