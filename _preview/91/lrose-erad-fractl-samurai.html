<!DOCTYPE html><html lang="en" class="light" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>LROSE Wind Tutorial - ERAD 2024</title><meta property="og:title" content="LROSE Wind Tutorial - ERAD 2024"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/erad2024/_preview/91/build/samurai-27fbe15cad957b2a5a2a28cd8349c2a5.png"/><meta property="og:image" content="/erad2024/_preview/91/build/samurai-27fbe15cad957b2a5a2a28cd8349c2a5.png"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/erad2024/_preview/91/build/_assets/app-IVMJSATM.css"/><link rel="stylesheet" href="/erad2024/_preview/91/build/_assets/thebe-core-C4ZDKLDU.css"/><link rel="stylesheet" href="/myst-theme.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 fixed w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-wrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/erad2024/_preview/91/"><div class="p-1 mr-3"><img src="/erad2024/_preview/91/build/erad_white_backgroun-6b7aebdbb2c1947c33bec52b18c9b0de.png" class="h-9 dark:hidden" height="2.25rem"/><img src="/erad2024/_preview/91/build/erad_white_backgroun-6b7aebdbb2c1947c33bec52b18c9b0de.png" class="hidden h-9 dark:block" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"><div class="relative inline-block mx-2 grow-0"><a href="https://www.erad2024.it" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Conference Home</a></div><div class="relative inline-block mx-2 grow-0"><a href="https://openradarscience.org" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Open Radar Community</a></div></div><div class="flex-grow block"></div><button class="theme rounded-full border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Change theme to dark mode." aria-label="Change theme to dark mode."><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-full w-full p-0.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></button><div class="block sm:hidden"><div class="relative" data-headlessui-state=""><div><button class="flex text-sm bg-transparent rounded-full focus:outline-none" id="headlessui-menu-button-:Rciop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open Menu</span><div class="flex items-center text-stone-200 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="p-1"><path fill-rule="evenodd" d="M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z" clip-rule="evenodd"></path></svg></div></button></div></div></div><div class="hidden sm:block"><a href="https://binder.projectpythia.org/v2/gh/openradar/erad2024/main?labpath=notebooks" target="_blank" rel="noopener noreferrer" class="inline-block px-4 py-2 mx-1 mt-0 leading-none border rounded text-md border-stone-700 dark:border-white text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 hover:bg-neutral-100">Launch Environment</a></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><nav aria-label="Table of Contents" class="flex-grow overflow-y-auto transition-opacity mt-6 pb-3 ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="ERAD 2024" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/erad2024/_preview/91/">ERAD 2024</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Preamble" class="block break-words rounded py-2 grow cursor-pointer">Preamble</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Schedule" class="block break-words rounded py-2 grow cursor-pointer">Schedule</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R3d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Data Access" class="block break-words rounded py-2 grow cursor-pointer">Data Access</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R4d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R4d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Radar Software Foundations" class="block break-words rounded py-2 grow cursor-pointer">Radar Software Foundations</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R5d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R5d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Notebook Environment" class="block break-words rounded py-2 grow cursor-pointer">Notebook Environment</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R6d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R6d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Retrieving winds with PyDDA" class="block break-words rounded py-2 grow cursor-pointer">Retrieving winds with PyDDA</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R7d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R7d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav><div class="flex-none py-4 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap" style="margin-top:60px"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="pt-5 mb-8"><div class="flex items-center h-6 mt-3 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://opensource.org/licenses/Apache-2.0" target="_blank" rel="noopener noreferrer" title="Content License: Apache License 2.0 (Apache-2.0)" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="mx-1 inline-block opacity-60 hover:opacity-100 hover:text-[#599F46]"><path d="M13.2 15.6c1.4-.5 2.1-1.6 2.1-3.3S13.8 8.9 12 8.9c-1.9 0-3.3 1.6-3.3 3.3 0 1.8.8 3 2.2 3.4l-2.3 5.9c-3.1-.8-6.3-4.6-6.3-9.3 0-5.5 4.3-10 9.7-10s9.8 4.5 9.8 10c0 4.7-3.1 8.5-6.3 9.3l-2.3-5.9z"></path></svg></a><a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="opacity-50 hover:opacity-100 text-inherit hover:text-inherit" aria-label="Code License: Creative Commons Attribution 4.0 International (CC-BY-4.0)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mx-1"><title>Code License: Creative Commons Attribution 4.0 International (CC-BY-4.0)</title><path d="M12 2.2c2.7 0 5 1 7 2.9.9.9 1.6 2 2.1 3.1.5 1.2.7 2.4.7 3.8 0 1.3-.2 2.6-.7 3.8-.5 1.2-1.2 2.2-2.1 3.1-1 .9-2 1.7-3.2 2.2-1.2.5-2.5.7-3.7.7s-2.6-.3-3.8-.8c-1.2-.5-2.2-1.2-3.2-2.1s-1.6-2-2.1-3.2-.8-2.4-.8-3.7c0-1.3.2-2.5.7-3.7S4.2 6 5.1 5.1C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C5.6 7.1 5 8 4.6 9c-.4 1-.6 2-.6 3s.2 2.1.6 3c.4 1 1 1.8 1.8 2.6S8 19 9 19.4c1 .4 2 .6 3 .6s2.1-.2 3-.6c1-.4 1.9-1 2.7-1.8 1.5-1.5 2.3-3.3 2.3-5.6 0-1.1-.2-2.1-.6-3.1-.4-1-1-1.8-1.7-2.6C16.1 4.8 14.2 4 12 4zm-.1 6.4l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.5.3-1 .4-1.5.4-.9 0-1.6-.3-2.1-.8-.5-.6-.8-1.3-.8-2.3 0-.9.3-1.7.8-2.2.6-.6 1.3-.8 2.1-.8 1.2 0 2.1.4 2.6 1.4zm5.6 0l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.4.2-.9.3-1.4.3-.9 0-1.6-.3-2.1-.8s-.8-1.3-.8-2.2c0-.9.3-1.7.8-2.2.5-.5 1.2-.8 2-.8 1.2 0 2.1.4 2.6 1.4z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1"><title>Credit must be given to the creator</title><path d="M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.8-1.7-2.8-4-2.8-6.7s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4zm2.6 5.6v4h-1.1v4.7h-3v-4.7H9.4v-4c0-.2.1-.3.2-.4.1-.2.2-.2.4-.2h4c.2 0 .3.1.4.2.2.1.2.2.2.4zm-4-2.5c0-.9.5-1.4 1.4-1.4s1.4.5 1.4 1.4c0 .9-.5 1.4-1.4 1.4s-1.4-.5-1.4-1.4z"></path></svg></a><a href="https://en.wikipedia.org/wiki/Open_access" target="_blank" rel="noopener noreferrer" title="Open Access" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="mr-1 inline-block opacity-60 hover:opacity-100 hover:text-[#E18435]"><path d="M17.1 12.6h-2V7.5c0-1.7-1.4-3.1-3-3.1-.8 0-1.6.3-2.2.9-.6.5-.9 1.3-.9 2.2v.7H7v-.7c0-1.4.5-2.7 1.5-3.7s2.2-1.5 3.6-1.5 2.6.5 3.6 1.5 1.5 2.3 1.5 3.7v5.1z"></path><path d="M12 21.8c-.8 0-1.6-.2-2.3-.5-.7-.3-1.4-.8-1.9-1.3-.6-.6-1-1.2-1.3-2-.3-.8-.5-1.6-.5-2.4s.2-1.6.5-2.4c.3-.7.7-1.4 1.3-2s1.2-1 1.9-1.3c.7-.3 1.5-.5 2.3-.5.8 0 1.6.2 2.3.5.7.3 1.4.8 1.9 1.3.6.6 1 1.2 1.3 2 .3.8.5 1.6.5 2.4s-.2 1.6-.5 2.4c-.3.7-.7 1.4-1.3 2-.6.6-1.2 1-1.9 1.3-.7.3-1.5.5-2.3.5zm0-10.3c-2.2 0-4 1.8-4 4.1s1.8 4.1 4 4.1 4-1.8 4-4.1-1.8-4.1-4-4.1z"></path><circle cx="12" cy="15.6" r="1.7"></circle></svg></a><a href="https://github.com/openradar/erad2024" title="GitHub Repository: openradar/erad2024" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rd4fop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">LROSE Wind Tutorial</h1><header class="mt-4 not-prose"><div><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rhkfop:" data-state="closed">Alfonso Ladino</button><a class="ml-1" href="https://orcid.org/0000-0001-8081-7827" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rikfop:" data-state="closed">Anna del Moral Méndez</button><a class="ml-1" href="https://orcid.org/0000-0002-5015-840X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rjkfop:" data-state="closed">Brenda Javornik</button><a class="ml-1" href="https://orcid.org/0009-0004-9266-9293" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rkkfop:" data-state="closed">Daniel Michelson</button><a class="ml-1" href="https://orcid.org/0000-0003-3222-9881" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rlkfop:" data-state="closed">Daniel Wolfensberger</button><a class="ml-1" href="https://orcid.org/0009-0006-1419-0556" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rmkfop:" data-state="closed">Gionata Ghiggi</button><a class="ml-1" href="https://orcid.org/0000-0002-0818-0865" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rnkfop:" data-state="closed">Jen DeHart</button><a class="ml-1" href="https://orcid.org/0000-0001-8536-4927" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rokfop:" data-state="closed">Jordi Figueras i Ventura</button><a class="ml-1" href="https://orcid.org/0000-0002-4949-422X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rpkfop:" data-state="closed">Julian Giles</button><a class="ml-1" href="https://orcid.org/0000-0001-8134-008X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rqkfop:" data-state="closed">Kai Mühlbauer</button><a class="ml-1" href="https://orcid.org/0000-0001-6599-1034" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rrkfop:" data-state="closed">Maxwell Grover</button><a class="ml-1" href="https://orcid.org/0000-0002-0370-8974" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rskfop:" data-state="closed">Mike Dixon</button><a class="ml-1" href="https://orcid.org/0000-0002-9597-9113" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rtkfop:" data-state="closed">Robert Jackson</button><a class="ml-1" href="https://orcid.org/0000-0003-2518-1234" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rukfop:" data-state="closed">Scott Collis</button><a class="ml-1" href="https://orcid.org/0000-0002-2303-687X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rvkfop:" data-state="closed">Ting-Yu Cha</button><a class="ml-1" href="https://orcid.org/0000-0002-6292-8483" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span></div></header></div><div class="block my-10 lg:sticky lg:top-0 lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:93px"><nav></nav></div><div class="sticky top-[60px] flex justify-end w-full z-20 pointer-events-none"><div class="flex p-1 m-1 space-x-1 border rounded-full shadow pointer-events-auto border-stone-300 bg-white/80 dark:bg-stone-900/80 backdrop-blur"><div class="rounded"><button class="flex text-center rounded-full cursor-pointer text-stone-800 dark:text-white hover:opacity-100 opacity-60" aria-label="start compute environment"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="inline-block w-6 h-6 align-top"><title>enable compute</title><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1012.728 0M12 3v9"></path></svg></button></div></div></div><div id="skip-to-article"></div><div id="KxQYxOjRZb" class="relative group/block article-grid subgrid-gap col-screen"><hr class="py-2 my-5 translate-y-2"/><p>This interactive tutorial takes you through the steps of how to run <a target="_blank" href="http://wiki.lrose.net/index.php/FRACTL" rel="noreferrer">FRACTL</a> and <a target="_blank" href="http://wiki.lrose.net/index.php/SAMURAI" rel="noreferrer">SAMURAI</a>. FRACTL is a fast traditional solver with integrated interpolation using LROSE infrastructure, and it is able to perform both gridding and multi-Doppler synthesis for airborne radars and multiple ground-based radars. This is different than Radx2Grid which is only capable of gridding data for a single ground-based radar. FRACTL adopts techniques from older REORDER and CEDRIC software, but with some new improvements. In contrast to the older tools, in which interpolation is followed by synthesis, FRACTL does both steps together. FRACTL doesn’t require the CfRadial file with an aggregation of the sweeps, which is different than Radx2Grid. FRACTL performs a nearest neighbor interpolation of the reflectivity instead of bilinear interpolation in Radx2Grid. It combines the Doppler velocities together using the traditional ‘normal’ equations but with singular value decomposition of raw velocities in spherical space rather than Cramer’s rule in gridded space like CEDRIC.</p><p>SAMURAI is a variational analysis technique that is described in <cite data-state="closed"><a href="https://doi.org/10.1175/jas-d-11-0276.1" target="_blank" rel="noreferrer" class="hover-link">Bell et al. (2012)</a></cite>, <cite data-state="closed"><a href="https://doi.org/10.1175/mwr-d-13-00313.1" target="_blank" rel="noreferrer" class="hover-link">Foerster et al. (2014)</a></cite>, <cite data-state="closed"><a href="https://doi.org/10.1175/jtech-d-17-0073.1" target="_blank" rel="noreferrer" class="hover-link">Foerster and Bell (2017)</a></cite>, <cite data-state="closed"><a href="https://doi.org/10.5194/amt-14-3523-2021" target="_blank" rel="noreferrer" class="hover-link">Cha and Bell (2021)</a></cite>, <a href="https://github.com/csu-tropical/csu-tropical/blob/master/Publications/papers/Cha_Bell_JTECH_2023.pdf" class="italic" target="_blank" rel="noreferrer" data-state="closed">Cha and Bell (2023)</a>, and other publications. The SAMURAI analysis yields a maximum likelihood estimate of the atmospheric state for a given set of observations and error estimates by minimizing a variational cost function. SAMMURAI employs a finite element approach using a series of overlapping cubic B-spline basis functions.
This approach offers several advantages over a conventional grid-point representation, including:</p><ul><li>Allowing for a scaled-controlled analysis that can incorporate multiple spatial filters in the background error covariance and analytic spatial derivatives in observational space.</li><li>No need to interpolate irregular data distributions to a Cartesian grid, and the data can be used in the variational minimization in their native locations.</li><li>Spatial derivative constraints are considered as pseudo-observations, which can be implicitely integrated during the cost function minimmization at any point in their native coordinate.</li></ul><p>It has more features and more development than FRACTL, and is generally recommended over the former for publication-quality analysis. The two programs together provide a powerful combination to produce high quality multi-Doppler wind fields from ground-based, airborne, or mixed configurations.</p><div><img id="EFge4Vj7wV" style="margin:0 auto" src="/erad2024/_preview/91/build/samurai-27fbe15cad957b2a5a2a28cd8349c2a5.png" data-canonical-url="../images/samurai.png"/></div><hr class="py-2 my-5 translate-y-2"/><h3 id="tutorial-overview" class="relative group"><span class="heading-text">Tutorial Overview</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#tutorial-overview" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><h4 id="id-1-setup" class="relative group"><span class="heading-text">1. Setup</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-1-setup" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><h5 id="qc-ed-input-data-a-parameter-file-and-a-center-file" class="relative group"><span class="heading-text">QC-ed input data, a parameter file, and a center file:</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#qc-ed-input-data-a-parameter-file-and-a-center-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p><strong>a. QC-ed radar data files are provided:</strong></p><table><tbody><tr><th class="">CDV</th><th class="">PBE</th></tr><tr><td class="">cfrad.20180107_004225.662_to_20180107_004240.662_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004230.125_to_20180107_004245.125_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004244.092_to_20180107_004259.092_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004247.823_to_20180107_004301.823_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004301.347_to_20180107_004316.347_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004304.358_to_20180107_004319.358_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004318.235_to_20180107_004332.235_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004322.342_to_20180107_004337.342_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004335.672_to_20180107_004350.672_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004340.760_to_20180107_004355.760_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004351.684_to_20180107_004406.684_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004359.360_to_20180107_004414.360_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004409.010_to_20180107_004423.010_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004416.403_to_20180107_004431.403_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004426.910_to_20180107_004441.910_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004435.419_to_20180107_004450.419_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004444.218_to_20180107_004459.218_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004453.420_to_20180107_004508.420_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004501.640_to_20180107_004516.640_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004510.725_to_20180107_004525.725_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004519.306_to_20180107_004534.306_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004529.202_to_20180107_004544.202_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004535.929_to_20180107_004550.929_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004546.178_to_20180107_004601.178_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004554.649_to_20180107_004608.649_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004605.722_to_20180107_004620.722_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004612.565_to_20180107_004626.565_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004625.394_to_20180107_004640.394_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004630.909_to_20180107_004645.909_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004645.119_to_20180107_004700.119_PUIG_BER_SUR.nc</td></tr><tr><td class="">cfrad.20180107_004649.801_to_20180107_004704.801_CREU_DEL_SUR.nc</td><td class="">cfrad.20180107_004704.310_to_20180107_004719.310_PUIG_BER_SUR.nc</td></tr></tbody></table><p>*The QC process is not included in this tutorial. An example of one type of QC can be found in the QC tutorial and HawkEdit/solo are another tool to use for QC-ing data.</p><p><strong>b. A terrain file for SAMURAI is provided in order to activate wind retrievals over complex terrain</strong></p><ul><li>terrain.hgt</li></ul><p>*If a user wishes to retrieve wind flows over complex terrain, a <strong>terrain.hgt</strong> is required to be included in the data folder. More details about how to generate a <strong>terrain.hgt</strong> can be found in Section X.</p><h4 id="id-2-basic-fractl-and-samurai-how-to" class="relative group"><span class="heading-text">2. Basic FRACTL and SAMURAI “how to”</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2-basic-fractl-and-samurai-how-to" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Both FRACTL and SAMURAI are run on the command line, using simple commands like this:</p><ul><li><code>fractl -params /path/to/fractl.params</code></li><li><code>samurai -params /path/to/samurai.params</code></li></ul><p>All of the information about how FRACTL and SAMURAI should analyze data (e.g., paths to input data, variable names, grids, filters) is defined in parameter files for each application. Therefore, most of the work to run FRACTL and SAMURAI goes into setting up the parameter files and placing files in the correct location.</p><p>FRACTL requirements:</p><ul><li>radar data (CfRadial)</li><li>parameter file</li></ul><p>SAMURAI requirements:</p><ul><li>data (e.g., radar data, radiosondes, in-situ aircraft data)</li><li>center file</li><li>parameter file</li><li>optional: terrain file</li><li>optional: background file</li></ul><h5 id="how-to-set-up-fractl" class="relative group"><span class="heading-text">How to set up FRACTL</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-to-set-up-fractl" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p><strong>a. Set up directory structure:</strong></p><p>All data that FRACTL will use need to be in the same directory. This tutorial will set up input and output directories for the initial FRACTL exercises. <em>For additional FRACTL runs, we recommend creating new input and output directories to keep all analyses separate.</em></p><p><strong>b. Parameter files:</strong></p><p>FRACTL’s parameter file contains information about data I/O, the cartesian grid, and variable names. In this tutorial, the user will create their own parameter file from scratch and fill in the important parameters.</p><h5 id="how-to-set-up-samurai" class="relative group"><span class="heading-text">How to set up SAMURAI</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-to-set-up-samurai" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p><strong>a. Set up directory structure:</strong></p><p>All data and the center file defining the Cartesian grid that SAMURAI will use need to be in the same directory. This tutorial will set up input and output directories for the initial SAMURAI exercises. <em>For additional SAMURAI runs, we recommend creating new input and output directories to keep all analyses separate.</em></p><p><strong>b. Center file:</strong></p><p>The .cen file will be generated by the user through the provided Perl script. SAMURAI uses the center file to define the Cartesian frame of reference for the analysis, which be either be static or moving. It can be used to time-space correct the position of radar data in a moving storm system. It also sets the temporal limits for data to be included in the analysis. The center files are named according to the following convention: YYYYMMDD.cen</p><ul><li>Provided: Generate_center.pl</li></ul><p><strong>c. Parameter files:</strong>
SAMURAI’s parameter file contains information about data I/O, the cartesian grid, variable names, filters, and other scientific choices. In this tutorial, the user will create their own parameter file from scratch and fill in the important parameters.</p></div><div id="BvOCYBjbEO" class="relative group/block article-grid subgrid-gap col-screen"><h5 id="environment-and-packages" class="relative group"><span class="heading-text">Environment and packages¶</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#environment-and-packages" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p>First, we import the required python packages to run this notebook. Most of the LROSE processing can be done with the os package and shell commands.</p></div><div id="B0WVnwyIR4" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">import os
import fsspec

#### Need to modify later
os.environ[&quot;LROSE_DIR&quot;] = &quot;/usr/local/lrose/bin&quot;

# Set the URL and path to access the data on the cloud
URL = &quot;https://js2.jetstream-cloud.org:8001/&quot;
path = f&quot;pythia/radar/erad2024&quot;

fs = fsspec.filesystem(&quot;s3&quot;, anon=True, client_kwargs=dict(endpoint_url=URL))

fs.glob(f&quot;{path}/lrose/*/*.nc&quot;)

files = fs.glob(f&quot;{path}/lrose/*/*.nc&quot;)  # paths .../lrose/CDV_0042, .../lrose/PBE_004
local_files = [
    fsspec.open_local(
        f&quot;simplecache::{URL}{i}&quot;, s3={&quot;anon&quot;: True}, filecache={&quot;cache_storage&quot;: &quot;.&quot;}
    )
    for i in files
]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="rid5y9Vsi8UfoXUd3lVzs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="V8ozo00HnR" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">files</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="g66FXuLvtX6RQ3Noiq9mz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="R1bbBf6yJL" class="relative group/block article-grid subgrid-gap col-screen"><p>We will copy the required data to one directory as SAMURAI requires and organize the directory by performing the following commands:</p></div><div id="QVoUaGi27R" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># make parameter directory
!mkdir -p ./lrose_params

# make subdirectories for samurai and fractl input
!mkdir -p ./fractl_input
!mkdir -p ./samurai_input

# create SAMURAI output directory
!mkdir -p ./output_sam

# create FRACTL output directory
!mkdir -p ./output_frac

# create links to cfradial files for fractl and rsync for SAMURAI (having issues with links)
for i in range(len(local_files)):
    os.system(&#x27;ln -sf &#x27;+local_files[i]+&#x27; ./fractl_input/&#x27;+files[i].split(&#x27;/&#x27;)[-1])
    os.system(&#x27;rsync -av &#x27;+local_files[i]+&#x27; ./samurai_input/&#x27;+files[i].split(&#x27;/&#x27;)[-1])

</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="QD2Eaa3E_US2waacbgzTE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="gymoqT5yb2" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="id-2-prepare-data-for-analysis" class="relative group"><span class="heading-text">2. Prepare data for analysis</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2-prepare-data-for-analysis" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>In this tutorial, the provided data have already been QC-ed. For a standard procedure, users are recommended to perform the following procedure:</p><ul><li><p>Convert radar data from level 2 or other native format to CfRadial using RadxConvert</p><ul><li>SAMURAI can also incorporate non-radar data, and can read many commonly used formats. All data files in the <code>input</code> directory will be included in the analysis. The read subroutine for each datatype is determined by the file suffix.</li></ul></li><li><p>Quality-controlled raw data by desired QC-tools. See the QC tutorial for an example of how QC can be done; HawkEdit and Solo can also be used to QC data.</p></li></ul></div><div id="Xp1JYE0yU1" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="id-3-setup-the-fractl-parameter-file" class="relative group"><span class="heading-text">3. Setup the FRACTL parameter file</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3-setup-the-fractl-parameter-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><h5 id="id-3-1-generate-the-parameter-file" class="relative group"><span class="heading-text">3.1 Generate the parameter file</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3-1-generate-the-parameter-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p>First, we need to generate the parameter file! LROSE applications use a standard <code>-print_params</code> flag to generate parameter files with the defaults. We just need to specify the location and name of the parameter file. We have already set up a directory where you can place the parameter files. Feel free to change the name of the file if you prefer.</p><div class="alert alert-block alert-info"><strong>Task: Create the FRACTL parameter file.</strong> <br/>Copy the following command into the open cell below and run it! <br/><code>!${LROSE_DIR}/fractl -print_params &gt; ./lrose_params/fractl_params</code></div></div><div id="BD2hjwazHK" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"></code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="dIwe_EnA6BVJ2DzgBEcFV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="JdkIDab8PD" class="relative group/block article-grid subgrid-gap col-screen"><p>Now that we have generated the parameter file, we can inspect the file. In JupyterHub, you can edit the file either in a terminal with vi or by opening the text file via the lefthand menu - whichever you prefer! The file should be located here: /home/jovyan/lrose-hub/params/wind_guided</p><div class="alert alert-block alert-info"><strong>Task: Open the parameter file for modification.</strong></div></div><div id="BOVPgb4vdE" class="relative group/block article-grid subgrid-gap col-screen"><h5 id="id-3-2-modify-the-parameter-file" class="relative group"><span class="heading-text">3.2 Modify the parameter file</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3-2-modify-the-parameter-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p>Now we will step through and edit the parameter file.</p><p>First, we’ll start with the parameters associated with the input/output data directories and filenames.</p><table><tbody><tr><th class="">Parameter</th><th class="">Line #</th><th class="">Description</th></tr><tr><td class="">inDir</td><td class="">391</td><td class="">The input data directory. It can be a relative path, but an absolute path is more certain.</td></tr><tr><td class="">fileRegex</td><td class="">399</td><td class="">A regular expression to identify the files used for analysis. Usually ^cfrad, to find CfRadial files.</td></tr><tr><td class="">outNc</td><td class="">426</td><td class="">The output directory where the analysis will go.</td></tr><tr><td class="">outTxt</td><td class="">417</td><td class="">the name of the text file that will contain the verification of grid results.</td></tr></tbody></table><div class="alert alert-block alert-info"><strong>Task: change the inDir, fileRegex, and outNc parameters.</strong> <br/>Refer to the table above to find the parameters in the text file.<ul><li><p><code>inDir = &quot;./fractl_input&quot;</code></p></li><li><p><code>fileRegex = &quot;^cfrad&quot;</code></p></li><li><p><code>outNc = &quot;./output_frac/&quot;</code></p></li><li><p><code>outTxt = &quot;./output_frac/fractl_output.txt&quot;</code></p></li></ul></div></div><div id="C4L0i7Vjm6" class="relative group/block article-grid subgrid-gap col-screen"><hr class="py-2 my-5 translate-y-2"/><p>Next, we’ll define the cartesian grid.</p><table><tbody><tr><th class="">Parameter</th><th class="">Line #</th><th class="">Description</th></tr><tr><td class="">zGrid, yGrid, xGrid</td><td class="">174, 182, 190</td><td class="">These determine the grid spacing and size of the domain. Provide either the grid spacing to determine the max and min from the data or provide “min,max,incr” for each parameter.</td></tr><tr><td class="">projLat0, projLon0</td><td class="">229, 237</td><td class="">The origin is an arbitrarily chosen point, but should be relevant for your objective. For example, it can be the geographical center of your multi-radar domain, the physical location of a radar for a single-radar domain, or the location of a feature of interest within your dataset (such as storm center). The latitude and longitude of your chosen origin should be given in decimal degrees.</td></tr><tr><td class="">radarAlt</td><td class="">245</td><td class="">Altitude of the radar (km). Sometimes mobile radars have the altitude entered in m, which can often cause errors in FRACTL.</td></tr></tbody></table><div class="alert alert-block alert-info"><strong>Task: set up the FRACTL grid using the following values.</strong> <br/>We have provided the grid information for you. In this example, we will make a small box around the Goshen tornado with 100 m grid spacing. Since the radar had limited elevation angles, we restrict the vertical grid to 5-km altitude. Normally, you want to make the domain taller than your data.<ul><li><p><code>zGrid = &quot;0,10,0.5&quot;</code></p></li><li><p><code>yGrid = &quot;10,40,0.5&quot;</code></p></li><li><p><code>xGrid = &quot;10,35,0.5&quot;</code></p></li><li><p><code>projLat0 = 41.601666</code></p></li><li><p><code>projLon0 = 1.402777</code></p></li><li><p><code>radarAlt = 0.631</code></p></li></ul></div></div><div id="F7wQ0ge9qm" class="relative group/block article-grid subgrid-gap col-screen"><hr class="py-2 my-5 translate-y-2"/><p>Finally, we’ll define the variable names so that FRACTL knows which variables to use in the analysis.</p><table><tbody><tr><th class="">Parameter</th><th class="">Line #</th><th class="">Description</th></tr><tr><td class="">radialName</td><td class="">440</td><td class="">Variable name for the Doppler velocity.</td></tr><tr><td class="">dbzName</td><td class="">448</td><td class="">Variable name for the radar reflectivity.</td></tr><tr><td class="">ncpName</td><td class="">456</td><td class="">Variable name for the normalized coherent power. This variable can be used to do some simple QC thresholding. If you don’t have NCP or SQI in your data then just point this to any other variable and select a value above which all data will be included.</td></tr><tr><td class="">minDbz</td><td class="">58</td><td class="">Any values below the minimum reflectivity value will be tossed out. Example: -20.</td></tr><tr><td class="">minNcp</td><td class="">69</td><td class="">Any values below the minimum NCP will be tossed out. Some radars do not have NCP, so the NCP variable can be replaced by any other variable to perform a simple quality control (e.g., SW &lt; -1, dBZ &lt; -20). This is generally intended for quick realtime quality control process.</td></tr></tbody></table><div class="alert alert-block alert-info"><strong>Task: look for the variable names for reflectivity, velocity, and whether NCP exists in each file.</strong><p>We can use a couple applications to examine the variable names in our radar files (e.g., ncdump or RadxPrint). To limit the application output, you can also pipe information to commands like <code>grep</code> or <code>head</code>. Some example commands you can try are listed below.</p><p><em>Copy them as is to try them out in the next Jupyter cell. If you prefer to run them in a terminal window, remove the “!” symbol, which is just for Jupyter notebooks.</em></p><p><code>!ncdump -h $./fractl_input/cfrad.20180107_004225.662_to_20180107_004240.662_CREU_DEL_SUR.nc</code></p><p><code>!ncdump -h ./fractl_input/cfrad.20180107_004230.125_to_20180107_004245.125_PUIG_BER_SUR.nc</code></p><p><code>!${LROSE_DIR}/RadxPrint -f ./fractl_input/cfrad.20180107_004225.662_to_20180107_004240.662_CREU_DEL_SUR.nc</code></p><p><code>!${LROSE_DIR}/RadxPrint -f ./fractl_input/cfrad.20180107_004230.125_to_20180107_004245.125_PUIG_BER_SUR.nc</code></p></div></div><div id="gi3AiV8hhp" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"></code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="9Hbl9SJ1X1bE_5i2zoDQB" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="TLMscjxFV7" class="relative group/block article-grid subgrid-gap col-screen"><div class="alert alert-block alert-info"><strong>Task: define the radar variable names in the parameter file based on the output discovered above.</strong></div><p><strong>Congrats! You’ve finished setting up the FRACTL parameter file!</strong></p></div><div id="BJ786LyKZQ" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"></code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="E9hVZVtjuvPf3jfTg78vj" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="G4YIy7QXr6" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="id-4-run-fractl" class="relative group"><span class="heading-text">4. Run FRACTL</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-4-run-fractl" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>After modifying the parameter file, direct to the parameter file by using the <em>-params</em> flags</p></div><div id="HWNy1rMG3H" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">!${LROSE_DIR}/fractl -params ./lrose_params/fractl_params</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="coYB0ZDvysJdn1vvfXj8N" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="A8hX8TzEH0" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="id-5-plot-fractl-results" class="relative group"><span class="heading-text">5. Plot FRACTL results</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-5-plot-fractl-results" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><h5 id="environment-and-packages-1" class="relative group"><span class="heading-text">Environment and packages</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#environment-and-packages-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p>Import the packages to plot the FRACTL output. These are pre-installed for this tutorial, but if you run this notebook on your own computer you may need to install them yourself using pip or conda.</p></div><div id="jGDTsu75DH" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">import matplotlib.pyplot as plt
import matplotlib.colors as colors
import numpy as np
import xarray as xr
import matplotlib as mpl
import cartopy.crs as ccrs
from metpy.plots import ctables
from cartopy.mpl.gridliner import LONGITUDE_FORMATTER, LATITUDE_FORMATTER

mpl.rcParams[&quot;figure.dpi&quot;] = 300</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="7fpbHG8S2xemd7qlzL8PS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="mCJ3v0w8ly" class="relative group/block article-grid subgrid-gap col-screen"><p>Load the netcdf file</p></div><div id="dpNXpCljB7" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">inDir = &quot;./output_frac/20180107/&quot;
file = &quot;ncf_20180107_004719.nc&quot;
ds_radar = xr.open_dataset(inDir + file).squeeze()
ds_radar.load()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="So0ELG7MsEZvYwIfkREqI" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bCdzdWBSY1" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">## Get variables:
da_DBZ = ds_radar[&quot;DBZ&quot;]
da_U = ds_radar[&quot;U&quot;]
da_V = ds_radar[&quot;V&quot;]
da_W = ds_radar[&quot;W&quot;]
da_CN = ds_radar[&quot;conditionNumber&quot;]

# radar locations (PBE, CDV)
radar_lats = [41.37, 41.96]
radar_lons = [1.39, 1.4]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="pA4N3qqo8cV2v6kha2C84" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="o0qgMV9gAh" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">## Set NWS reflectivity colorbar:
ref_norm, ref_cmap = ctables.registry.get_with_steps(
    &quot;NWSStormClearReflectivity&quot;, 0, 0.35
)
plotting_alt = 1.5 * 1000  # altitude at 1.5 km
plotting_var = ds_radar.DBZ.sel(z0=plotting_alt).data
plotting_var_u = ds_radar.U.sel(z0=plotting_alt).data
plotting_var_v = ds_radar.V.sel(z0=plotting_alt).data
plotting_lon = ds_radar.lon0
plotting_lat = ds_radar.lat0

fig = plt.figure(figsize=(12, 12))
ax = plt.axes(projection=ccrs.PlateCarree())
# stamen_terrain = cimgt.Stamen(&#x27;terrain&#x27;)
# ax.add_image(stamen_terrain, 8)

cf1 = ax.pcolormesh(
    plotting_lon,
    plotting_lat,
    plotting_var,
    cmap=ref_cmap,
    norm=ref_norm,
    alpha=0.8,
    shading=&quot;auto&quot;,
    transform=ccrs.PlateCarree(),
)
step = 1
cf_q = ax.quiver(
    plotting_lon[::step, ::step],
    plotting_lat[::step, ::step],
    plotting_var_u[::step, ::step],
    plotting_var_v[::step, ::step],
    scale=1000,
    width=0.004,
    color=&quot;k&quot;,
    transform=ccrs.PlateCarree(),
)


gl = ax.gridlines(
    crs=ccrs.PlateCarree(),
    draw_labels=True,
    linewidth=2,
    color=&quot;gray&quot;,
    alpha=0.5,
    linestyle=&quot;--&quot;,
)
gl.top_labels = False
gl.right_labels = False
gl.xformatter = LONGITUDE_FORMATTER
gl.yformatter = LATITUDE_FORMATTER

cbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])
cbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)
cbar.ax.tick_params(labelsize=14)
cbar.ax.set_title(&quot;[dBZ]&quot;, fontsize=14, y=-0.1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="bO8qIekAMRaco96iZkxzE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="PK6u39IJ4c" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="if-you-can-see-the-above-plot-then-congratulations-you-have-successfully-created-and-plotted-a-dual-doppler-analysis-now-lets-try-samurai" class="relative group"><span class="heading-text">If you can see the above plot, then congratulations! You have successfully created and plotted a dual-Doppler analysis. Now let’s try SAMURAI</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#if-you-can-see-the-above-plot-then-congratulations-you-have-successfully-created-and-plotted-a-dual-doppler-analysis-now-lets-try-samurai" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="EcrvBjtfnn" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="id-6-set-the-samurai-parameters" class="relative group"><span class="heading-text">6. Set the SAMURAI parameters</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-6-set-the-samurai-parameters" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><h5 id="id-6-1-set-up-the-center-file" class="relative group"><span class="heading-text">6.1 Set up the center file</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-6-1-set-up-the-center-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p>One difference between FRACTL and SAMURAI is the requirement of a centerfile, which allows for a moving domain. We will modify and run the Generate_center.pl perl script to generate a time-series of center locations by providing an estimation of the moving speed of the target and the reference location.</p><table><tbody><tr><th class="">Parameter</th><th class="">Line #</th><th class="">Description</th></tr><tr><td class="">lat_origin, lon_origin</td><td class="">13, 14</td><td class="">Latitude and longitude of reference frame at origin time.</td></tr><tr><td class="">u, v</td><td class="">15, 16</td><td class="">Storm motion.</td></tr><tr><td class="">ymd</td><td class="">17</td><td class="">Date of initial time (YYYYMMDD).</td></tr><tr><td class="">hr, mn, sec</td><td class="">18, 19, 20</td><td class="">Initial hour, minute, second of track.</td></tr><tr><td class="">duration</td><td class="">21</td><td class="">Duration of track in seconds.</td></tr><tr><td class="">origintime</td><td class="">22</td><td class="">Time when the frame is at the latitude/longitude at the origin time in seconds from the initial time.</td></tr></tbody></table><div class="alert alert-block alert-info"><strong>Task: open the Generate_center.pl script and modify the parameters for this case.</strong><p>The script can be found here: ./Generate_center.pl</p><p>For lat_origin and lon_origin, use the values that we defined above in the FRACTL parameter file.</p><p>For this example, we will use a moving domain. Set u and v can be set to 8.8 m/s.</p><p>The initial time set by ymd, hr, mn, and sec should be set such that the data all occur after the initial time. CfRadial files often contain the start time of the data in their file names. Look at the two files we are using and see when the data starts. Set your initial time before that time - usually 5-10 seconds is sufficient.</p><p>Duration sets the length of the analysis. Similar to the initial time, look at the CfRadial filenames to determine the latest timestamp associated with the data. Then determine the number of seconds needed to encompass all the data from the two files. Feel free to round up a few seconds.</p><p>For a moving next, origintime will need to match the reference time in the SAMURAI parameter file, so pick a time within your time frame and note the HH:MM:SS for later.</p></div></div><div id="nEQDEYcG64" class="relative group/block article-grid subgrid-gap col-screen"><h5 id="id-6-2-generate-the-center-file" class="relative group"><span class="heading-text">6.2 Generate the center file</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-6-2-generate-the-center-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><div class="alert alert-block alert-info"><strong>Task: run the Perl script to generate the center file and move the center file to the wind_guided input directory.</strong> <br/>First, we need to make the script executable so we can run it. Run the following command to change the permissions.</div><p><code>!chmod u+x ./Generate_center.pl</code></p><p>Generate the .cen file in the input directory using the following command:
<code>!Generate_center.pl</code></p></div><div id="fMhLknFjMS" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"></code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="EZ8iudicjJrPnievc2Mga" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="eixM7s3SUK" class="relative group/block article-grid subgrid-gap col-screen"><p>Generate_center.pl creates the file in the directory containing this notebook. We just need to move it to the input directory, which we can do with the following command. Using either a terminal or the nagivation at the left of the notebook, double check that the file is now in the input directory.</p></div><div id="pUAmFIjqyI" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">!mv ./*.cen ./samurai_input</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="nw5GkQItNoIUb2cqodIUP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="RhFjpuVa6c" class="relative group/block article-grid subgrid-gap col-screen"><h5 id="id-6-3-generate-the-samurai-parameter-file" class="relative group"><span class="heading-text">6.3 Generate the SAMURAI parameter file</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-6-3-generate-the-samurai-parameter-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p>Like FRACTL, SAMURAI uses the <code>-print_params</code> flag to generate parameter files with the defaults. We just need to specify the location and name of the parameter file. We have already set up a directory where you can place the parameter files. Feel free to change the name of the file if you prefer.</p><div class="alert alert-block alert-info"><strong>Task: generate the SAMURAI parameter file.</strong> <br/>Copy the following command into the open cell below and run it!</div><p><code>!${LROSE_DIR}/samurai -print_params &gt; ./lrose_params/samurai_params</code></p></div><div id="blguZ2EECO" class="relative group/block article-grid subgrid-gap col-screen"><h5 id="id-6-4-modify-the-samurai-parameter-file" class="relative group"><span class="heading-text">6.4 Modify the SAMURAI parameter file</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-6-4-modify-the-samurai-parameter-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p>Now we will step through and edit the parameter file.</p><p>First, we’ll start with the parameters associated with the input/output data directories and filenames.</p><table><tbody><tr><th class="">Parameter</th><th class="">Line #</th><th class="">Description</th></tr><tr><td class="">data_directory</td><td class="">171</td><td class="">The input data directory. It can be a relative path, but an absolute path is more certain.</td></tr><tr><td class="">output_directory</td><td class="">181</td><td class="">The output directory where the analysis will go.</td></tr></tbody></table><div class="alert alert-block alert-info"><strong>Task: set the data directories.</strong><p>Change the data_directory and output_directory parameters to the following.</p><p><code>data_directory = “./samurai_input”</code></p><p><code>output_directory = “./output_sam”</code></p></div></div><div id="xZtsUaiM2I" class="relative group/block article-grid subgrid-gap col-screen"><hr class="py-2 my-5 translate-y-2"/><p>Next, we’ll define the cartesian grid.</p><table><tbody><tr><th class="">Parameter</th><th class="">Line #</th><th class="">Description</th></tr><tr><td class="">i_min, i_max, i_incr</td><td class="">254, 260, 266</td><td class="">Define the minimum and maximum extent and grid spacing in km of the first horizontal dimension (e.g., Cartesian ‘x’ dimension). For cylindrical analyses (RTZ mode), this is radius.</td></tr><tr><td class="">j_min, j_max, j_incr</td><td class="">272, 278, 284</td><td class="">Define the minimum and maximum extent and grid spacing of the second horizontal dimension (e.g., Cartesian ‘y’ dimension in km). For cylindrical analyses (RTZ mode), this is azimuth (degrees).</td></tr><tr><td class="">k_min, k_max, k_incr</td><td class="">290, 296, 302</td><td class="">Define the minimum and maximum extent and grid spacing in km of the vertical dimension (i.e., ‘z’ dimension). k_min should usually be 0.</td></tr></tbody></table><div class="alert alert-block alert-info"><strong>Task: set up the SAMURAI grid.</strong><p>Using the grid spacing and span that we used to set up FRACTL, fill out these 9 parameters in the SAMURAI parameter file. Since we are creating a Cartesian analysis, i, j, and k correspond to x, y, and z.</p></div></div><div id="picQtuXjNy" class="relative group/block article-grid subgrid-gap col-screen"><hr class="py-2 my-5 translate-y-2"/><p>SAMURAI requires the user to set the background time.</p><table><tbody><tr><th class="">Parameter</th><th class="">Line #</th><th class="">Description</th></tr><tr><td class="">ref_time</td><td class="">324</td><td class="">This is the reference time to which all data will be time-space corrected. It must be a valid time in the centerfile or an error will occur. The time should be the same as the origin time corresponding to the latitude/longitude in the Perl center file script.</td></tr></tbody></table><div class="alert alert-block alert-info"><strong>Task: define the reference time.</strong><p>The reference time in SAMURAI should correspond to the same time as the origin time (<em>not</em> the start time) that was used in the Generate_center.pl script. The format is HH:MM:SS.</p></div></div><div id="mnKT9TIW6C" class="relative group/block article-grid subgrid-gap col-screen"><hr class="py-2 my-5 translate-y-2"/><p>Next, we’ll set some remaining parameters which define the radar variable names, radii of influence, and how much data is processed.</p><table><tbody><tr><th class="">Parameter</th><th class="">Line #</th><th class="">Description</th></tr><tr><td class="">radar_skip</td><td class="">352</td><td class="">This option can be used to skip beams in the radar data. When set to ‘1’, all beams are used. Setting it to 2 speeds up the calculation and is useful for preliminary analysis. It should generally be set to 1 for final analysis.</td></tr><tr><td class="">radar_stride</td><td class="">358</td><td class="">This option sets the number of gates over which averaging occurs along the beam. A stride of ‘1’ uses all data, and higher numbers average multiple gates of the given stride. Higher numbers speed up the calculation and can be used to thin the data to achieve desired spatial resolution of the input velocities.</td></tr><tr><td class="">radar_dbz</td><td class="">382</td><td class="">The name of the reflectivity field in the radar data.</td></tr><tr><td class="">radar_vel</td><td class="">392</td><td class="">The name of the Doppler velocity field in the radar data.</td></tr><tr><td class="">radar_sw</td><td class="">398</td><td class="">The name of the spectrum width field in the radar data. This value is used to set the observational error for the Doppler velocity. If you don’t have spectrum width, you can point it at another variable (like NCP) or create a simple uniform field.</td></tr><tr><td class="">i_reflectivity_roi, j_reflectivity_roi, k_reflectivity_roi</td><td class="">404, 410, 416</td><td class="">These variables set the radius of influence for the reflectivity interpolation. They should be similar to the grid increments defined above.</td></tr><tr><td class="">mask_reflectivity</td><td class="">428</td><td class="">The analysis can be set to missing data where there is no reflectivity. If set to ‘None’ then no masking is performed. A numerical value will be used as a threshold for the masking, with all data at nodes having less than the given reflectivity value removed. If you are not using a background field then it is generally a good idea to set this to some small number (like -10 dBZ) since the winds are not valid if there is no radar data.</td></tr></tbody></table><div class="alert alert-block alert-info"><strong>Task: fill out the radar-specific parameters</strong><p>The radar_dbz and radar_vel parameters are the same names that were used in the FRACTL parameter file. The radar_sw parameter can be determined in a similar manner that we used earlier.</p><p>For the radii of influence, use a value of 0.5, similar to the grid spacings.</p><p>Finally, mask_reflectivity can be set to a low value to remove weak echo regions. A value around -25 dBZ is often sufficient.</p></div></div><div id="xfafnnIwgY" class="relative group/block article-grid subgrid-gap col-screen"><hr class="py-2 my-5 translate-y-2"/><p>Finally, we’ll correct some default parameters..</p><table><tbody><tr><th class="">Parameter</th><th class="">Line #</th><th class="">Description</th></tr><tr><td class="">load_background</td><td class="">93</td><td class="">A first guess of the analysis stored in the samurai_Background.in will be loaded. This can come from a model, sounding, or other data source if available. Most of the time it is not available so it should be set to FALSE.</td></tr><tr><td class="">output_latlon_increment</td><td class="">1028</td><td class="">SAMURAI can produce XYP analyses, where the vertical coordinate is pressure. This parameter sets the lat/lon increment.</td></tr><tr><td class="">output_pressure_increment</td><td class="">1034</td><td class="">SAMURAI can produce XYP analyses, where the vertical coordinate is pressure. This parameter sets the pressure level increment. Set to -1 for XYZ analyses. This will be made a default of -1 in a future release.</td></tr></tbody></table><div class="alert alert-block alert-info"><strong>Task: fill out the radar-specific parameters</strong><p>Some of the default parameters have not been fixed in this version of SAMURAI. Set <code>load_background</code> to FALSE, and <code>output_latlon_increment</code> and <code>output_pressure_increment</code> to -1.</p></div><p>For a list of additional SAMURAI parameters, please refer to the appendix at the end of this notebook.</p></div><div id="cze42rFw3e" class="relative group/block article-grid subgrid-gap col-screen"><h5 id="id-6-5-generate-a-terrain-file" class="relative group"><span class="heading-text">6.5 Generate a terrain file</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-6-5-generate-a-terrain-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h5></div><div id="hsiFJYnUd7" class="relative group/block article-grid subgrid-gap col-screen"><p><strong>a. Data source and structure of input terrain file</strong></p><p>Terrain data is chosen by the user and can be obtained from different sources such as model data, ASTER-DEM, SRTM, and others. Users are required to save the file as <strong>terrain.hgt</strong>. The subroutine for reading the file is determined by its suffix (hgt).</p><p>The terrain file data should be structured as follows:</p><table><tbody><tr><th class="">Latitude</th><th class="">Longitude</th><th class="">Terrain-Height(m)</th><th class="">dh/dx(unitless)</th><th class="">dh/dy(unitless)</th><th class="">X(km)</th><th class="">Y(km)</th></tr><tr><td class="">41.692</td><td class="">1.523</td><td class="">636.789</td><td class="">-0.002</td><td class="">0.007</td><td class="">10.0</td><td class="">10.0</td></tr><tr><td class="">41.696</td><td class="">1.523</td><td class="">640.075</td><td class="">-0.001</td><td class="">0.006</td><td class="">10.0</td><td class="">10.5</td></tr><tr><td class="">41.701</td><td class="">1.523</td><td class="">642.975</td><td class="">-0.001</td><td class="">0.006</td><td class="">10.0</td><td class="">11.0</td></tr><tr><td class="">41.705</td><td class="">1.523</td><td class="">645.635</td><td class="">-0.001</td><td class="">0.005</td><td class="">10.0</td><td class="">11.5</td></tr><tr><td class="">41.71</td><td class="">1.523</td><td class="">647.869</td><td class="">-0.0</td><td class="">0.004</td><td class="">10.0</td><td class="">12.0</td></tr><tr><td class="">41.714</td><td class="">1.523</td><td class="">649.542</td><td class="">0.0</td><td class="">0.003</td><td class="">10.0</td><td class="">12.5</td></tr><tr><td class="">41.719</td><td class="">1.523</td><td class="">650.772</td><td class="">0.001</td><td class="">0.002</td><td class="">10.0</td><td class="">13.0</td></tr><tr><td class="">41.723</td><td class="">1.523</td><td class="">651.559</td><td class="">0.002</td><td class="">0.001</td><td class="">10.0</td><td class="">13.5</td></tr><tr><td class="">...</td><td class="">...</td><td class="">...</td><td class="">...</td><td class="">...</td><td class="">...</td><td class="">...</td></tr></tbody></table><p>X and Y should match the desired output grid which corresponds to the “GRID DEFINITION SECTION” in the parameter file.</p><p><strong>In this tutorial, the terrain file is provided.</strong></p><hr class="py-2 my-5 translate-y-2"/><p>Now, we can modify the weights associated with the terrain calculation. When a terrain file is included in the directory, users can determine the strength of the boundary condition by changing the magnitude of <strong>neumann_u_weight</strong>, <strong>neumann_v_weight</strong>, and <strong>dirichlet_w_weight</strong>. The <strong>neumann_u_weight</strong>, <strong>neumann_v_weight</strong> regulate the impermeability of the horizontal flow as it encounters the terrain, and the <strong>dirichlet_w_weight</strong> governs the vertical motion generated by topographic influences when horizontal flow interacts with the terrain.</p><table><tbody><tr><th class="">Parameter</th><th class="">Line #</th><th class="">Description</th></tr><tr><td class="">neumann_u_weight</td><td class="">1147-1149</td><td class="">This option sets the strength of the impermeability of the horizontal flow in u direction as it encounters the terrain.</td></tr><tr><td class="">neumann_v_weight</td><td class="">1157-1159</td><td class="">This option sets the strength of the impermeability of the horizontal flow in v direction as it encounters the terrain.</td></tr><tr><td class="">dirichlet_w_weight</td><td class="">1167-1169</td><td class="">This option sets the strength of the topographic forcing when horizontal flow interacts with the terrain.</td></tr></tbody></table><p><em>The default value is 0.1. However, the choice of settings must be carefully evaluated on a case-by-case basis and their interpretations should be made accordingly when drawing scientific conclusions.</em></p></div><div id="eX3vcYJXj3" class="relative group/block article-grid subgrid-gap col-screen"><p>Now let’s take a look at the terrain.hgt text file</p></div><div id="co9TOJV01f" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">file_path = &quot;./data/terrain.hgt&quot;
terr_lat = []
terr_lon = []
terr_height = []  # Add more if there are more columns
terr_x = []
terr_y = []

# Open and read the text file line by line
with open(file_path, &quot;r&quot;) as file:
    for line in file:
        # Remove tab and newline characters from the line
        line = line.replace(&quot;\t&quot;, &quot;&quot;).replace(&quot;\n&quot;, &quot;&quot;)

        # Split the line into columns (assuming space-separated values)
        columns = line.split()  # You can change the delimiter inside split() if needed

        # Append each column&#x27;s data to the respective list
        if len(columns) &gt; 0:
            terr_lat.append(float(columns[0]))
        if len(columns) &gt; 1:
            terr_lon.append(float(columns[1]))
        if len(columns) &gt; 2:
            terr_height.append(float(columns[2]))
        if len(columns) &gt; 5:
            terr_x.append(float(columns[5]))
        if len(columns) &gt; 6:
            terr_y.append(float(columns[6]))
        # Add more if there are more columns</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="oviKO6yPkolKuwr4ApvHB" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="DCIMvGL5VP" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">fig = plt.figure(figsize=(12, 12))
ax = plt.axes(projection=ccrs.PlateCarree())
cf1 = plt.scatter(
    terr_lon, terr_lat, s=terr_height, c=terr_height, cmap=&quot;terrain&quot;, vmin=0, vmax=1000
)
cbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])
cbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)
cbar.ax.tick_params(labelsize=14)
cbar.ax.set_title(&quot;Terrain Height (m)&quot;, fontsize=14, y=-0.1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="xa9c2vl1tiAAPSFWCgWe0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="VpPwPWb359" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"></code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Nkrff0-tF1e_wE7PA2JXB" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="MDQKVKwMb2" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="id-7-run-samurai" class="relative group"><span class="heading-text">7. Run SAMURAI</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-run-samurai" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>After modifying the parameter file, direct to the parameter file by using the <em>-params</em> flags</p></div><div id="NNLR6ggcXY" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">!${LROSE_DIR}/samurai -params ./lrose_params/samurai_params</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="J12rSJ1u0MEKFxlqqFrqa" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="RNW0PoUUPk" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="id-8-plot-samurai-results" class="relative group"><span class="heading-text">8. Plot SAMURAI results</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-8-plot-samurai-results" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="rcWypKDhO1" class="relative group/block article-grid subgrid-gap col-screen"><h5 id="environment-and-packages-2" class="relative group"><span class="heading-text">Environment and packages¶</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#environment-and-packages-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p>The packages were already imported when we plotted the FRACTL results.</p></div><div id="cm0xeGZNqz" class="relative group/block article-grid subgrid-gap col-screen"><h5 id="load-the-netcdf-file" class="relative group"><span class="heading-text">Load the netcdf file</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#load-the-netcdf-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h5></div><div id="gBDr5ED7fC" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">inDir_s = &quot;./output_sam/&quot;
file_s = &quot;samurai_XYZ_analysis.nc&quot;
ds_radar_s = xr.open_dataset(inDir_s + file_s).squeeze()
ds_radar_s.load()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="FcP-i9ODM4Zjy7cFI17tz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="sN07jkorz1" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">## Get variables:
da_s_DBZ = ds_radar_s[&quot;DBZ&quot;]
da_s_U = ds_radar_s[&quot;U&quot;]
da_s_V = ds_radar_s[&quot;V&quot;]
da_s_W = ds_radar_s[&quot;W&quot;]
da_s_ABSVORT = ds_radar_s[&quot;ABSVORT&quot;]
da_s_DIV = ds_radar_s[&quot;DIV&quot;]

lon_s, lat_s = np.meshgrid(ds_radar_s.longitude, ds_radar_s.latitude)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="qZDb_ffO_6YCWSzAWcP6G" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ddKBP88lkf" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">## Set NWS reflectivity colorbar:
ref_norm, ref_cmap = ctables.registry.get_with_steps(
    &quot;NWSStormClearReflectivity&quot;, 0, 0.35
)
plotting_alt = 3.5  # can change to different altitude
plotting_var_s = ds_radar_s.DBZ.sel(altitude=plotting_alt)
plotting_var_u_s = ds_radar_s.U.sel(altitude=plotting_alt).data
plotting_var_v_s = ds_radar_s.V.sel(altitude=plotting_alt).data
plotting_lon_s = ds_radar_s.longitude
plotting_lat_s = ds_radar_s.latitude

fig = plt.figure(figsize=(12, 12))
ax = plt.axes(projection=ccrs.PlateCarree())
# stamen_terrain = cimgt.Stamen(&#x27;terrain&#x27;)
# ax.add_image(stamen_terrain, 8)

cf1 = ax.pcolormesh(
    plotting_lon_s,
    plotting_lat_s,
    plotting_var_s,
    cmap=ref_cmap,
    norm=ref_norm,
    alpha=0.8,
    shading=&quot;auto&quot;,
    transform=ccrs.PlateCarree(),
)
step = 1
cf_q = ax.quiver(
    plotting_lon_s[::step],
    plotting_lat_s[::step],
    plotting_var_u_s[::step, ::step],
    plotting_var_v_s[::step, ::step],
    scale=1000,
    width=0.004,
    color=&quot;k&quot;,
    transform=ccrs.PlateCarree(),
)
ax.contour(
    plotting_lon_s,
    plotting_lat_s,
    plotting_var_s,
    levels=np.arange(35, 100, 100),
    colors=&quot;k&quot;,
    linewidths=3,
    transform=ccrs.PlateCarree(),
)
gl = ax.gridlines(
    crs=ccrs.PlateCarree(),
    draw_labels=True,
    linewidth=2,
    color=&quot;gray&quot;,
    alpha=0.5,
    linestyle=&quot;--&quot;,
)
gl.top_labels = False
gl.right_labels = False
gl.xformatter = LONGITUDE_FORMATTER
gl.yformatter = LATITUDE_FORMATTER

cbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])
cbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)
cbar.ax.tick_params(labelsize=14)
cbar.ax.set_title(&quot;[dBZ]&quot;, fontsize=14, y=-0.1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="brxF02AGe1dieB-OigqAa" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="gCFeUwDCUa" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="id-9-apply-fractl-condition-number" class="relative group"><span class="heading-text">9. Apply FRACTL Condition Number</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-9-apply-fractl-condition-number" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>The FRACTL ‘Condition Number’ represents how well-posed the geometry is for a particular multi-Doppler retrieval. It is similar to the USTD and VSTD field from CEDRIC, which represent the standard deviation of the expected error in the resolved wind field based on the geometry. Since SAMURAI solves for the wind field globally using spline basis functions, it is difficult to calculate this error at each gridpoint. If a FRACTL analysis is run on the same domain, then it can be used to remove regions with poor geometry. Here, we use a value of 10 to threshold the SAMURAI analysis.</p></div><div id="R4cVthkN0A" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Read file into radar object
inDir_f = &quot;./output_frac/20180107/&quot;
file_f = &quot;ncf_20180107_004719.nc&quot;
ds_radar_f = xr.open_dataset(inDir_f + file_f).squeeze()
ds_radar_f</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="9fQKaFs6XXq5o5dLIIel4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="p3pSCJECdF" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">plotting_CN = ds_radar_f.conditionNumber.sel(z0=1.5 * 1000)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="yJSBNSe8wqS7wNywzkyOs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bppmNEybOi" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">CN_threshold = 10
dbz_goodcondition = np.where(plotting_CN &lt; CN_threshold, plotting_var_s, np.nan)
u_goodcondition = np.where(plotting_CN &lt; CN_threshold, plotting_var_u_s, np.nan)
v_goodcondition = np.where(plotting_CN &lt; CN_threshold, plotting_var_v_s, np.nan)
w_goodcondition = np.where(plotting_CN &lt; CN_threshold, plotting_var_w_s, np.nan)
vort_goodcondition = np.where(plotting_CN &lt; CN_threshold, plotting_var_vort_s, np.nan)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Iu6dKSkAFN_yWc0p2m-xl" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="tFiUaVOvB8" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">fig = plt.figure(figsize=(10, 10))
ax = plt.axes(projection=ccrs.PlateCarree())

cf1 = ax.pcolormesh(
    plotting_lon_s,
    plotting_lat_s,
    dbz_goodcondition,
    cmap=ref_cmap,
    norm=ref_norm,
    alpha=0.8,
    shading=&quot;auto&quot;,
    transform=ccrs.PlateCarree(),
)
step = 1
cf_q = ax.quiver(
    plotting_lon_s[::step],
    plotting_lat_s[::step],
    u_goodcondition[::step, ::step],
    v_goodcondition[::step, ::step],
    scale=1000,
    width=0.004,
    color=&quot;k&quot;,
    transform=ccrs.PlateCarree(),
)

gl = ax.gridlines(
    crs=ccrs.PlateCarree(),
    draw_labels=True,
    linewidth=2,
    color=&quot;gray&quot;,
    alpha=0.5,
    linestyle=&quot;--&quot;,
)
gl.top_labels = False
gl.right_labels = False
gl.xformatter = LONGITUDE_FORMATTER
gl.yformatter = LATITUDE_FORMATTER

cbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])
cbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)
cbar.ax.tick_params(labelsize=14)
cbar.ax.set_title(&quot;[dBZ]&quot;, fontsize=14, y=-0.1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="eM2XQnYS_xZf6rRp4sKQm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ulfIeUoEQt" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">## Set NWS reflectivity colorbar:
plotting_alt = 2.5  # altitude at 3 km
plotting_var_s = ds_radar_s.DBZ.sel(altitude=3.5)
plotting_var_u_s = ds_radar_s.U.sel(altitude=plotting_alt).data
plotting_var_v_s = ds_radar_s.V.sel(altitude=plotting_alt).data
plotting_var_w_s = ds_radar_s.W.sel(altitude=plotting_alt).data
plotting_var_vort_s = ds_radar_s.VORT.sel(altitude=plotting_alt).data
plotting_var_div_s = ds_radar_s.DIV.sel(altitude=plotting_alt).data
plotting_lon_s = ds_radar_s.longitude
plotting_lat_s = ds_radar_s.latitude

fig = plt.figure(figsize=(12, 12))
ax = plt.axes(projection=ccrs.PlateCarree())

ext = 0.02
ax.set_extent(
    [
        np.min(lon_s) + ext,
        np.max(lon_s) - ext,
        np.min(lat_s) + ext,
        np.max(lat_s) - ext,
    ],
    crs=ccrs.PlateCarree(),
)
levs_w = np.arange(-15, 15, 0.1)
cf1 = ax.contourf(
    plotting_lon_s,
    plotting_lat_s,
    plotting_var_w_s,
    cmap=&quot;RdBu_r&quot;,
    levels=levs_w,
    alpha=0.8,
    shading=&quot;auto&quot;,
    transform=ccrs.PlateCarree(),
)

cf = ax.contour(
    plotting_lon_s[::2],
    plotting_lat_s[::2],
    vort_goodcondition[::2, ::2],
    transform=ccrs.PlateCarree(),
    colors=&quot;lightgreen&quot;,
    linewidths=3,
)
ax.contour(
    plotting_lon_s,
    plotting_lat_s,
    dbz_goodcondition,
    levels=np.arange(35, 100, 100),
    colors=&quot;k&quot;,
    linewidths=3,
    transform=ccrs.PlateCarree(),
)
step = 1
cf_q = ax.quiver(
    plotting_lon_s[::step],
    plotting_lat_s[::step],
    u_goodcondition[::step, ::step],
    v_goodcondition[::step, ::step],
    scale=1000,
    width=0.004,
    color=&quot;k&quot;,
    transform=ccrs.PlateCarree(),
)

gl = ax.gridlines(
    crs=ccrs.PlateCarree(),
    draw_labels=True,
    linewidth=2,
    color=&quot;gray&quot;,
    alpha=0.5,
    linestyle=&quot;--&quot;,
)
gl.top_labels = False
gl.right_labels = False
gl.xformatter = LONGITUDE_FORMATTER
gl.yformatter = LATITUDE_FORMATTER

cbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])
cbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)
cbar.ax.tick_params(labelsize=14)
cbar.ax.set_title(&quot;[dBZ]&quot;, fontsize=14, y=-0.1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="jMKf_dxQ1-do4MwqVpVZO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="dV42UfPxTI" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"></code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="R9wKOtN4qml0NSjHeG3tK" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="eVKLwtEm6U" class="relative group/block article-grid subgrid-gap col-screen"><p>Plot cross sections of Divergence and Absolute Vorticity Fields</p></div><div id="PzY5PUcRJd" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">loc = 15
plotting_var_vort_s_cs = da_s_ABSVORT.sel(latitude=ds_radar_s.latitude[loc])
plotting_var_CN_s_cs = da_CN[:, loc, :]
plotting_var_u_s_cs = da_s_U.sel(latitude=ds_radar_s.latitude[loc]).data
plotting_var_v_s_cs = da_s_V.sel(latitude=ds_radar_s.latitude[loc]).data
plotting_var_w_s_cs = ds_radar_s[&quot;W&quot;].sel(latitude=ds_radar_s.latitude[loc]).data
plotting_var_div_s_cs = da_s_DIV.sel(latitude=ds_radar_s.latitude[loc]).data
plotting_alt_s = ds_radar_s.altitude
u_cs_goodcondition = np.where(
    plotting_var_CN_s_cs &lt; CN_threshold, plotting_var_u_s_cs, np.nan
)
v_cs_goodcondition = np.where(
    plotting_var_CN_s_cs &lt; CN_threshold, plotting_var_v_s_cs, np.nan
)
w_cs_goodcondition = np.where(
    plotting_var_CN_s_cs &lt; CN_threshold, plotting_var_w_s_cs, np.nan
)
div_cs_goodcondition = np.where(
    plotting_var_CN_s_cs &lt; CN_threshold, plotting_var_div_s_cs, np.nan
)
vort_cs_goodcondition = np.where(
    plotting_var_CN_s_cs &lt; CN_threshold, plotting_var_vort_s_cs, np.nan
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="W-7S5FVHdLiwa2Sw0P3J2" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="D4AWuH2XhU" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">fig = plt.figure(figsize=(10, 10))
ax = plt.axes()

cf1 = ax.pcolormesh(
    plotting_lon_s,
    plotting_alt_s,
    div_cs_goodcondition / 1e5,
    cmap=&quot;Spectral_r&quot;,
    vmin=-0.005,
    vmax=0.005,
    alpha=0.8,
    shading=&quot;auto&quot;,
)
step = 1
cf_q = ax.quiver(
    plotting_lon_s[::step],
    plotting_alt_s[::step],
    u_cs_goodcondition[::step, ::step],
    w_cs_goodcondition[::step, ::step],
    scale=600,
    width=0.004,
    color=&quot;k&quot;,
)
ax.set_title(&quot;Divergence&quot;)
# ax.plot(terr_lon, terr_height)
cbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])
cbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)
cbar.ax.tick_params(labelsize=14)
cbar.ax.set_title(&quot;[1/s]&quot;, fontsize=14, y=-0.1)

ax.set_xlabel(&quot;Longitude&quot;)
ax.set_ylabel(&quot;Altitude&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Gr47HidnrY6bGbDgYHRZy" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="RWX4rG2MNb" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">fig = plt.figure(figsize=(10, 10))
ax = plt.axes()

cf1 = ax.pcolormesh(
    plotting_lon_s,
    plotting_alt_s,
    vort_cs_goodcondition / 1e5,
    cmap=&quot;Spectral_r&quot;,
    vmin=-0.005,
    vmax=0.005,
    alpha=0.8,
    shading=&quot;auto&quot;,
)
step = 2
cf_q = ax.quiver(
    plotting_lon_s[::step],
    plotting_alt_s[::step],
    u_cs_goodcondition[::step, ::step],
    w_cs_goodcondition[::step, ::step],
    scale=600,
    width=0.004,
    color=&quot;k&quot;,
)
ax.set_title(&quot;Absolute Vorticity&quot;)

cbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])
cbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)
cbar.ax.tick_params(labelsize=14)
cbar.ax.set_title(&quot;[1/s]&quot;, fontsize=14, y=-0.1)

# ax.set_xlim([-87.3, -86.4])
# ax.set_ylim([0, 14.5])
ax.set_xlabel(&quot;Longitude&quot;)
ax.set_ylabel(&quot;Altitude&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="b3MvppC7182WMVEjApKkB" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="o4zxbX10Q1" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="congratulations-you-have-successfully-completed-the-lrose-wind-tutorial-there-are-other-options-to-set-in-both-fractl-and-samurai-but-the-steps-and-parameters-in-this-tutorial-can-produce-a-good-quality-wind-field-in-many-cases-be-critical-with-your-own-analysis-and-feel-free-to-reach-out-to-the-lrose-team-for-questions-as-you-analyze-your-own-data" class="relative group"><span class="heading-text">Congratulations! You have successfully completed the LROSE Wind tutorial. There are other options to set in both FRACTL and SAMURAI, but the steps and parameters in this tutorial can produce a good quality wind field in many cases. Be critical with your own analysis and feel free to reach out to the LROSE team for questions as you analyze your own data.</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#congratulations-you-have-successfully-completed-the-lrose-wind-tutorial-there-are-other-options-to-set-in-both-fractl-and-samurai-but-the-steps-and-parameters-in-this-tutorial-can-produce-a-good-quality-wind-field-in-many-cases-be-critical-with-your-own-analysis-and-feel-free-to-reach-out-to-the-lrose-team-for-questions-as-you-analyze-your-own-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="wbcIOEgHYc" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"></code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="-ea8MBhAjojHUsDfIPz64" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ugKZoEerRJ" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="appendix-additional-samurai-parameters" class="relative group"><span class="heading-text">Appendix - additional SAMURAI parameters</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#appendix-additional-samurai-parameters" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="the-following-are-optional-parameters" class="relative group"><span class="heading-text">The following are optional parameters:</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-following-are-optional-parameters" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><strong>BACKGROUND SECTION</strong><ul><li>load_background [line 107]<ul><li>TRUE: A first guess of the analysis stored in the <code>samurai_Background.in</code> will be loaded. This can come from a model, sounding, or other data source if available. Most of the time it is not available so it should be set to FALSE.</li><li>FALSE (default setting)</li></ul></li><li>adjust_background [line 132]<ul><li>TRUE: the background will be adjusted to satisfy the mass continuity and match the supplied data using a variational adjustment. Without this, it is just interpolated simply to the grid.</li></ul></li></ul></li><li><strong>OPERATION SECTION</strong><ul><li>mode [line 170]: The default mode is MODE_XYZ, which is Cartesian grid. You can run in cylindrical mode with MODE_RTZ. Stay tuned for more radar centric RTZ mode in the near future!</li><li>preprocess_obs [line 219]<ul><li>TRUE: the raw data files will be preprocessed according to their file suffixes, and a <code>samurai_Observations.in</code> file will be generated.</li><li>FALSE: SAMURAI will load the observations from the <code>samurai_Observations.in</code> file located in the data_directory. This is useful for generating fake data, or for saving some time if you already ran the preprocessing of lots of files.</li></ul></li><li>num_iterations [line 232]: SAMURAI has the ability to take the output analysis and use it as a first guess for another analysis. This can be useful to create a ‘coarse’ analysis, followed by a ‘fine’ analysis. It is very important to set the observation and background errors appropriately if you choose this option.</li></ul></li><li><strong>BACKGROUND SECTION</strong><ul><li>ref_state [line 380]: a sounding file to define the hydrostatic reference state used in the analysis. The default is the Dunion (2011) moist tropical sounding file. The analysis is generally not sensitive to this sounding, as it is just used to provide a reference density field and fall speed relationships in most cases. If you are analyzing thermodynamic information or have a very different freezing level it may be useful to provide a more appropriate sounding. The file format is similar to that of WRF or CM1 idealized soundings.</li><li>i_background_roi [line 402], j_background_roi [line 412]: These set the background radius of influence when loading a background field.</li></ul></li><li><strong>RADAR SECTION</strong><ul><li>qr_variable [line 452]: In the default ‘dbz’ mode, the reflectivity is just interpolated and not included in the cost function minimization. If this is set to ‘qr’, then reflectivity is converted to liquid water using Z-M relationships defined in Gamache et al. (1993) and used as an additional variable in the cost function minimization. This is useful if you have other liquid water measurements to assimilate. Since this is a relatively simple Z-M it should be used with caution.</li><li>dbz_pseudow_weight [line 516]: SAMURAI has the ability to set a ‘soft’ w=0 boundary condition at echo top, and setting this weight will determine how soft or hard that constraint is enforced. Usually a hard w=0 is enforced via the spline boundary conditions at the bottom and top of the domain, so this is optional. It can be useful if the vertical velocities are believed to be too strong at the top of the cloud.</li><li>melting_zone_width [line 532], mixed_phase_dbz [line 540], rain_dbz [line 548]: SAMURAI has some basic terminal fall speed corrections that use reflectivity and Z-VT relationships. These parameters control which relationships are used depending on dbz and the height of the zero C level (which is determined from the reference sounding).</li></ul></li><li><strong>BOUNDARY CONDITIONS SECTION</strong></li></ul><p>Available options are R0, R1T0, R1T1, R1T2, R2T10, R2T20, R3, and PERIODIC following Ooyama (2002). The default “non”- boundary condition (R0) adds a buffer set of gridpoints that are used to calculate the solution but are discarded for output. Different boundary conditions can be set on the left (L) or right (R) side of the domain for each variable and dimension. The most common option other than R0 would be R1T0 for vertical velocity (rhow = 0) at the surface and/or domain top. Periodic domains are only valid for the i and j dimension, but are available in both the XYZ and RTZ mode. Improved boundary conditions are currently in development.</p><ul><li><strong>OBSERVATION ERRORS SECTION</strong></li></ul><p>Specified error is given in terms of a standard deviation, and is fixed for all observations from a particular instrument except radar. In the radar case, the spectrum width and elevation angle (proportional to terminal fall speed contribution) are used to define the error for each radar gate. A minimum error (radar_min_error) is also enforced.</p><ul><li><strong>ITERATION DEPENDENT SECTION</strong><ul><li>mc_weight [line 1450]: specify the weight given to the mass continuity constraint. Default is set to 1, and is generally not recommended to change unless you have a good reason.</li><li>i_filter_length [line 1546], j_filter_length [line 1558], k_filter_length [line 1570]</li></ul><ul><li>Gaussian recursive filter is a low-pass filter. Smaller filter lengths retain more detail, and larger filter lengths smooth more. The general recommendation is 4, 4, 2, which removes features less than approximately 4dx, 4dy, and 2dz from the analysis.</li></ul><ul><li>i_spline_cutoff [line 1582], j_spline_cutoff [line 1594], k_spline_cutoff [line 1606]</li></ul><ul><li>Spline cutoff is implemented as a third derivative constraint on the cubic B-spline basis during the spline transform. It is a sharper filter than the Gaussian, roughly equivalent to a sixth order filter.</li></ul><ul><li>i_max_wavenumber [line 1618], j_max_wavenumber [line 1630], k_max_wavenumber [line 1642]</li></ul><ul><li>The Fourier spectral filter is the sharpest filter. It can be used for desired effects, such as explicitly removing high-wavenumber features in the spectral domain (usually for RTZ analysis), or for producing a ‘mean’ field by restricting to wavenumber zero.</li></ul></li></ul></div><div></div><section id="references" class="article-grid subgrid-gap col-screen"><div><header class="text-lg font-semibold text-stone-900 dark:text-white group">References<a class="no-underline text-inherit hover:text-inherit ml-2 select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#references" title="Link to References" aria-label="Link to References">¶</a></header></div><div class="pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300"><ol><li class="break-words" id="cite-Bell_2012">Bell, M. M., Montgomery, M. T., & Emanuel, K. A. (2012). Air–Sea Enthalpy and Momentum Exchange at Major Hurricane Wind Speeds Observed during CBLAST. <i>Journal of the Atmospheric Sciences</i>, <i>69</i>(11), 3197–3222. <a target="_blank" rel="noreferrer" href="https://doi.org/10.1175/jas-d-11-0276.1">10.1175/jas-d-11-0276.1</a></li><li class="break-words" id="cite-Foerster_2014">Foerster, A. M., Bell, M. M., Harr, P. A., & Jones, S. C. (2014). Observations of the Eyewall Structure of Typhoon Sinlaku (2008) during the Transformation Stage of Extratropical Transition. <i>Monthly Weather Review</i>, <i>142</i>(9), 3372–3392. <a target="_blank" rel="noreferrer" href="https://doi.org/10.1175/mwr-d-13-00313.1">10.1175/mwr-d-13-00313.1</a></li><li class="break-words" id="cite-Foerster_2017">Foerster, A. M., & Bell, M. M. (2017). Thermodynamic Retrieval in Rapidly Rotating Vortices from Multiple-Doppler Radar Data. <i>Journal of Atmospheric and Oceanic Technology</i>, <i>34</i>(11), 2353–2374. <a target="_blank" rel="noreferrer" href="https://doi.org/10.1175/jtech-d-17-0073.1">10.1175/jtech-d-17-0073.1</a></li><li class="break-words" id="cite-Cha_2021">Cha, T.-Y., & Bell, M. M. (2021). Comparison of single-Doppler and multiple-Doppler wind retrievals in Hurricane Matthew (2016). <i>Atmospheric Measurement Techniques</i>, <i>14</i>(5), 3523–3539. <a target="_blank" rel="noreferrer" href="https://doi.org/10.5194/amt-14-3523-2021">10.5194/amt-14-3523-2021</a></li></ol></div></section><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/erad2024/_preview/91/lrose-basics"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">LROSE</div>An Introduction to LROSE</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/erad2024/_preview/91/stress-testing"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">LROSE</div>stress-testing</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"></path></svg></div></a></div></main></article><script>((o,u)=>{if(!window.history.state||!window.history.state.key){let f=Math.random().toString(32).slice(2);window.history.replaceState({key:f},"")}try{let d=JSON.parse(sessionStorage.getItem(o)||"{}")[u||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(f){console.error(f),sessionStorage.removeItem(o)}})("positions", null)</script><link rel="modulepreload" href="/erad2024/_preview/91/build/entry.client-K6EYMIDZ.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-FBLNPC3V.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-XJN3BT5Q.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-RE6LVKIZ.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-YAIQ7LUU.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-HTHE5KDW.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-AAPZCWUN.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-QB27XQSF.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-JOLZ6LZB.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-MITWS4PZ.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-EEG6LHX7.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-TEYZXLTV.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/root-ZSMPVWLZ.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/_shared/chunk-OCW4QGPJ.js"/><link rel="modulepreload" href="/erad2024/_preview/91/build/routes/$-OW6NTZY2.js"/><script>window.__remixContext = {"url":"/lrose-erad-fractl-samurai","state":{"loaderData":{"root":{"theme":"light","config":{"options":{"favicon":"/erad2024/_preview/91/build/favicon-ccc92c66b95c73afb96b34dea56bd6cd.ico","logo":"/erad2024/_preview/91/build/erad_white_backgroun-6b7aebdbb2c1947c33bec52b18c9b0de.png","logo_dark":"/erad2024/_preview/91/build/erad_white_backgroun-6b7aebdbb2c1947c33bec52b18c9b0de.png"},"myst":"1.3.5","nav":[{"title":"Conference Home","url":"https://www.erad2024.it"},{"title":"Open Radar Community","url":"https://openradarscience.org"}],"actions":[{"title":"Launch Environment","url":"https://binder.projectpythia.org/v2/gh/openradar/erad2024/main?labpath=notebooks","internal":false,"static":false}],"projects":[{"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"title":"ERAD 2024","authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","orcid":"0009-0004-9266-9293","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","orcid":"0009-0006-1419-0556","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"github":"https://github.com/openradar/erad2024","copyright":"2024","references":{"foundations":{"url":"https://projectpythia-mystmd.github.io/pythia-foundations"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"openradar/erad2024","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"schedule.md"}],"title":"Schedule"},{"children":[{"file":"notebooks/data-access/intro-data-access.ipynb"}],"title":"Data Access"},{"children":[{"children":[{"file":"notebooks/xradar-pyart/xradar-basics.ipynb"}],"title":"XRadar"},{"children":[{"file":"notebooks/xradar-pyart/pyart-basics.ipynb"},{"file":"notebooks/wradlib/wradlib_clutter_beamblockage.ipynb"}],"title":"Py-ART and wradlib"},{"children":[{"file":"notebooks/gpm-api/gpm-api-intro.ipynb"}],"title":"GPM-API"},{"children":[{"pattern":"notebooks/baltrad/baltrad_short_course/*.ipynb"},{"pattern":"notebooks/baltrad/pyart2baltrad/*.ipynb"},{"file":"notebooks/baltrad/baltrad2wradlib/baltrad2wradlib.ipynb"}],"title":"BALTRAD"},{"children":[{"file":"notebooks/lrose/LROSE_Basics.ipynb"},{"file":"notebooks/lrose/LROSE_ERAD_fractl_samurai.ipynb"},{"file":"notebooks/lrose/DD_Tornado_ERAD2024.ipynb"},{"file":"notebooks/lrose/testing/stress_testing.ipynb"}],"title":"LROSE"}],"title":"Radar Software Foundations"},{"children":[{"file":"notebooks/environment.ipynb"}],"title":"Notebook Environment"},{"children":[{"file":"notebooks/Retrieving_winds_with_pydda.ipynb"}],"title":"Retrieving winds with PyDDA"}],"thumbnail":"/erad2024/_preview/91/build/0885e6292c6be2fd643fbc952d479a01.jpeg","exports":[],"bibliography":[],"index":"readme","pages":[{"level":1,"title":"Preamble"},{"slug":"how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Schedule"},{"slug":"schedule","title":"Schedule","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Data Access"},{"slug":"intro-data-access","title":"Data Access Instructions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Radar Software Foundations"},{"level":2,"title":"XRadar"},{"slug":"xradar-basics","title":"Xradar Basics","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/xradar_logo-7850b184b6680fd4ae16cba7f7fff12d.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"Py-ART and wradlib"},{"slug":"pyart-basics","title":"Py-ART Basics with Xradar","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/arm_logo-17af329d19162baa8aa8ac0a8ba3b995.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"wradlib-clutter-beamblockage","title":"clutter and beamblockage","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/wradlib_logo.svg-82838a7a3f30c5f7326cec520ba52088.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"GPM-API"},{"slug":"gpm-api-intro","title":"Introduction to GPM-API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"BALTRAD"},{"slug":"baltrad-io","title":"I/O model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-qc","title":"Quality Control","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-drqc","title":"Quality Control using DR","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-parallel-processing","title":"Parallel processing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-compositing","title":"Compositing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-pyart-rain-rate-example","title":"Rain Rate retrieval with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pyart-baltrad-dealias-example","title":"Doppler Velocity Dealiasing with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad2wradlib","title":"Attenuation correction comparison with wradlib","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"LROSE"},{"slug":"lrose-basics","title":"An Introduction to LROSE","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/colette_rose-6abc79bfaa5e02829320f6eb11fe8c25.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lrose-erad-fractl-samurai","title":"LROSE Wind Tutorial","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/samurai-27fbe15cad957b2a5a2a28cd8349c2a5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stress-testing","title":"stress-testing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Notebook Environment"},{"slug":"environment","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Retrieving winds with PyDDA"},{"slug":"retrieving-winds-with-pydda","title":"PyDDA tutorial","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/5e2d147096249dc3a37da495168a9e9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/erad2024/_preview/91"},"routes/$":{"config":{"options":{"favicon":"/erad2024/_preview/91/build/favicon-ccc92c66b95c73afb96b34dea56bd6cd.ico","logo":"/erad2024/_preview/91/build/erad_white_backgroun-6b7aebdbb2c1947c33bec52b18c9b0de.png","logo_dark":"/erad2024/_preview/91/build/erad_white_backgroun-6b7aebdbb2c1947c33bec52b18c9b0de.png"},"myst":"1.3.5","nav":[{"title":"Conference Home","url":"https://www.erad2024.it"},{"title":"Open Radar Community","url":"https://openradarscience.org"}],"actions":[{"title":"Launch Environment","url":"https://binder.projectpythia.org/v2/gh/openradar/erad2024/main?labpath=notebooks","internal":false,"static":false}],"projects":[{"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"title":"ERAD 2024","authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","orcid":"0009-0004-9266-9293","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","orcid":"0009-0006-1419-0556","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"github":"https://github.com/openradar/erad2024","copyright":"2024","references":{"foundations":{"url":"https://projectpythia-mystmd.github.io/pythia-foundations"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"openradar/erad2024","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"schedule.md"}],"title":"Schedule"},{"children":[{"file":"notebooks/data-access/intro-data-access.ipynb"}],"title":"Data Access"},{"children":[{"children":[{"file":"notebooks/xradar-pyart/xradar-basics.ipynb"}],"title":"XRadar"},{"children":[{"file":"notebooks/xradar-pyart/pyart-basics.ipynb"},{"file":"notebooks/wradlib/wradlib_clutter_beamblockage.ipynb"}],"title":"Py-ART and wradlib"},{"children":[{"file":"notebooks/gpm-api/gpm-api-intro.ipynb"}],"title":"GPM-API"},{"children":[{"pattern":"notebooks/baltrad/baltrad_short_course/*.ipynb"},{"pattern":"notebooks/baltrad/pyart2baltrad/*.ipynb"},{"file":"notebooks/baltrad/baltrad2wradlib/baltrad2wradlib.ipynb"}],"title":"BALTRAD"},{"children":[{"file":"notebooks/lrose/LROSE_Basics.ipynb"},{"file":"notebooks/lrose/LROSE_ERAD_fractl_samurai.ipynb"},{"file":"notebooks/lrose/DD_Tornado_ERAD2024.ipynb"},{"file":"notebooks/lrose/testing/stress_testing.ipynb"}],"title":"LROSE"}],"title":"Radar Software Foundations"},{"children":[{"file":"notebooks/environment.ipynb"}],"title":"Notebook Environment"},{"children":[{"file":"notebooks/Retrieving_winds_with_pydda.ipynb"}],"title":"Retrieving winds with PyDDA"}],"thumbnail":"/erad2024/_preview/91/build/0885e6292c6be2fd643fbc952d479a01.jpeg","exports":[],"bibliography":[],"index":"readme","pages":[{"level":1,"title":"Preamble"},{"slug":"how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Schedule"},{"slug":"schedule","title":"Schedule","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Data Access"},{"slug":"intro-data-access","title":"Data Access Instructions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Radar Software Foundations"},{"level":2,"title":"XRadar"},{"slug":"xradar-basics","title":"Xradar Basics","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/xradar_logo-7850b184b6680fd4ae16cba7f7fff12d.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"Py-ART and wradlib"},{"slug":"pyart-basics","title":"Py-ART Basics with Xradar","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/arm_logo-17af329d19162baa8aa8ac0a8ba3b995.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"wradlib-clutter-beamblockage","title":"clutter and beamblockage","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/wradlib_logo.svg-82838a7a3f30c5f7326cec520ba52088.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"GPM-API"},{"slug":"gpm-api-intro","title":"Introduction to GPM-API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"BALTRAD"},{"slug":"baltrad-io","title":"I/O model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-qc","title":"Quality Control","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-drqc","title":"Quality Control using DR","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-parallel-processing","title":"Parallel processing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-compositing","title":"Compositing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-pyart-rain-rate-example","title":"Rain Rate retrieval with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pyart-baltrad-dealias-example","title":"Doppler Velocity Dealiasing with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad2wradlib","title":"Attenuation correction comparison with wradlib","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"LROSE"},{"slug":"lrose-basics","title":"An Introduction to LROSE","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/colette_rose-6abc79bfaa5e02829320f6eb11fe8c25.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lrose-erad-fractl-samurai","title":"LROSE Wind Tutorial","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/samurai-27fbe15cad957b2a5a2a28cd8349c2a5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stress-testing","title":"stress-testing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Notebook Environment"},{"slug":"environment","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Retrieving winds with PyDDA"},{"slug":"retrieving-winds-with-pydda","title":"PyDDA tutorial","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/5e2d147096249dc3a37da495168a9e9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"kind":"Notebook","sha256":"6651d231d4e8a64c7330c2f873827a58210a9a59c1ed57df9946756e146a4d33","slug":"lrose-erad-fractl-samurai","location":"/notebooks/lrose/LROSE_ERAD_fractl_samurai.ipynb","dependencies":[],"frontmatter":{"title":"LROSE Wind Tutorial","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","orcid":"0009-0004-9266-9293","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","orcid":"0009-0006-1419-0556","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"github":"https://github.com/openradar/erad2024","copyright":"2024","abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"thumbnail":"/erad2024/_preview/91/build/samurai-27fbe15cad957b2a5a2a28cd8349c2a5.png","exports":[{"format":"ipynb","filename":"LROSE_ERAD_fractl_samurai.ipynb","url":"/erad2024/_preview/91/build/LROSE_ERAD_fractl_sa-ccd8f90e9cb7fd3edbdd0500ad7c24fe.ipynb"}]},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FseZ0aa8rr"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"This interactive tutorial takes you through the steps of how to run ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"JijEqVOTeO"},{"type":"link","url":"http://wiki.lrose.net/index.php/FRACTL","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"FRACTL","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jJxk3FdMq3"}],"urlSource":"http://wiki.lrose.net/index.php/FRACTL","key":"JlLyr2JzX0"},{"type":"text","value":" and ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"HOQaLpMoDq"},{"type":"link","url":"http://wiki.lrose.net/index.php/SAMURAI","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"SAMURAI","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"axTqqfHJVz"}],"urlSource":"http://wiki.lrose.net/index.php/SAMURAI","key":"qcvReHYIO7"},{"type":"text","value":". FRACTL is a fast traditional solver with integrated interpolation using LROSE infrastructure, and it is able to perform both gridding and multi-Doppler synthesis for airborne radars and multiple ground-based radars. This is different than Radx2Grid which is only capable of gridding data for a single ground-based radar. FRACTL adopts techniques from older REORDER and CEDRIC software, but with some new improvements. In contrast to the older tools, in which interpolation is followed by synthesis, FRACTL does both steps together. FRACTL doesn’t require the CfRadial file with an aggregation of the sweeps, which is different than Radx2Grid. FRACTL performs a nearest neighbor interpolation of the reflectivity instead of bilinear interpolation in Radx2Grid. It combines the Doppler velocities together using the traditional ‘normal’ equations but with singular value decomposition of raw velocities in spherical space rather than Cramer’s rule in gridded space like CEDRIC.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"p2yQSq80FM"}],"key":"cyiG1EBt2q"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"SAMURAI is a variational analysis technique that is described in ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Hd92Uf1QMB"},{"type":"cite","url":"https://doi.org/10.1175/JAS-D-11-0276.1","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Bell et al. (2012)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"wwVmKOuREs"}],"kind":"narrative","label":"Bell_2012","identifier":"https://doi.org/10.1175/JAS-D-11-0276.1","enumerator":"1","key":"PlO55XaB5j"},{"type":"text","value":", ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"tQugUhzKXL"},{"type":"cite","url":"https://doi.org/10.1175/MWR-D-13-00313.1","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Foerster et al. (2014)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"sjI3Nmbtxa"}],"kind":"narrative","label":"Foerster_2014","identifier":"https://doi.org/10.1175/MWR-D-13-00313.1","enumerator":"2","key":"Kufk6PV7Ez"},{"type":"text","value":", ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"HQkyd1XFfL"},{"type":"cite","url":"https://doi.org/10.1175/JTECH-D-17-0073.1","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Foerster and Bell (2017)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"bCEztUjh9P"}],"kind":"narrative","label":"Foerster_2017","identifier":"https://doi.org/10.1175/JTECH-D-17-0073.1","enumerator":"3","key":"jTcUKnqRNe"},{"type":"text","value":", ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"wXx3VAXPJV"},{"type":"cite","url":"https://doi.org/10.5194/amt-14-3523-2021","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Cha and Bell (2021)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"A3cIJQDqo2"}],"kind":"narrative","label":"Cha_2021","identifier":"https://doi.org/10.5194/amt-14-3523-2021","enumerator":"4","key":"NNOA7wALQg"},{"type":"text","value":", ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"x7cEkMWAmo"},{"type":"link","url":"https://github.com/csu-tropical/csu-tropical/blob/master/Publications/papers/Cha_Bell_JTECH_2023.pdf","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Cha and Bell (2023)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"AzJ1vSHy1r"}],"urlSource":"https://github.com/csu-tropical/csu-tropical/blob/master/Publications/papers/Cha_Bell_JTECH_2023.pdf","data":{"kind":"file","org":"csu-tropical","repo":"csu-tropical","reference":"master","file":"Publications/papers/Cha_Bell_JTECH_2023.pdf","raw":"https://raw.githubusercontent.com/csu-tropical/csu-tropical/master/Publications/papers/Cha_Bell_JTECH_2023.pdf"},"internal":false,"protocol":"github","key":"Yqdj1UUQd9"},{"type":"text","value":", and other publications. The SAMURAI analysis yields a maximum likelihood estimate of the atmospheric state for a given set of observations and error estimates by minimizing a variational cost function. SAMMURAI employs a finite element approach using a series of overlapping cubic B-spline basis functions.\nThis approach offers several advantages over a conventional grid-point representation, including:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LxTxpchwry"}],"key":"MM6xIOfajH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Allowing for a scaled-controlled analysis that can incorporate multiple spatial filters in the background error covariance and analytic spatial derivatives in observational space.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"L4bJxWOafr"}],"key":"qC8ATOQGlk"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"No need to interpolate irregular data distributions to a Cartesian grid, and the data can be used in the variational minimization in their native locations.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Gm1hX3NkzO"}],"key":"RQ8ClnNdwM"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Spatial derivative constraints are considered as pseudo-observations, which can be implicitely integrated during the cost function minimmization at any point in their native coordinate.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"oFAB3WUvlK"}],"key":"D7zMFOSgNY"}],"key":"oRpXHGesN8"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"It has more features and more development than FRACTL, and is generally recommended over the former for publication-quality analysis. The two programs together provide a powerful combination to produce high quality multi-Doppler wind fields from ground-based, airborne, or mixed configurations.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"jmcJp0B7VW"}],"key":"ahD4G174Dq"},{"type":"div","children":[{"type":"image","url":"/erad2024/_preview/91/build/samurai-27fbe15cad957b2a5a2a28cd8349c2a5.png","key":"EFge4Vj7wV","urlSource":"../images/samurai.png"}],"key":"ZKBoytq5aa"},{"type":"thematicBreak","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"AHkKbTLqnM"},{"type":"heading","depth":3,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Tutorial Overview","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"paMYckPodn"}],"identifier":"tutorial-overview","label":"Tutorial Overview","html_id":"tutorial-overview","implicit":true,"key":"Mre2PaRzRz"},{"type":"heading","depth":4,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"1. Setup","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"fScOnQoOES"}],"identifier":"id-1-setup","label":"1. Setup","html_id":"id-1-setup","implicit":true,"key":"ChEEIOkWYC"},{"type":"heading","depth":5,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"QC-ed input data, a parameter file, and a center file:","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"uNKq0hYowj"}],"identifier":"qc-ed-input-data-a-parameter-file-and-a-center-file","label":"QC-ed input data, a parameter file, and a center file:","html_id":"qc-ed-input-data-a-parameter-file-and-a-center-file","implicit":true,"key":"VzW1kjpY84"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"strong","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"a. QC-ed radar data files are provided:","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"ZZ2ZvMB3oI"}],"key":"r3YdqEafrd"}],"key":"epQ5XIeJHO"},{"type":"table","position":{"start":{"line":30,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"CDV","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"egc0WkTGGT"}],"key":"uBbjW7dO5x"},{"type":"tableCell","header":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"PBE","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"PXYXpCAL65"}],"key":"XebQvNDet7"}],"key":"JDY172dJYB"},{"type":"tableRow","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004225.662_to_20180107_004240.662_CREU_DEL_SUR.nc","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"TE54c5wdFL"}],"key":"UvDA0NIEgC"},{"type":"tableCell","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004230.125_to_20180107_004245.125_PUIG_BER_SUR.nc","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"xiVSRr0CCP"}],"key":"ozJRv9zg2z"}],"key":"RCstLfBXwv"},{"type":"tableRow","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004244.092_to_20180107_004259.092_CREU_DEL_SUR.nc","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"Ybw2wFpICL"}],"key":"vua5o0uvTJ"},{"type":"tableCell","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004247.823_to_20180107_004301.823_PUIG_BER_SUR.nc","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"M9DfzmxD0d"}],"key":"frPVMPdEEN"}],"key":"gQp4bAm3pI"},{"type":"tableRow","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004301.347_to_20180107_004316.347_CREU_DEL_SUR.nc","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"bM1EZxuHjR"}],"key":"O72WE3RBzS"},{"type":"tableCell","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004304.358_to_20180107_004319.358_PUIG_BER_SUR.nc","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"YnrObcwvFY"}],"key":"qLtzcdPaFj"}],"key":"S8JcUuc6yo"},{"type":"tableRow","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004318.235_to_20180107_004332.235_CREU_DEL_SUR.nc","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"eX0YYdyAgl"}],"key":"zWja9TbIEK"},{"type":"tableCell","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004322.342_to_20180107_004337.342_PUIG_BER_SUR.nc","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"M7U7YMC2rJ"}],"key":"eceCDXqi9k"}],"key":"tjIqHXR6Sf"},{"type":"tableRow","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004335.672_to_20180107_004350.672_CREU_DEL_SUR.nc","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"rAe5JdKmoE"}],"key":"zjoKzEry5U"},{"type":"tableCell","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004340.760_to_20180107_004355.760_PUIG_BER_SUR.nc","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"M7utkE8VCk"}],"key":"Lmdd4FIk4S"}],"key":"sjmON6P7eY"},{"type":"tableRow","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004351.684_to_20180107_004406.684_CREU_DEL_SUR.nc","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"VeXALuGwMh"}],"key":"O9n8CR4YY8"},{"type":"tableCell","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004359.360_to_20180107_004414.360_PUIG_BER_SUR.nc","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"jwAnrYP0CB"}],"key":"IutvrYPv1H"}],"key":"B9BgjSSSVo"},{"type":"tableRow","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004409.010_to_20180107_004423.010_CREU_DEL_SUR.nc","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"atoNCQCNdU"}],"key":"R4YEGbpq7X"},{"type":"tableCell","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004416.403_to_20180107_004431.403_PUIG_BER_SUR.nc","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"CwdMqgGy6j"}],"key":"YpAS7lY5nD"}],"key":"M6s904wYbx"},{"type":"tableRow","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004426.910_to_20180107_004441.910_CREU_DEL_SUR.nc","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"t6fihqkLWB"}],"key":"d75Tf5gI0Z"},{"type":"tableCell","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004435.419_to_20180107_004450.419_PUIG_BER_SUR.nc","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"syOhUE05pl"}],"key":"C7VLS0S1T2"}],"key":"YO4CBDieVA"},{"type":"tableRow","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004444.218_to_20180107_004459.218_CREU_DEL_SUR.nc","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"L0re4eK0n4"}],"key":"jWSZo11wul"},{"type":"tableCell","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004453.420_to_20180107_004508.420_PUIG_BER_SUR.nc","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"AIl1ltv7wn"}],"key":"rNOE4y0HTz"}],"key":"A2dwdwS3K3"},{"type":"tableRow","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004501.640_to_20180107_004516.640_CREU_DEL_SUR.nc","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"vucmgv6zie"}],"key":"XBzxgeoFPv"},{"type":"tableCell","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004510.725_to_20180107_004525.725_PUIG_BER_SUR.nc","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"v0ZMl3AkPv"}],"key":"eljtq9VtNR"}],"key":"xW8TPwSY8A"},{"type":"tableRow","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004519.306_to_20180107_004534.306_CREU_DEL_SUR.nc","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"dCThFPr6CT"}],"key":"sqJELDJThl"},{"type":"tableCell","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004529.202_to_20180107_004544.202_PUIG_BER_SUR.nc","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"YerJs1AHWb"}],"key":"L7KHK3IXD9"}],"key":"rlKSAMptLh"},{"type":"tableRow","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004535.929_to_20180107_004550.929_CREU_DEL_SUR.nc","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"L6fZjYzOb2"}],"key":"SuIo3YuTiG"},{"type":"tableCell","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004546.178_to_20180107_004601.178_PUIG_BER_SUR.nc","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"BwmiOUNQx5"}],"key":"eamZCJrrFv"}],"key":"t7h9x5xTgC"},{"type":"tableRow","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004554.649_to_20180107_004608.649_CREU_DEL_SUR.nc","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"sBgrWdfHy6"}],"key":"azgDHORidO"},{"type":"tableCell","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004605.722_to_20180107_004620.722_PUIG_BER_SUR.nc","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"q89V9w1RFP"}],"key":"lt8V4D7xeY"}],"key":"GinXN08iE0"},{"type":"tableRow","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004612.565_to_20180107_004626.565_CREU_DEL_SUR.nc","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"SqvB1ykDKJ"}],"key":"gBB3ZmzPrc"},{"type":"tableCell","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004625.394_to_20180107_004640.394_PUIG_BER_SUR.nc","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"LQfs8qzzdE"}],"key":"pDjhoCQP3W"}],"key":"uKrZnSsiWb"},{"type":"tableRow","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004630.909_to_20180107_004645.909_CREU_DEL_SUR.nc","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"VCpG2v3bGw"}],"key":"oVbMpmQ1q1"},{"type":"tableCell","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004645.119_to_20180107_004700.119_PUIG_BER_SUR.nc","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"NkScz8Nz7Q"}],"key":"kWwHnSJejl"}],"key":"Qy86QKdRoS"},{"type":"tableRow","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004649.801_to_20180107_004704.801_CREU_DEL_SUR.nc","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"TEGGG50lAs"}],"key":"o9FEsub3Wk"},{"type":"tableCell","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"cfrad.20180107_004704.310_to_20180107_004719.310_PUIG_BER_SUR.nc","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"lcMnPwVTJn"}],"key":"JBDKJdQQGG"}],"key":"pFcugmb0YJ"}],"key":"Nx3uDzRmG4"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"*The QC process is not included in this tutorial. An example of one type of QC can be found in the QC tutorial and HawkEdit/solo are another tool to use for QC-ing data.","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"Nu58bd71aD"}],"key":"BrOL2A1CzM"},{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"strong","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"b. A terrain file for SAMURAI is provided in order to activate wind retrievals over complex terrain","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"cY5Po4C3UO"}],"key":"dtad4Pqw66"}],"key":"DIY3yhpsB9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":52,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":52,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"terrain.hgt","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"LUekGZtRYo"}],"key":"DBLVoRgH1T"}],"key":"FGsFvKmKyN"},{"type":"paragraph","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"*If a user wishes to retrieve wind flows over complex terrain, a ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"xdpH7Apc6b"},{"type":"strong","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"terrain.hgt","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"Nb8kUXmDPo"}],"key":"BPyzEvzbtb"},{"type":"text","value":" is required to be included in the data folder. More details about how to generate a ","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"txH5Q2vJxW"},{"type":"strong","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"terrain.hgt","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"vp31UIuZXM"}],"key":"JKU00eQT59"},{"type":"text","value":" can be found in Section X.","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"D6wzYfePDi"}],"key":"R6EoHLf2yI"},{"type":"heading","depth":4,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"2. Basic FRACTL and SAMURAI “how to”","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"A6NOGJvHGG"}],"identifier":"id-2-basic-fractl-and-samurai-how-to","label":"2. Basic FRACTL and SAMURAI “how to”","html_id":"id-2-basic-fractl-and-samurai-how-to","implicit":true,"key":"GM9VwdmdLN"},{"type":"paragraph","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"text","value":"Both FRACTL and SAMURAI are run on the command line, using simple commands like this:","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"S22k1rq1Kz"}],"key":"j8ymhkQx5a"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":60,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"inlineCode","value":"fractl -params /path/to/fractl.params","key":"YZbMJcnPB3"}],"key":"tFihuL5u1u"},{"type":"listItem","spread":true,"position":{"start":{"line":61,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"inlineCode","value":"samurai -params /path/to/samurai.params","key":"zCj148HlRY"}],"key":"qq2ad26DyS"}],"key":"ctTvuavN8F"},{"type":"paragraph","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"text","value":"All of the information about how FRACTL and SAMURAI should analyze data (e.g., paths to input data, variable names, grids, filters) is defined in parameter files for each application. Therefore, most of the work to run FRACTL and SAMURAI goes into setting up the parameter files and placing files in the correct location.","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"himFnt3V11"}],"key":"lLp24lBz0K"},{"type":"paragraph","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"FRACTL requirements:","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"clS3HhUgMI"}],"key":"ldLpQlGn8R"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":66,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"text","value":"radar data (CfRadial)","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"dEUcmRR1N9"}],"key":"H8jsJJtCyr"},{"type":"listItem","spread":true,"position":{"start":{"line":67,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"parameter file","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"U3FAidA21C"}],"key":"GpQpKpMHXM"}],"key":"zGofdM7SmE"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"SAMURAI requirements:","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"LvMVH5jOtJ"}],"key":"zqsKfqyY3D"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":70,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"children":[{"type":"text","value":"data (e.g., radar data, radiosondes, in-situ aircraft data)","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"L613J8Jxje"}],"key":"nxxaLfzSCK"},{"type":"listItem","spread":true,"position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"center file","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"l7xChtmGuu"}],"key":"hLBA5j1ign"},{"type":"listItem","spread":true,"position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"parameter file","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"DiL12WBT5S"}],"key":"WB7cnw8Zfa"},{"type":"listItem","spread":true,"position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"optional: terrain file","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"rYnyXzw7rn"}],"key":"wnSNyNApHV"},{"type":"listItem","spread":true,"position":{"start":{"line":74,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"optional: background file","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"zVsYm2B4LW"}],"key":"lUAYZ3uijh"}],"key":"kfrTL4Ov8w"},{"type":"heading","depth":5,"position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"How to set up FRACTL","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"A7ILxzIMJb"}],"identifier":"how-to-set-up-fractl","label":"How to set up FRACTL","html_id":"how-to-set-up-fractl","implicit":true,"key":"vh8yFMvgy0"},{"type":"paragraph","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"strong","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"text","value":"a. Set up directory structure:","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"h7bLbZynNQ"}],"key":"E2SoW1jzQs"}],"key":"jISYEbKLIK"},{"type":"paragraph","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"text","value":"All data that FRACTL will use need to be in the same directory. This tutorial will set up input and output directories for the initial FRACTL exercises. ","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"BlHK3Qmm0H"},{"type":"emphasis","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"text","value":"For additional FRACTL runs, we recommend creating new input and output directories to keep all analyses separate.","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"av7FULGyyx"}],"key":"vZhzze8s7o"}],"key":"NIaIHOa5cy"},{"type":"paragraph","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"strong","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"text","value":"b. Parameter files:","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"EjV2alxMjH"}],"key":"EzzLkxv8in"}],"key":"rZghZeLMfc"},{"type":"paragraph","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"FRACTL’s parameter file contains information about data I/O, the cartesian grid, and variable names. In this tutorial, the user will create their own parameter file from scratch and fill in the important parameters.","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"IWfQRzxJnA"}],"key":"LbWISQIPhU"},{"type":"heading","depth":5,"position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"How to set up SAMURAI","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"yFf1PNgwTX"}],"identifier":"how-to-set-up-samurai","label":"How to set up SAMURAI","html_id":"how-to-set-up-samurai","implicit":true,"key":"QphSlxPv0h"},{"type":"paragraph","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"strong","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"a. Set up directory structure:","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"tB83aR6Q6V"}],"key":"k0RjbMrVb0"}],"key":"xUqIgIWrxg"},{"type":"paragraph","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"All data and the center file defining the Cartesian grid that SAMURAI will use need to be in the same directory. This tutorial will set up input and output directories for the initial SAMURAI exercises. ","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"xZdo3ep63p"},{"type":"emphasis","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"For additional SAMURAI runs, we recommend creating new input and output directories to keep all analyses separate.","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"kH8dfhfegI"}],"key":"xS5FhND1Q7"}],"key":"ZHHzvt69BX"},{"type":"paragraph","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"strong","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"b. Center file:","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"bzbJMlyI8S"}],"key":"mWfJ8hmJpN"}],"key":"xPmt09NJR8"},{"type":"paragraph","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"The .cen file will be generated by the user through the provided Perl script. SAMURAI uses the center file to define the Cartesian frame of reference for the analysis, which be either be static or moving. It can be used to time-space correct the position of radar data in a moving storm system. It also sets the temporal limits for data to be included in the analysis. The center files are named according to the following convention: YYYYMMDD.cen","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"uqY6HzeBUg"}],"key":"vDiPnga9y7"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":95,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":95,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Provided: Generate_center.pl","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"qFl7VH2S3P"}],"key":"Ks2fYH5DVE"}],"key":"Uxpov5lxOZ"},{"type":"paragraph","position":{"start":{"line":97,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"strong","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"c. Parameter files:","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"ZYTfSA4PVe"}],"key":"DCcXwtTQxh"},{"type":"text","value":"\nSAMURAI’s parameter file contains information about data I/O, the cartesian grid, variable names, filters, and other scientific choices. In this tutorial, the user will create their own parameter file from scratch and fill in the important parameters.","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"Rd2QEFKk2t"}],"key":"b47XLtIUs0"}],"key":"KxQYxOjRZb"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Environment and packages¶","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oyESGQEb9L"}],"identifier":"environment-and-packages","label":"Environment and packages¶","html_id":"environment-and-packages","implicit":true,"key":"tXKmJajGA9"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"First, we import the required python packages to run this notebook. Most of the LROSE processing can be done with the os package and shell commands.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WMGeFCHicz"}],"key":"VAlBhG46d6"}],"key":"BvOCYBjbEO"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import os\nimport fsspec\n\n#### Need to modify later\nos.environ[\"LROSE_DIR\"] = \"/usr/local/lrose/bin\"\n\n# Set the URL and path to access the data on the cloud\nURL = \"https://js2.jetstream-cloud.org:8001/\"\npath = f\"pythia/radar/erad2024\"\n\nfs = fsspec.filesystem(\"s3\", anon=True, client_kwargs=dict(endpoint_url=URL))\n\nfs.glob(f\"{path}/lrose/*/*.nc\")\n\nfiles = fs.glob(f\"{path}/lrose/*/*.nc\")  # paths .../lrose/CDV_0042, .../lrose/PBE_004\nlocal_files = [\n    fsspec.open_local(\n        f\"simplecache::{URL}{i}\", s3={\"anon\": True}, filecache={\"cache_storage\": \".\"}\n    )\n    for i in files\n]","key":"wLPWlKKyDT"},{"type":"output","id":"rid5y9Vsi8UfoXUd3lVzs","data":[],"key":"uB3gvXfhtX"}],"key":"B0WVnwyIR4"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"files","key":"AHkZTgmYRZ"},{"type":"output","id":"g66FXuLvtX6RQ3Noiq9mz","data":[],"key":"qoifkLGOU4"}],"key":"V8ozo00HnR"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We will copy the required data to one directory as SAMURAI requires and organize the directory by performing the following commands:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RmAfSN4sWf"}],"key":"wADlfoA63Z"}],"key":"R1bbBf6yJL"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# make parameter directory\n!mkdir -p ./lrose_params\n\n# make subdirectories for samurai and fractl input\n!mkdir -p ./fractl_input\n!mkdir -p ./samurai_input\n\n# create SAMURAI output directory\n!mkdir -p ./output_sam\n\n# create FRACTL output directory\n!mkdir -p ./output_frac\n\n# create links to cfradial files for fractl and rsync for SAMURAI (having issues with links)\nfor i in range(len(local_files)):\n    os.system('ln -sf '+local_files[i]+' ./fractl_input/'+files[i].split('/')[-1])\n    os.system('rsync -av '+local_files[i]+' ./samurai_input/'+files[i].split('/')[-1])\n\n","key":"qc2kEEJMMQ"},{"type":"output","id":"QD2Eaa3E_US2waacbgzTE","data":[],"key":"j8umwPeeed"}],"key":"QVoUaGi27R"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2. Prepare data for analysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NF0uijho2L"}],"identifier":"id-2-prepare-data-for-analysis","label":"2. Prepare data for analysis","html_id":"id-2-prepare-data-for-analysis","implicit":true,"key":"pKjN7jfwU6"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this tutorial, the provided data have already been QC-ed. For a standard procedure, users are recommended to perform the following procedure:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"r2e0gXeku4"}],"key":"RLfaWZhHYw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Convert radar data from level 2 or other native format to CfRadial using RadxConvert","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gLam0HueD6"}],"key":"Lk9sNOiN3B"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"SAMURAI can also incorporate non-radar data, and can read many commonly used formats. All data files in the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RXx5R0aDxZ"},{"type":"inlineCode","value":"input","key":"OgBJiXMa8O"},{"type":"text","value":" directory will be included in the analysis. The read subroutine for each datatype is determined by the file suffix.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"CMLVM8Wzux"}],"key":"W9DVo4y3Mb"}],"key":"sZIaKGIUQ1"}],"key":"fL5XO9IiSP"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Quality-controlled raw data by desired QC-tools. See the QC tutorial for an example of how QC can be done; HawkEdit and Solo can also be used to QC data.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"UO7DKKJwrW"}],"key":"mejORr1ZWG"}],"key":"XMfKMJuVyA"}],"key":"IotMGDyt3T"}],"key":"gymoqT5yb2"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3. Setup the FRACTL parameter file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TdSoKCILwG"}],"identifier":"id-3-setup-the-fractl-parameter-file","label":"3. Setup the FRACTL parameter file","html_id":"id-3-setup-the-fractl-parameter-file","implicit":true,"key":"fwv7Ktb1VR"},{"type":"heading","depth":5,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"3.1 Generate the parameter file","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aTAfaynVnT"}],"identifier":"id-3-1-generate-the-parameter-file","label":"3.1 Generate the parameter file","html_id":"id-3-1-generate-the-parameter-file","implicit":true,"key":"lrviEg5dKk"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"First, we need to generate the parameter file! LROSE applications use a standard ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Xaqi5594UG"},{"type":"inlineCode","value":"-print_params","key":"uKPeuKQ0nA"},{"type":"text","value":" flag to generate parameter files with the defaults. We just need to specify the location and name of the parameter file. We have already set up a directory where you can place the parameter files. Feel free to change the name of the file if you prefer.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"t2Db0a5oFF"}],"key":"LC8qippU1L"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: Create the FRACTL parameter file.","key":"OG3Bd2Z5ol"}],"key":"yXdhHxAMrH"},{"type":"text","value":" ","key":"yfpKMKxOVV"},{"type":"break","key":"b7lgakNjVb"},{"type":"text","value":"Copy the following command into the open cell below and run it! ","key":"vZNEyNXamA"},{"type":"break","key":"czBduXsaDi"},{"type":"inlineCode","value":"!${LROSE_DIR}/fractl -print_params \u003e ./lrose_params/fractl_params","key":"e9YQ17U0I2"}],"key":"jxpCgROwLc"}],"key":"Xp1JYE0yU1"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"","key":"u2GDBX2Vv0"},{"type":"output","id":"dIwe_EnA6BVJ2DzgBEcFV","data":[],"key":"fnGncMauJ0"}],"key":"BD2hjwazHK"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now that we have generated the parameter file, we can inspect the file. In JupyterHub, you can edit the file either in a terminal with vi or by opening the text file via the lefthand menu - whichever you prefer! The file should be located here: /home/jovyan/lrose-hub/params/wind_guided","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x4poDQJuj3"}],"key":"LvlcckS5ro"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: Open the parameter file for modification.","key":"kkuw363m2J"}],"key":"se8RROcXhG"}],"key":"hZw8s2s6gM"}],"key":"JdkIDab8PD"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3.2 Modify the parameter file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P9SF8uCzvV"}],"identifier":"id-3-2-modify-the-parameter-file","label":"3.2 Modify the parameter file","html_id":"id-3-2-modify-the-parameter-file","implicit":true,"key":"zk8yl0Ic6U"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now we will step through and edit the parameter file.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"roE72d5V7H"}],"key":"Tvnxyb8Hvi"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"First, we’ll start with the parameters associated with the input/output data directories and filenames.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"YpDnszXZPx"}],"key":"hVaSnevLNC"},{"type":"table","position":{"start":{"line":7,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"wuYgvBOdSs"}],"key":"D6Wa2yPScw"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Line #","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"q47oxJd2Df"}],"key":"cVXIXDm5Ud"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"galSXAXulq"}],"key":"yTN9tRx2Ql"}],"key":"DHUqJuaC8e"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"inDir","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"H0f2K31H5r"}],"key":"SvMPPQHmkg"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"391","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"GUNTnFMqb1"}],"key":"Zw76l9swCw"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The input data directory. It can be a relative path, but an absolute path is more certain.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"mPtwU9dxqa"}],"key":"kUETFhSIJT"}],"key":"HBncIyWg7V"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"fileRegex","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"SwaCTjqAqy"}],"key":"RO5GTT4QYB"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"399","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"QFADJ7DoCi"}],"key":"iXW93XiNwd"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"A regular expression to identify the files used for analysis. Usually ^cfrad, to find CfRadial files.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"KloLd4h1m3"}],"key":"LDumNp1PsM"}],"key":"LjZZRpO34e"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"outNc","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"bIYfiediC1"}],"key":"QbCF3szLaD"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"426","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"iLkxkmtXp1"}],"key":"qrJdUsN4l4"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"The output directory where the analysis will go.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"o3tocMCPcu"}],"key":"NWQKmkfY8b"}],"key":"uZraMzVSpZ"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"outTxt","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"mYb5L6ZRpc"}],"key":"gg6Cdfqz4m"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"417","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"enoGh9Xs2k"}],"key":"OaDx0sr1oa"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"the name of the text file that will contain the verification of grid results.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"fclK3VX8TB"}],"key":"g5Keaegue2"}],"key":"eJIUwLLQ6h"}],"key":"u3vhgTXnoA"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: change the inDir, fileRegex, and outNc parameters.","key":"nBVsMGhEFG"}],"key":"s0a9oQiOlj"},{"type":"text","value":" ","key":"adCyC2LZ0N"},{"type":"break","key":"EPwzspGQHD"},{"type":"text","value":"Refer to the table above to find the parameters in the text file.","key":"Y6gwnMe2xb"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"inDir = \"./fractl_input\"","key":"luoPYmTjGU"}],"key":"HbGMBpeLub"}],"key":"M9954tXLY0"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"fileRegex = \"^cfrad\"","key":"iEwyCcCUvL"}],"key":"qcLilzvgyY"}],"key":"Lb5Yv05OJo"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"outNc = \"./output_frac/\"","key":"FLaqVofRna"}],"key":"MOJfZALiQd"}],"key":"Ao8yjyWWOR"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"outTxt = \"./output_frac/fractl_output.txt\"","key":"aizbkLF0Jy"}],"key":"XKohFoS1Ml"}],"key":"QghMBJgkGA"}],"key":"vaFathLykk"}],"key":"RnVoYwxiK6"}],"key":"BOVPgb4vdE"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lwW5CXWOdt"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Next, we’ll define the cartesian grid.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cGTjFJX1cI"}],"key":"IFwmbQUwlc"},{"type":"table","position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"z36gwhAU3p"}],"key":"Kkzs1kC0fI"},{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Line #","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"p7Aqk6xfqX"}],"key":"DqjvVMzQ8V"},{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RsQ4LdEzC9"}],"key":"BmXhwfY071"}],"key":"RlqSICq73F"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"zGrid, yGrid, xGrid","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"bk648tro1a"}],"key":"dNUE3RQUyl"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"174, 182, 190","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"PSH7UpO54L"}],"key":"vnGqnePFLq"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"These determine the grid spacing and size of the domain. Provide either the grid spacing to determine the max and min from the data or provide “min,max,incr” for each parameter.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vmIe56oLAq"}],"key":"fsIMHVnbtp"}],"key":"CpQkEGSkxz"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"projLat0, projLon0","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"YdKj7Y6tKP"}],"key":"VGWzHyiD1p"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"229, 237","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"dfUa1NWkpt"}],"key":"nHEHs32K09"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"The origin is an arbitrarily chosen point, but should be relevant for your objective. For example, it can be the geographical center of your multi-radar domain, the physical location of a radar for a single-radar domain, or the location of a feature of interest within your dataset (such as storm center). The latitude and longitude of your chosen origin should be given in decimal degrees.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NjzymInoOZ"}],"key":"rqfmEPHIQT"}],"key":"uRQC4PY8bo"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"radarAlt","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"NZ3u4o3k3M"}],"key":"m8OkbnoMYB"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"245","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"FqcCtO6f6c"}],"key":"EcUcF3YuV3"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Altitude of the radar (km). Sometimes mobile radars have the altitude entered in m, which can often cause errors in FRACTL.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"uxbIbEwU0w"}],"key":"FzvGVdj2CQ"}],"key":"JuKiDUByr0"}],"key":"Fx94epBaWA"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: set up the FRACTL grid using the following values.","key":"I5a6m2MIN5"}],"key":"mEufc7Ujcr"},{"type":"text","value":" ","key":"tAxMKbFBHV"},{"type":"break","key":"teR4ARnEYo"},{"type":"text","value":"We have provided the grid information for you. In this example, we will make a small box around the Goshen tornado with 100 m grid spacing. Since the radar had limited elevation angles, we restrict the vertical grid to 5-km altitude. Normally, you want to make the domain taller than your data.","key":"DuqTKUknff"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"zGrid = \"0,10,0.5\"","key":"p9wYXdhtRr"}],"key":"qk3pHzhR8n"}],"key":"f5KyVdNsoD"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"yGrid = \"10,40,0.5\"","key":"JKcV2SDanE"}],"key":"SDG9XhtOYT"}],"key":"zTyiLspWw7"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"xGrid = \"10,35,0.5\"","key":"im5MBevNcO"}],"key":"q8CsojSsjH"}],"key":"dZ2iJ4XYva"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"projLat0 = 41.601666","key":"BPyicWdWcB"}],"key":"SN6ao5tWNt"}],"key":"iwqQYdCG0i"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"projLon0 = 1.402777","key":"pqulH5ykTi"}],"key":"ajW6J55uYq"}],"key":"cjiQmq3FoM"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"radarAlt = 0.631","key":"OeA86LRRIf"}],"key":"DGmLUxLeRW"}],"key":"pMCfrspHRV"}],"key":"Y2OKjK6pR2"}],"key":"ofXqsOOIeb"}],"key":"C4L0i7Vjm6"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bRKAbSaNxE"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Finally, we’ll define the variable names so that FRACTL knows which variables to use in the analysis.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HBtvRMkYWq"}],"key":"gEqT3WDtX5"},{"type":"table","position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"d2lgKlXnKR"}],"key":"aixtJ0yXbI"},{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Line #","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Res96R2Oi1"}],"key":"Xp38cAsYrp"},{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"M4PuWTUFL4"}],"key":"xnuwEZscb2"}],"key":"tLPp3nkDZT"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"radialName","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"dR0hHrt7kJ"}],"key":"gka6dhokd8"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"440","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"UYymVnUqsS"}],"key":"Lq0EqmIVZi"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Variable name for the Doppler velocity.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Bln3QSme50"}],"key":"a4YqqhIITG"}],"key":"aFlyONNEdG"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"dbzName","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"pSvBSutIPR"}],"key":"d8vjeGeW2C"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"448","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ohOksg01k5"}],"key":"fn4D6pETuq"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Variable name for the radar reflectivity.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"DqS1kCwpAh"}],"key":"hdNruQ7Q3Y"}],"key":"JfIaXJ3him"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"ncpName","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"VOCB6KcCkw"}],"key":"AZZEbSyruR"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"456","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"UeriFc21YU"}],"key":"BkJ2kJYD9o"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Variable name for the normalized coherent power. This variable can be used to do some simple QC thresholding. If you don’t have NCP or SQI in your data then just point this to any other variable and select a value above which all data will be included.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Awg1qMs92D"}],"key":"lc5g2Jj3Um"}],"key":"IdWGef6sus"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"minDbz","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"bqahZJm0w6"}],"key":"dBeWOAzeIW"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"58","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"x0Lr38LnQS"}],"key":"GlB0vVN8nI"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Any values below the minimum reflectivity value will be tossed out. Example: -20.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"psmcMRks7C"}],"key":"t8RY38qF3l"}],"key":"GJesvTg7ZX"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"minNcp","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"AHxHdQ2RLg"}],"key":"v9x0juyTm3"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"69","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"wtWNWZ3H05"}],"key":"OgPqa9UIqJ"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Any values below the minimum NCP will be tossed out. Some radars do not have NCP, so the NCP variable can be replaced by any other variable to perform a simple quality control (e.g., SW \u003c -1, dBZ \u003c -20). This is generally intended for quick realtime quality control process.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"twxtqWf6Ov"}],"key":"BVZNyJv69b"}],"key":"E5poHsQ4AB"}],"key":"XguVEmGfko"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: look for the variable names for reflectivity, velocity, and whether NCP exists in each file.","key":"iMLxXpCVSY"}],"key":"eQTojhlUEo"},{"type":"paragraph","children":[{"type":"text","value":"We can use a couple applications to examine the variable names in our radar files (e.g., ncdump or RadxPrint). To limit the application output, you can also pipe information to commands like ","key":"lADbiTNbOi"},{"type":"inlineCode","value":"grep","key":"tPZBmk5DKe"},{"type":"text","value":" or ","key":"jG2DWQBozH"},{"type":"inlineCode","value":"head","key":"QWZxZDoPVE"},{"type":"text","value":". Some example commands you can try are listed below.","key":"Jy76mPL4XJ"}],"key":"upsh6VUimL"},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"Copy them as is to try them out in the next Jupyter cell. If you prefer to run them in a terminal window, remove the “!” symbol, which is just for Jupyter notebooks.","key":"pQSXkmHCZe"}],"key":"bxCO0ckXF6"}],"key":"EE3OjHxPiR"},{"type":"paragraph","children":[{"type":"inlineCode","value":"!ncdump -h $./fractl_input/cfrad.20180107_004225.662_to_20180107_004240.662_CREU_DEL_SUR.nc","key":"zqzBCFW7YT"}],"key":"Jcka2hyAdm"},{"type":"paragraph","children":[{"type":"inlineCode","value":"!ncdump -h ./fractl_input/cfrad.20180107_004230.125_to_20180107_004245.125_PUIG_BER_SUR.nc","key":"leJbYx4WsB"}],"key":"GphdykDwEf"},{"type":"paragraph","children":[{"type":"inlineCode","value":"!${LROSE_DIR}/RadxPrint -f ./fractl_input/cfrad.20180107_004225.662_to_20180107_004240.662_CREU_DEL_SUR.nc","key":"aTB1IdX1dA"}],"key":"xgYb22Izh8"},{"type":"paragraph","children":[{"type":"inlineCode","value":"!${LROSE_DIR}/RadxPrint -f ./fractl_input/cfrad.20180107_004230.125_to_20180107_004245.125_PUIG_BER_SUR.nc","key":"KgQ7WELJz4"}],"key":"cxDc3NwrmX"}],"key":"bZdvN3x0ht"}],"key":"F7wQ0ge9qm"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"","key":"pRUba1k7Qo"},{"type":"output","id":"9Hbl9SJ1X1bE_5i2zoDQB","data":[],"key":"lkQA7aklNr"}],"key":"gi3AiV8hhp"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: define the radar variable names in the parameter file based on the output discovered above.","key":"OqNYihgOKA"}],"key":"ss0z7qCzkS"}],"key":"E15EpwNdLM"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Congrats! You’ve finished setting up the FRACTL parameter file!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"nf7tUTuvSy"}],"key":"u5oT5ipu1e"}],"key":"o5hrKdpMZj"}],"key":"TLMscjxFV7"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"","key":"il8Oo8oTFU"},{"type":"output","id":"E9hVZVtjuvPf3jfTg78vj","data":[],"key":"ethQKp5Hfh"}],"key":"BJ786LyKZQ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"4. Run FRACTL","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wUMozWjhjD"}],"identifier":"id-4-run-fractl","label":"4. Run FRACTL","html_id":"id-4-run-fractl","implicit":true,"key":"DdcMTrtgah"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"After modifying the parameter file, direct to the parameter file by using the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IPPXLXVpFS"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"-params","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ab0Pg35ksT"}],"key":"nsoGbtFRog"},{"type":"text","value":" flags","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vWwzf0SPKM"}],"key":"MKNpoBdlv0"}],"key":"G4YIy7QXr6"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"!${LROSE_DIR}/fractl -params ./lrose_params/fractl_params","key":"MoheRqgpwP"},{"type":"output","id":"coYB0ZDvysJdn1vvfXj8N","data":[],"key":"yBeBeFe3Di"}],"key":"HWNy1rMG3H"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"5. Plot FRACTL results","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NgigjI9SPU"}],"identifier":"id-5-plot-fractl-results","label":"5. Plot FRACTL results","html_id":"id-5-plot-fractl-results","implicit":true,"key":"cjAWLQjG2V"},{"type":"heading","depth":5,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Environment and packages","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"efDT2n8073"}],"identifier":"environment-and-packages","label":"Environment and packages","html_id":"environment-and-packages-1","implicit":true,"key":"Ix4wCuscqZ"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Import the packages to plot the FRACTL output. These are pre-installed for this tutorial, but if you run this notebook on your own computer you may need to install them yourself using pip or conda.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"uY2N18fckt"}],"key":"aiLZljAuJv"}],"key":"A8hX8TzEH0"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nimport matplotlib.colors as colors\nimport numpy as np\nimport xarray as xr\nimport matplotlib as mpl\nimport cartopy.crs as ccrs\nfrom metpy.plots import ctables\nfrom cartopy.mpl.gridliner import LONGITUDE_FORMATTER, LATITUDE_FORMATTER\n\nmpl.rcParams[\"figure.dpi\"] = 300","key":"sGnzokz06h"},{"type":"output","id":"7fpbHG8S2xemd7qlzL8PS","data":[],"key":"NCLqfH0PqF"}],"key":"jGDTsu75DH"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the netcdf file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QRiEczignR"}],"key":"Clke7Mnyeh"}],"key":"mCJ3v0w8ly"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"inDir = \"./output_frac/20180107/\"\nfile = \"ncf_20180107_004719.nc\"\nds_radar = xr.open_dataset(inDir + file).squeeze()\nds_radar.load()","key":"gt1Q7HJHHE"},{"type":"output","id":"So0ELG7MsEZvYwIfkREqI","data":[],"key":"KVgjNZWSek"}],"key":"dpNXpCljB7"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"## Get variables:\nda_DBZ = ds_radar[\"DBZ\"]\nda_U = ds_radar[\"U\"]\nda_V = ds_radar[\"V\"]\nda_W = ds_radar[\"W\"]\nda_CN = ds_radar[\"conditionNumber\"]\n\n# radar locations (PBE, CDV)\nradar_lats = [41.37, 41.96]\nradar_lons = [1.39, 1.4]","key":"zPj1S0boq4"},{"type":"output","id":"pA4N3qqo8cV2v6kha2C84","data":[],"key":"pCWiIo9eHc"}],"key":"bCdzdWBSY1"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"## Set NWS reflectivity colorbar:\nref_norm, ref_cmap = ctables.registry.get_with_steps(\n    \"NWSStormClearReflectivity\", 0, 0.35\n)\nplotting_alt = 1.5 * 1000  # altitude at 1.5 km\nplotting_var = ds_radar.DBZ.sel(z0=plotting_alt).data\nplotting_var_u = ds_radar.U.sel(z0=plotting_alt).data\nplotting_var_v = ds_radar.V.sel(z0=plotting_alt).data\nplotting_lon = ds_radar.lon0\nplotting_lat = ds_radar.lat0\n\nfig = plt.figure(figsize=(12, 12))\nax = plt.axes(projection=ccrs.PlateCarree())\n# stamen_terrain = cimgt.Stamen('terrain')\n# ax.add_image(stamen_terrain, 8)\n\ncf1 = ax.pcolormesh(\n    plotting_lon,\n    plotting_lat,\n    plotting_var,\n    cmap=ref_cmap,\n    norm=ref_norm,\n    alpha=0.8,\n    shading=\"auto\",\n    transform=ccrs.PlateCarree(),\n)\nstep = 1\ncf_q = ax.quiver(\n    plotting_lon[::step, ::step],\n    plotting_lat[::step, ::step],\n    plotting_var_u[::step, ::step],\n    plotting_var_v[::step, ::step],\n    scale=1000,\n    width=0.004,\n    color=\"k\",\n    transform=ccrs.PlateCarree(),\n)\n\n\ngl = ax.gridlines(\n    crs=ccrs.PlateCarree(),\n    draw_labels=True,\n    linewidth=2,\n    color=\"gray\",\n    alpha=0.5,\n    linestyle=\"--\",\n)\ngl.top_labels = False\ngl.right_labels = False\ngl.xformatter = LONGITUDE_FORMATTER\ngl.yformatter = LATITUDE_FORMATTER\n\ncbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])\ncbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)\ncbar.ax.tick_params(labelsize=14)\ncbar.ax.set_title(\"[dBZ]\", fontsize=14, y=-0.1)","key":"Tc50xwaNBf"},{"type":"output","id":"bO8qIekAMRaco96iZkxzE","data":[],"key":"eTdCgK1iQx"}],"key":"o0qgMV9gAh"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If you can see the above plot, then congratulations! You have successfully created and plotted a dual-Doppler analysis. Now let’s try SAMURAI","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TWVSy1ld7J"}],"identifier":"if-you-can-see-the-above-plot-then-congratulations-you-have-successfully-created-and-plotted-a-dual-doppler-analysis-now-lets-try-samurai","label":"If you can see the above plot, then congratulations! You have successfully created and plotted a dual-Doppler analysis. Now let’s try SAMURAI","html_id":"if-you-can-see-the-above-plot-then-congratulations-you-have-successfully-created-and-plotted-a-dual-doppler-analysis-now-lets-try-samurai","implicit":true,"key":"MHNALHN15T"}],"key":"PK6u39IJ4c"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"6. Set the SAMURAI parameters","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NIWRNbvw69"}],"identifier":"id-6-set-the-samurai-parameters","label":"6. Set the SAMURAI parameters","html_id":"id-6-set-the-samurai-parameters","implicit":true,"key":"svZr5fzGev"},{"type":"heading","depth":5,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"6.1 Set up the center file","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iLRNm75BZH"}],"identifier":"id-6-1-set-up-the-center-file","label":"6.1 Set up the center file","html_id":"id-6-1-set-up-the-center-file","implicit":true,"key":"nu4T2nbXjD"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"One difference between FRACTL and SAMURAI is the requirement of a centerfile, which allows for a moving domain. We will modify and run the Generate_center.pl perl script to generate a time-series of center locations by providing an estimation of the moving speed of the target and the reference location.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"tthFtRWcEa"}],"key":"cJO9J0t3Y7"},{"type":"table","position":{"start":{"line":6,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"SnZvrcm2fw"}],"key":"IwH4ZYNZcr"},{"type":"tableCell","header":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Line #","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"EqbJ0zYqZY"}],"key":"FVxYAF2klX"},{"type":"tableCell","header":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"x88ZZj7KVc"}],"key":"o0wF3dXipO"}],"key":"OhRux5KSR5"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"lat_origin, lon_origin","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"cyYwLzrlow"}],"key":"ZEBUSBnZ92"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"13, 14","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"k8vmVjTI76"}],"key":"bxWLobGZOM"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Latitude and longitude of reference frame at origin time.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"xjnftYNpq5"}],"key":"LU14Pc7lB3"}],"key":"Hn5Z8S7rF1"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"u, v","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"xXfJL4XzGD"}],"key":"fduMzDQ3xY"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"15, 16","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gQaxcmsLtV"}],"key":"UjwIUzEt9k"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Storm motion.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"WIX6trQkuH"}],"key":"yovcrJ3cB0"}],"key":"d91sWnFDZJ"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"ymd","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"w1Swf0r9XP"}],"key":"d7HfIoUzhq"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"17","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Wg5ssoAXnM"}],"key":"oySjtwHYSO"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Date of initial time (YYYYMMDD).","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"oQEnTo7VrE"}],"key":"lVdJJnjLwm"}],"key":"uVXyPyPHpb"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"hr, mn, sec","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Rm4yg2G23D"}],"key":"FnxFUPRMS1"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"18, 19, 20","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ryZ6OICy81"}],"key":"oej5puXkmO"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Initial hour, minute, second of track.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"DOQHi2MmNT"}],"key":"KBxRwb2KST"}],"key":"rLC7yGHMvx"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"duration","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"PSALqKyez3"}],"key":"GG9VKsI3My"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"21","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"fTNXEr41Ir"}],"key":"SrMb7RssaK"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Duration of track in seconds.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ZOQO7Fv88O"}],"key":"TMBhJ96sOg"}],"key":"XkBDduYwAU"},{"type":"tableRow","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"origintime","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"W40dmwYn6L"}],"key":"fU9DAAIBeP"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"22","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"OOq3vbBVGS"}],"key":"msokDOVolP"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Time when the frame is at the latitude/longitude at the origin time in seconds from the initial time.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"kp8Ke2nzOB"}],"key":"AqprstX5LN"}],"key":"zaGINT6vhD"}],"key":"oJnv9RTTYv"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: open the Generate_center.pl script and modify the parameters for this case.","key":"EFXkLN49s7"}],"key":"vC5AnrYm5T"},{"type":"paragraph","children":[{"type":"text","value":"The script can be found here: ./Generate_center.pl","key":"MpyqHuLWua"}],"key":"p6qeGt41Zy"},{"type":"paragraph","children":[{"type":"text","value":"For lat_origin and lon_origin, use the values that we defined above in the FRACTL parameter file.","key":"tKbK1vMPOs"}],"key":"kBpBbxlsX6"},{"type":"paragraph","children":[{"type":"text","value":"For this example, we will use a moving domain. Set u and v can be set to 8.8 m/s.","key":"wLMKeligXr"}],"key":"veUPgi1VPq"},{"type":"paragraph","children":[{"type":"text","value":"The initial time set by ymd, hr, mn, and sec should be set such that the data all occur after the initial time. CfRadial files often contain the start time of the data in their file names. Look at the two files we are using and see when the data starts. Set your initial time before that time - usually 5-10 seconds is sufficient.","key":"nnQ8wfNdYL"}],"key":"V1dJScbaTj"},{"type":"paragraph","children":[{"type":"text","value":"Duration sets the length of the analysis. Similar to the initial time, look at the CfRadial filenames to determine the latest timestamp associated with the data. Then determine the number of seconds needed to encompass all the data from the two files. Feel free to round up a few seconds.","key":"SqJFgveqLh"}],"key":"aTOgrEuliC"},{"type":"paragraph","children":[{"type":"text","value":"For a moving next, origintime will need to match the reference time in the SAMURAI parameter file, so pick a time within your time frame and note the HH:MM:SS for later.","key":"cJA8rXujz9"}],"key":"QSA7acR4JK"}],"key":"wr0uaVztHI"}],"key":"EcrvBjtfnn"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"6.2 Generate the center file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oNhwo2yKnr"}],"identifier":"id-6-2-generate-the-center-file","label":"6.2 Generate the center file","html_id":"id-6-2-generate-the-center-file","implicit":true,"key":"ZFaZnejGFR"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: run the Perl script to generate the center file and move the center file to the wind_guided input directory.","key":"C14QLvhnYI"}],"key":"BWqKWsUB3U"},{"type":"text","value":" ","key":"llFrHqNHr4"},{"type":"break","key":"elJc4iF4NW"},{"type":"text","value":"First, we need to make the script executable so we can run it. Run the following command to change the permissions.","key":"JKKJUT5Cwb"}],"key":"YEx2FbG8dO"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"!chmod u+x ./Generate_center.pl","key":"oIdDpJatv5"}],"key":"HRKwq8yzAY"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Generate the .cen file in the input directory using the following command:\n","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"pPoP4r9i5O"},{"type":"inlineCode","value":"!Generate_center.pl","key":"PAYbnZMpGK"}],"key":"vw3H1hHrsl"}],"key":"nEQDEYcG64"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"","key":"pQQyK8W8Ra"},{"type":"output","id":"EZ8iudicjJrPnievc2Mga","data":[],"key":"oIFxoLni3E"}],"key":"fMhLknFjMS"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Generate_center.pl creates the file in the directory containing this notebook. We just need to move it to the input directory, which we can do with the following command. Using either a terminal or the nagivation at the left of the notebook, double check that the file is now in the input directory.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CJEz01xetl"}],"key":"oV7fgH6YGJ"}],"key":"eixM7s3SUK"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"!mv ./*.cen ./samurai_input","key":"EaVBT6DDqs"},{"type":"output","id":"nw5GkQItNoIUb2cqodIUP","data":[],"key":"dHOfgVemiX"}],"key":"pUAmFIjqyI"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"6.3 Generate the SAMURAI parameter file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DZkkfoi50D"}],"identifier":"id-6-3-generate-the-samurai-parameter-file","label":"6.3 Generate the SAMURAI parameter file","html_id":"id-6-3-generate-the-samurai-parameter-file","implicit":true,"key":"QlykFjt4Lj"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Like FRACTL, SAMURAI uses the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pAZ0WX2j13"},{"type":"inlineCode","value":"-print_params","key":"JKhoYXmkAa"},{"type":"text","value":" flag to generate parameter files with the defaults. We just need to specify the location and name of the parameter file. We have already set up a directory where you can place the parameter files. Feel free to change the name of the file if you prefer.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"yjbygsHBfI"}],"key":"hJfkUzJRPW"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: generate the SAMURAI parameter file.","key":"gDIDLerV2p"}],"key":"Lwm002uTXM"},{"type":"text","value":" ","key":"d5apSjFDur"},{"type":"break","key":"jAXolA6w5M"},{"type":"text","value":"Copy the following command into the open cell below and run it!","key":"ebifneFaZ0"}],"key":"fRzSXFvPPs"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"inlineCode","value":"!${LROSE_DIR}/samurai -print_params \u003e ./lrose_params/samurai_params","key":"KIBHsEcTnD"}],"key":"FhElJyt19b"}],"key":"RhFjpuVa6c"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"6.4 Modify the SAMURAI parameter file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LgFPZgZjcc"}],"identifier":"id-6-4-modify-the-samurai-parameter-file","label":"6.4 Modify the SAMURAI parameter file","html_id":"id-6-4-modify-the-samurai-parameter-file","implicit":true,"key":"WwylIZ5tFI"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now we will step through and edit the parameter file.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bJ5MGt4y4O"}],"key":"XWRm0PLq6i"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"First, we’ll start with the parameters associated with the input/output data directories and filenames.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dWd7JsXF4c"}],"key":"cfj3GL3ABa"},{"type":"table","position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"TP7w1NUmpO"}],"key":"Ri15XqkSGM"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Line #","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XH7kCImG5O"}],"key":"eJAwdLPg7J"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"dl0aPSCT7Z"}],"key":"Z5QXkItzw3"}],"key":"sSotZOrcLF"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"data_directory","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Vb68ihiW4V"}],"key":"kwPhKuknLN"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"171","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"j4D9TKi6zf"}],"key":"wFqpNyAPLH"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The input data directory. It can be a relative path, but an absolute path is more certain.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"uMCum6ybV7"}],"key":"fFdHnrplRb"}],"key":"gri5IR9XS2"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"output_directory","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"LmhplrvKWj"}],"key":"nEXKQZCxtw"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"181","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"vKAWzFUNDO"}],"key":"nCYO3qtYxo"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"The output directory where the analysis will go.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"VIYxg8RSte"}],"key":"nmWVNEOXsa"}],"key":"b1YYegSpFN"}],"key":"HO97TJE2qH"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: set the data directories.","key":"RSin3eDD4i"}],"key":"DTCi7EmX24"},{"type":"paragraph","children":[{"type":"text","value":"Change the data_directory and output_directory parameters to the following.","key":"oWJePTVMLL"}],"key":"sW08e4ZVFL"},{"type":"paragraph","children":[{"type":"inlineCode","value":"data_directory = “./samurai_input”","key":"Pnod3BAXct"}],"key":"lfL56LicWn"},{"type":"paragraph","children":[{"type":"inlineCode","value":"output_directory = “./output_sam”","key":"IJkMEpMAAM"}],"key":"J2MXeIYoyI"}],"key":"JHdnyiwtxl"}],"key":"blguZ2EECO"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r42flDdkTi"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Next, we’ll define the cartesian grid.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"dWG6F6TRIK"}],"key":"wsv4HTrxH6"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"G7KU3qed4g"}],"key":"VyzINthQYk"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Line #","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"GulcBVZBPE"}],"key":"dBdcyvcdYZ"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"MxUpVLQOfd"}],"key":"klqyNF7gul"}],"key":"nWY7SfpiLs"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"i_min, i_max, i_incr","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"rdbjDr7T2t"}],"key":"JfZqn8dU8F"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"254, 260, 266","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"UB95GNr4Z1"}],"key":"UQwVlbov72"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Define the minimum and maximum extent and grid spacing in km of the first horizontal dimension (e.g., Cartesian ‘x’ dimension). For cylindrical analyses (RTZ mode), this is radius.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"vVbmWchSRq"}],"key":"RSnUgRf0Ax"}],"key":"YS4vL6hbNX"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"j_min, j_max, j_incr","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"B1prMt03pZ"}],"key":"APIukWdwdz"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"272, 278, 284","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"yTzAE1mL85"}],"key":"lNdzSQdSEY"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Define the minimum and maximum extent and grid spacing of the second horizontal dimension (e.g., Cartesian ‘y’ dimension in km). For cylindrical analyses (RTZ mode), this is azimuth (degrees).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"i15DMsOkMo"}],"key":"GdnNFxW90z"}],"key":"IIJBHH4Eq2"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"k_min, k_max, k_incr","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Wy6h2I5lbD"}],"key":"Ey1Yx4dNCk"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"290, 296, 302","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ykPmdQ5k9I"}],"key":"jCxV5wWFcg"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Define the minimum and maximum extent and grid spacing in km of the vertical dimension (i.e., ‘z’ dimension). k_min should usually be 0.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"mpqTSpaBtR"}],"key":"GW4S7tQiqX"}],"key":"ffcE8VSkqP"}],"key":"FDkhQANyUe"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: set up the SAMURAI grid.","key":"NQSsEktEEx"}],"key":"UiehTi2N7I"},{"type":"paragraph","children":[{"type":"text","value":"Using the grid spacing and span that we used to set up FRACTL, fill out these 9 parameters in the SAMURAI parameter file. Since we are creating a Cartesian analysis, i, j, and k correspond to x, y, and z.","key":"zg0m6qYJLf"}],"key":"qehM7BtoQU"}],"key":"QwXLhOE5ZL"}],"key":"xZtsUaiM2I"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eXnZao38PK"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"SAMURAI requires the user to set the background time.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"XB6f4ImRsv"}],"key":"eks67vhyoy"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"AkwqNzHM9n"}],"key":"r8LXhsIZ5J"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Line #","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"iypbLExtyc"}],"key":"Yg8syELK8z"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"yya19boIrH"}],"key":"AKu2WbL7YG"}],"key":"EJfGAW5shy"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"ref_time","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"mx2iL1Xb5v"}],"key":"GDNRhyTjKp"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"324","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"rHwfNJeLvC"}],"key":"eA5584UXAx"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"This is the reference time to which all data will be time-space corrected. It must be a valid time in the centerfile or an error will occur. The time should be the same as the origin time corresponding to the latitude/longitude in the Perl center file script.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"oHYJtMdIB9"}],"key":"fvMQ8qCp6w"}],"key":"X3KKlH1Zfm"}],"key":"rAW1nS2xHk"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: define the reference time.","key":"HJ9F8QWcZd"}],"key":"IQtGVDXaEm"},{"type":"paragraph","children":[{"type":"text","value":"The reference time in SAMURAI should correspond to the same time as the origin time (","key":"nvLTdJh3Xf"},{"type":"emphasis","children":[{"type":"text","value":"not","key":"Wf2GLVpwxX"}],"key":"AVX38k8Bjt"},{"type":"text","value":" the start time) that was used in the Generate_center.pl script. The format is HH:MM:SS.","key":"J3Onu3DAdb"}],"key":"CT3N5cmenC"}],"key":"sZzAnPBR8C"}],"key":"picQtuXjNy"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jR6I5vAyPt"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Next, we’ll set some remaining parameters which define the radar variable names, radii of influence, and how much data is processed.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"OteEFljhWS"}],"key":"qCvhsomlDD"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hCTfKq1UdR"}],"key":"AVLSTH3vWd"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Line #","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"YpeHBVp0J0"}],"key":"j7HvJ6NQe0"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"L45vYPkVgn"}],"key":"bKxDa88Bew"}],"key":"LQ69CfUkci"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"radar_skip","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"JMls6iVNiH"}],"key":"k2Jx4qv04l"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"352","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ik2bVAGbqC"}],"key":"XHxvw7UC8m"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"This option can be used to skip beams in the radar data. When set to ‘1’, all beams are used. Setting it to 2 speeds up the calculation and is useful for preliminary analysis. It should generally be set to 1 for final analysis.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"iGGgZFaJDH"}],"key":"H9ApoPSimc"}],"key":"xwFPfSMivt"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"radar_stride","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"jWsANmiFUm"}],"key":"m7yz7KvsHU"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"358","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"iqFORHcVof"}],"key":"abaKqjVoyz"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"This option sets the number of gates over which averaging occurs along the beam. A stride of ‘1’ uses all data, and higher numbers average multiple gates of the given stride. Higher numbers speed up the calculation and can be used to thin the data to achieve desired spatial resolution of the input velocities.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BK0YISawHi"}],"key":"ugqitCrJYe"}],"key":"ivHnykFdZb"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"radar_dbz","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"OYKjiZ3OSr"}],"key":"hRtQz59VNw"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"382","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"hAl3VEmAZj"}],"key":"TmWz3rXx6h"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"The name of the reflectivity field in the radar data.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"k1fUoxtLv2"}],"key":"prZFBBcQCz"}],"key":"rhg5HUwxhP"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"radar_vel","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"PU7qlI6hf4"}],"key":"h0OSUq0Bat"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"392","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"wXhwf5YJV8"}],"key":"LkGOxtkKCM"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The name of the Doppler velocity field in the radar data.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"od2z6InSPl"}],"key":"Af3jYKhxSZ"}],"key":"ijoH7levdq"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"radar_sw","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"W6CYOEKdPq"}],"key":"VBoD70WYQJ"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"398","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Zearrkl9vd"}],"key":"Whfer2OuI2"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"The name of the spectrum width field in the radar data. This value is used to set the observational error for the Doppler velocity. If you don’t have spectrum width, you can point it at another variable (like NCP) or create a simple uniform field.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"cWiHCrrQFp"}],"key":"pWu9a0uFZr"}],"key":"OpVHLE0Rqd"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"i_reflectivity_roi, j_reflectivity_roi, k_reflectivity_roi","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"KS06ZajQYS"}],"key":"jWYUvcdnrc"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"404, 410, 416","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"fqnizsHpoS"}],"key":"nud92vrazJ"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"These variables set the radius of influence for the reflectivity interpolation. They should be similar to the grid increments defined above.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"YPYMqv6Eeu"}],"key":"u1jLPBGpSB"}],"key":"W2gJ64BS00"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"mask_reflectivity","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"gDEboQLzbt"}],"key":"c29PVuIIHJ"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"428","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"JRKRrGCeZ5"}],"key":"ADk1LwDBU4"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"The analysis can be set to missing data where there is no reflectivity. If set to ‘None’ then no masking is performed. A numerical value will be used as a threshold for the masking, with all data at nodes having less than the given reflectivity value removed. If you are not using a background field then it is generally a good idea to set this to some small number (like -10 dBZ) since the winds are not valid if there is no radar data.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"RLopVlgKLC"}],"key":"dOv67fHpZ9"}],"key":"AYxZOnwPIE"}],"key":"yKbDE7GLgE"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: fill out the radar-specific parameters","key":"tEoEqZcDng"}],"key":"TPTwCfMqE0"},{"type":"paragraph","children":[{"type":"text","value":"The radar_dbz and radar_vel parameters are the same names that were used in the FRACTL parameter file. The radar_sw parameter can be determined in a similar manner that we used earlier.","key":"toTTJ7l1I6"}],"key":"RgbgTF0QfF"},{"type":"paragraph","children":[{"type":"text","value":"For the radii of influence, use a value of 0.5, similar to the grid spacings.","key":"inAB438l4R"}],"key":"GoeXqIOatS"},{"type":"paragraph","children":[{"type":"text","value":"Finally, mask_reflectivity can be set to a low value to remove weak echo regions. A value around -25 dBZ is often sufficient.","key":"MJo9gl22bB"}],"key":"hQBiS86s61"}],"key":"WrrVQqRplW"}],"key":"mnKT9TIW6C"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dolvE3jAhp"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Finally, we’ll correct some default parameters..","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"BRpWthNwyy"}],"key":"QsGwK5418h"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"sEoaLg97xY"}],"key":"TIAYC0LOdX"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Line #","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"myyYFHuokn"}],"key":"y5wOsYlcRP"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"LHSMPy1rqY"}],"key":"KO3ylyexh8"}],"key":"j6itTev9wq"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"load_background","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"USlrCWnxfE"}],"key":"B9cdyPOdwy"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"93","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"upgNg4KZJJ"}],"key":"PvUWV6AHsI"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"A first guess of the analysis stored in the samurai_Background.in will be loaded. This can come from a model, sounding, or other data source if available. Most of the time it is not available so it should be set to FALSE.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Mb0yYObK74"}],"key":"O51PFvl6vF"}],"key":"fcBiy07VXi"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"output_latlon_increment","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Enrs63Lvbb"}],"key":"zgIQSLTjnb"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"1028","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"WkdSikfkR1"}],"key":"RHiqP6X1EG"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"SAMURAI can produce XYP analyses, where the vertical coordinate is pressure. This parameter sets the lat/lon increment.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"SXdbWls5qx"}],"key":"jZn5Ot5lDL"}],"key":"JZeLPQLtmM"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"output_pressure_increment","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"cAvwg5Pr4A"}],"key":"DtdSwHI12A"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"1034","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"blnlM5fC2n"}],"key":"tPZGAlZcwQ"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"SAMURAI can produce XYP analyses, where the vertical coordinate is pressure. This parameter sets the pressure level increment. Set to -1 for XYZ analyses. This will be made a default of -1 in a future release.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"iG7CM7NPX0"}],"key":"NhHIB3hMXY"}],"key":"sJ9XipIRkT"}],"key":"VP4bXIlFj2"},{"type":"div","class":"alert alert-block alert-info","children":[{"type":"strong","children":[{"type":"text","value":"Task: fill out the radar-specific parameters","key":"nfla3qTm0q"}],"key":"BLfCnOpzGy"},{"type":"paragraph","children":[{"type":"text","value":"Some of the default parameters have not been fixed in this version of SAMURAI. Set ","key":"iMYA6HgQQO"},{"type":"inlineCode","value":"load_background","key":"LkFN75Mqyf"},{"type":"text","value":" to FALSE, and ","key":"tp2niuT0SS"},{"type":"inlineCode","value":"output_latlon_increment","key":"GpBgpwDHoA"},{"type":"text","value":" and ","key":"wSKiKJqyy0"},{"type":"inlineCode","value":"output_pressure_increment","key":"bmWKXHpqPF"},{"type":"text","value":" to -1.","key":"FMd2036GK3"}],"key":"mRE8zEmL6s"}],"key":"ToIQyvII8U"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"For a list of additional SAMURAI parameters, please refer to the appendix at the end of this notebook.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"A81dvrRS5F"}],"key":"gTM5dxZux9"}],"key":"xfafnnIwgY"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"6.5 Generate a terrain file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ulqAe7Hmq2"}],"identifier":"id-6-5-generate-a-terrain-file","label":"6.5 Generate a terrain file","html_id":"id-6-5-generate-a-terrain-file","implicit":true,"key":"OjS9VzYhEU"}],"key":"cze42rFw3e"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"a. Data source and structure of input terrain file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FCj498fy8w"}],"key":"TpA23tIO56"}],"key":"rewB7NCGkx"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Terrain data is chosen by the user and can be obtained from different sources such as model data, ASTER-DEM, SRTM, and others. Users are required to save the file as ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jGdYo9JZoC"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"terrain.hgt","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zv68ys8ujT"}],"key":"EMTEnrSkVH"},{"type":"text","value":". The subroutine for reading the file is determined by its suffix (hgt).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"U5BWsuq2a7"}],"key":"yKbJbliojK"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The terrain file data should be structured as follows:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ourA8cPo6T"}],"key":"iEZF4AWqR9"},{"type":"table","position":{"start":{"line":7,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Latitude","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"OL1nWCplqn"}],"key":"wX1mI4ZByq"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Longitude","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"jxrsT0mmWr"}],"key":"HH259rQDMt"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Terrain-Height(m)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"G2gfyyTbSf"}],"key":"e98zhNJBAd"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"dh/dx(unitless)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rWxEeeR5V6"}],"key":"n8VqrlWckc"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"dh/dy(unitless)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ELIA7TJAzJ"}],"key":"h3MMSvc8TR"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"X(km)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"S0kObrD5OP"}],"key":"SueXZSD72f"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Y(km)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ngiiE3XVVS"}],"key":"yFg9DfpUKR"}],"key":"Qnw4iInnWs"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"41.692","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"G7kogV9EUv"}],"key":"KQ7zcOqyFX"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"1.523","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"DGng8IcNOu"}],"key":"hyW81vNZMN"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"636.789","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"uL2ZDi5nRP"}],"key":"xdbvSr9GuS"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"-0.002","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"eGyGyxyxhC"}],"key":"X00t9Xrmx8"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"0.007","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"rtQytJpHlM"}],"key":"rPHbpHG0Db"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"10.0","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ZeKPej4jLm"}],"key":"dsgm0RxsLP"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"10.0","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"pI8zxPMufu"}],"key":"clIS4l3oPw"}],"key":"EJl6Rg2RbB"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"41.696","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"M2rZIQDjdH"}],"key":"YrWhP9XHxx"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"1.523","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ooWAakpABT"}],"key":"qBNUaRJ8jw"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"640.075","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Ytam96w4wN"}],"key":"xlyHgyZTeo"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"-0.001","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"N5R1FwJ4O4"}],"key":"z6YAy4nj5H"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"0.006","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"vj031klP5A"}],"key":"eBWfD57qfc"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"10.0","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"s1k5yDSkej"}],"key":"IFWOXJ273a"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"10.5","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"BMoSxjqtYN"}],"key":"TH6glYSwDR"}],"key":"IG90RnJr2g"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"41.701","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"zIz3md82xA"}],"key":"MPmqXMgRHB"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"1.523","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"U4FamOfwyR"}],"key":"V6Q7kApapj"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"642.975","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"nbkOcCeLBZ"}],"key":"TxUpeQBbZI"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"-0.001","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"oYZCYq1DS2"}],"key":"NhpEurHuBk"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"0.006","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"vVR8V9ZsL0"}],"key":"wNcvLzCiBd"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"10.0","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"D1BwQezM6Q"}],"key":"L8gkYaBGpL"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"11.0","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"e2xiDmcKaY"}],"key":"BqHy6haL7v"}],"key":"PXGkdphurK"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"41.705","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"xI96IXyBnC"}],"key":"tz8Y3xgz6n"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"1.523","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ZkVqeopobR"}],"key":"hAgFDXisBm"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"645.635","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"aBrfMpI3ss"}],"key":"Fl6YtwDKVj"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"-0.001","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"CmoJJ9zDW0"}],"key":"Y8NY32Sb2t"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"0.005","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"M0mgkivT5m"}],"key":"JZ6mwuPARy"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"10.0","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"L4qoiaBHVP"}],"key":"Fix10WtZnl"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"11.5","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"YKc2VIKVXP"}],"key":"ApfWYjSyMm"}],"key":"b6UZvvojLe"},{"type":"tableRow","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"41.71","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"UGUvxdlSFS"}],"key":"xaTbvJGyxY"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"1.523","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"otW46Pu9TL"}],"key":"Aczapspf7f"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"647.869","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"xPFDmEfp4v"}],"key":"ESmi9GEc7u"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"-0.0","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"WJFPZ1tLKN"}],"key":"XQm5LUTrDS"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"0.004","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"dv1k0MwMen"}],"key":"DSj9ab0lcL"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"10.0","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"u6HFLGSdRH"}],"key":"s10j5kdkH8"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"12.0","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"WJHCf9CDze"}],"key":"lmE04PCo97"}],"key":"XJEFgMGibo"},{"type":"tableRow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"41.714","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"eUVnkhEuhN"}],"key":"FUiPL8MV3R"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"1.523","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"iCzLOk00fX"}],"key":"LbNUlKmAup"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"649.542","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"j4kWdtzjaS"}],"key":"oipXryxNFJ"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"0.0","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"c7Y1PPTdiC"}],"key":"f1VDj6lXCF"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"0.003","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"BbGRjRvsrh"}],"key":"PpmMz8TfC6"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"10.0","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"CRbmCMXiMU"}],"key":"iOLGLtF5Wl"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"12.5","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"x8pHDuM8D4"}],"key":"NBOcqmY9s9"}],"key":"n2z0gPqbZ4"},{"type":"tableRow","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"41.719","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"OMnamkVR9I"}],"key":"WDmCJnQyCz"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"1.523","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"qyxoC9T3ku"}],"key":"n673Zor6cf"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"650.772","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"sn5Z0BIYzN"}],"key":"t9ZtsiNI38"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"0.001","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"noEYF7nSbf"}],"key":"fn2fXjcbFD"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"0.002","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"IBdRqR6f3Z"}],"key":"pwtL0w8DRz"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"10.0","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"BQu60kJTZJ"}],"key":"LpkQBAJirp"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"13.0","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Qb4cbDbKkx"}],"key":"XSzqpjiJTp"}],"key":"Bw54U32kgC"},{"type":"tableRow","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"41.723","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"qExdIQDpfk"}],"key":"equPD7zUXL"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"1.523","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"SouTdG2Tvd"}],"key":"JkyZtsaDOM"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"651.559","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"TszU49dbBf"}],"key":"fisaoHfLJC"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"0.002","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"r5SPRPwj9p"}],"key":"qrvepKgGX4"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"0.001","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"fYLl7DGaWJ"}],"key":"LgDzod3tF9"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"10.0","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"ViEM4MqLHZ"}],"key":"tG0a9W2IqP"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"13.5","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"UkgVHcLQjr"}],"key":"FWV5r6NrQk"}],"key":"J1dsWm1bDa"},{"type":"tableRow","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"...","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"w7xovECday"}],"key":"iDMrd21DIj"},{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"...","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"bMlW2XBI8F"}],"key":"fGBmf1qK4j"},{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"...","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"DyLrZkjhSK"}],"key":"Z3lfiVm2S9"},{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"...","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"xETSqartUm"}],"key":"R5K0htAGRC"},{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"...","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"m27SNsn57n"}],"key":"TuXc83bhgg"},{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"...","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"IavXbx9i3o"}],"key":"ZOxOr6smTj"},{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"...","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"P3tQp0thFi"}],"key":"IRGOrahXWc"}],"key":"F3oKbUPW1I"}],"key":"NXhVl5n7Z3"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"X and Y should match the desired output grid which corresponds to the “GRID DEFINITION SECTION” in the parameter file.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"sTfeEh79aV"}],"key":"qIoPZmJgOy"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"strong","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"In this tutorial, the terrain file is provided.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"hMMywo2FUh"}],"key":"Iha14Kd8P2"}],"key":"OAzDLytTxt"},{"type":"thematicBreak","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"kTZHgqpgKX"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Now, we can modify the weights associated with the terrain calculation. When a terrain file is included in the directory, users can determine the strength of the boundary condition by changing the magnitude of ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"gRgslOaKKa"},{"type":"strong","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"neumann_u_weight","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"XSovfF4CJz"}],"key":"I6kPCq4Z9o"},{"type":"text","value":", ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"TeIWncGKfA"},{"type":"strong","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"neumann_v_weight","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ZcGqTrWHTt"}],"key":"V5rJyHV6Gl"},{"type":"text","value":", and ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"DGaOpupK7P"},{"type":"strong","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"dirichlet_w_weight","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"e1KQyAd11Q"}],"key":"GG4BGWeEfY"},{"type":"text","value":". The ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"hYVebXMoeI"},{"type":"strong","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"neumann_u_weight","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"DNWQYayvH2"}],"key":"bJO5IBJW4W"},{"type":"text","value":", ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"IZCSI0gtky"},{"type":"strong","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"neumann_v_weight","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"noF1Oedp7D"}],"key":"pqgKmysq2I"},{"type":"text","value":" regulate the impermeability of the horizontal flow as it encounters the terrain, and the ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"sDD60YkHqM"},{"type":"strong","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"dirichlet_w_weight","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"mfZdr0wK12"}],"key":"xJJ8yywIau"},{"type":"text","value":" governs the vertical motion generated by topographic influences when horizontal flow interacts with the terrain.","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"KrLYxFQu18"}],"key":"kdL0x9QbjU"},{"type":"table","position":{"start":{"line":27,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"ljl4vyfeFa"}],"key":"j1FpZ8jX1l"},{"type":"tableCell","header":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Line #","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"O4KK81zoT8"}],"key":"pAmft7qXV8"},{"type":"tableCell","header":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"aY7PPP1o3I"}],"key":"uld47OAsER"}],"key":"W6RExIrKW5"},{"type":"tableRow","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"neumann_u_weight","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"osYIlbvRNp"}],"key":"H7FnbNb4Qh"},{"type":"tableCell","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"1147-1149","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"h6H1IKphD7"}],"key":"Ezc9JZENqh"},{"type":"tableCell","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"This option sets the strength of the impermeability of the horizontal flow in u direction as it encounters the terrain.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"QYXckRy66z"}],"key":"fxIp0jXXGu"}],"key":"IFWMD8vCec"},{"type":"tableRow","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"neumann_v_weight","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"I0N0D9lJzz"}],"key":"qbWPmre3t4"},{"type":"tableCell","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"1157-1159","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"pxW9KQRrFK"}],"key":"igsbcRhVTE"},{"type":"tableCell","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"This option sets the strength of the impermeability of the horizontal flow in v direction as it encounters the terrain.","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"FLVHSACZck"}],"key":"uGke8mIgGY"}],"key":"mBtuAR8hKj"},{"type":"tableRow","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"dirichlet_w_weight","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"Z78muYNrG5"}],"key":"lUg6QaxBHb"},{"type":"tableCell","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"1167-1169","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"RQJZEZDAxa"}],"key":"WBH3eqGQIM"},{"type":"tableCell","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"This option sets the strength of the topographic forcing when horizontal flow interacts with the terrain.","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"C7a4M3BBp6"}],"key":"Z9l1M7x6wE"}],"key":"vhy47LwWRo"}],"key":"u7f9L5wS8G"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"The default value is 0.1. However, the choice of settings must be carefully evaluated on a case-by-case basis and their interpretations should be made accordingly when drawing scientific conclusions.","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"uzJDaTqmNR"}],"key":"Ivs6Pm9rIx"}],"key":"A24HQvDajB"}],"key":"hsiFJYnUd7"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now let’s take a look at the terrain.hgt text file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fDOoVZ3lKa"}],"key":"zRsxYvBsAl"}],"key":"eX3vcYJXj3"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"file_path = \"./data/terrain.hgt\"\nterr_lat = []\nterr_lon = []\nterr_height = []  # Add more if there are more columns\nterr_x = []\nterr_y = []\n\n# Open and read the text file line by line\nwith open(file_path, \"r\") as file:\n    for line in file:\n        # Remove tab and newline characters from the line\n        line = line.replace(\"\\t\", \"\").replace(\"\\n\", \"\")\n\n        # Split the line into columns (assuming space-separated values)\n        columns = line.split()  # You can change the delimiter inside split() if needed\n\n        # Append each column's data to the respective list\n        if len(columns) \u003e 0:\n            terr_lat.append(float(columns[0]))\n        if len(columns) \u003e 1:\n            terr_lon.append(float(columns[1]))\n        if len(columns) \u003e 2:\n            terr_height.append(float(columns[2]))\n        if len(columns) \u003e 5:\n            terr_x.append(float(columns[5]))\n        if len(columns) \u003e 6:\n            terr_y.append(float(columns[6]))\n        # Add more if there are more columns","key":"HGkVERiy9H"},{"type":"output","id":"oviKO6yPkolKuwr4ApvHB","data":[],"key":"qRxfKjzoCw"}],"key":"co9TOJV01f"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig = plt.figure(figsize=(12, 12))\nax = plt.axes(projection=ccrs.PlateCarree())\ncf1 = plt.scatter(\n    terr_lon, terr_lat, s=terr_height, c=terr_height, cmap=\"terrain\", vmin=0, vmax=1000\n)\ncbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])\ncbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)\ncbar.ax.tick_params(labelsize=14)\ncbar.ax.set_title(\"Terrain Height (m)\", fontsize=14, y=-0.1)","key":"yUg5XrMSlP"},{"type":"output","id":"xa9c2vl1tiAAPSFWCgWe0","data":[],"key":"Zgtg8guSXG"}],"key":"DCIMvGL5VP"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"","key":"G29xHygB6A"},{"type":"output","id":"Nkrff0-tF1e_wE7PA2JXB","data":[],"key":"Mr6i0s3ZRV"}],"key":"VpPwPWb359"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"7. Run SAMURAI","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"inb26yEEJ5"}],"identifier":"id-7-run-samurai","label":"7. Run SAMURAI","html_id":"id-7-run-samurai","implicit":true,"key":"yEqIcr4Mzc"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"After modifying the parameter file, direct to the parameter file by using the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"j9rdDWMn13"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"-params","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"F4wCKf0dyI"}],"key":"pLKdfluURU"},{"type":"text","value":" flags","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OBSXObO0Pp"}],"key":"Q0wpmXYIqR"}],"key":"MDQKVKwMb2"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"!${LROSE_DIR}/samurai -params ./lrose_params/samurai_params","key":"lmpENRMrw7"},{"type":"output","id":"J12rSJ1u0MEKFxlqqFrqa","data":[],"key":"Qg5sIVrepY"}],"key":"NNLR6ggcXY"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"8. Plot SAMURAI results","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zeaohv1EGd"}],"identifier":"id-8-plot-samurai-results","label":"8. Plot SAMURAI results","html_id":"id-8-plot-samurai-results","implicit":true,"key":"ElmMbi27Rn"}],"key":"RNW0PoUUPk"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Environment and packages¶","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VVMU24wwqc"}],"identifier":"environment-and-packages","label":"Environment and packages¶","html_id":"environment-and-packages-2","implicit":true,"key":"xfq9jM3hvc"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The packages were already imported when we plotted the FRACTL results.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"FbCXGOKtk4"}],"key":"k8VMFlw12h"}],"key":"rcWypKDhO1"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the netcdf file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ptn3C1FuN3"}],"identifier":"load-the-netcdf-file","label":"Load the netcdf file","html_id":"load-the-netcdf-file","implicit":true,"key":"sVpfe1ElA4"}],"key":"cm0xeGZNqz"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"inDir_s = \"./output_sam/\"\nfile_s = \"samurai_XYZ_analysis.nc\"\nds_radar_s = xr.open_dataset(inDir_s + file_s).squeeze()\nds_radar_s.load()","key":"rI7Lli4O1J"},{"type":"output","id":"FcP-i9ODM4Zjy7cFI17tz","data":[],"key":"H5zC9Ncg51"}],"key":"gBDr5ED7fC"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"## Get variables:\nda_s_DBZ = ds_radar_s[\"DBZ\"]\nda_s_U = ds_radar_s[\"U\"]\nda_s_V = ds_radar_s[\"V\"]\nda_s_W = ds_radar_s[\"W\"]\nda_s_ABSVORT = ds_radar_s[\"ABSVORT\"]\nda_s_DIV = ds_radar_s[\"DIV\"]\n\nlon_s, lat_s = np.meshgrid(ds_radar_s.longitude, ds_radar_s.latitude)","key":"NYi122kAjU"},{"type":"output","id":"qZDb_ffO_6YCWSzAWcP6G","data":[],"key":"Z8oHFi5tg1"}],"key":"sN07jkorz1"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"## Set NWS reflectivity colorbar:\nref_norm, ref_cmap = ctables.registry.get_with_steps(\n    \"NWSStormClearReflectivity\", 0, 0.35\n)\nplotting_alt = 3.5  # can change to different altitude\nplotting_var_s = ds_radar_s.DBZ.sel(altitude=plotting_alt)\nplotting_var_u_s = ds_radar_s.U.sel(altitude=plotting_alt).data\nplotting_var_v_s = ds_radar_s.V.sel(altitude=plotting_alt).data\nplotting_lon_s = ds_radar_s.longitude\nplotting_lat_s = ds_radar_s.latitude\n\nfig = plt.figure(figsize=(12, 12))\nax = plt.axes(projection=ccrs.PlateCarree())\n# stamen_terrain = cimgt.Stamen('terrain')\n# ax.add_image(stamen_terrain, 8)\n\ncf1 = ax.pcolormesh(\n    plotting_lon_s,\n    plotting_lat_s,\n    plotting_var_s,\n    cmap=ref_cmap,\n    norm=ref_norm,\n    alpha=0.8,\n    shading=\"auto\",\n    transform=ccrs.PlateCarree(),\n)\nstep = 1\ncf_q = ax.quiver(\n    plotting_lon_s[::step],\n    plotting_lat_s[::step],\n    plotting_var_u_s[::step, ::step],\n    plotting_var_v_s[::step, ::step],\n    scale=1000,\n    width=0.004,\n    color=\"k\",\n    transform=ccrs.PlateCarree(),\n)\nax.contour(\n    plotting_lon_s,\n    plotting_lat_s,\n    plotting_var_s,\n    levels=np.arange(35, 100, 100),\n    colors=\"k\",\n    linewidths=3,\n    transform=ccrs.PlateCarree(),\n)\ngl = ax.gridlines(\n    crs=ccrs.PlateCarree(),\n    draw_labels=True,\n    linewidth=2,\n    color=\"gray\",\n    alpha=0.5,\n    linestyle=\"--\",\n)\ngl.top_labels = False\ngl.right_labels = False\ngl.xformatter = LONGITUDE_FORMATTER\ngl.yformatter = LATITUDE_FORMATTER\n\ncbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])\ncbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)\ncbar.ax.tick_params(labelsize=14)\ncbar.ax.set_title(\"[dBZ]\", fontsize=14, y=-0.1)","key":"ShwsN8Ovmp"},{"type":"output","id":"brxF02AGe1dieB-OigqAa","data":[],"key":"LwWjo31fzp"}],"key":"ddKBP88lkf"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"9. Apply FRACTL Condition Number","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZFqf43glhv"}],"identifier":"id-9-apply-fractl-condition-number","label":"9. Apply FRACTL Condition Number","html_id":"id-9-apply-fractl-condition-number","implicit":true,"key":"ZDpc7ZZdAk"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The FRACTL ‘Condition Number’ represents how well-posed the geometry is for a particular multi-Doppler retrieval. It is similar to the USTD and VSTD field from CEDRIC, which represent the standard deviation of the expected error in the resolved wind field based on the geometry. Since SAMURAI solves for the wind field globally using spline basis functions, it is difficult to calculate this error at each gridpoint. If a FRACTL analysis is run on the same domain, then it can be used to remove regions with poor geometry. Here, we use a value of 10 to threshold the SAMURAI analysis.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vvSmYN8heo"}],"key":"Diw3hB5CSj"}],"key":"gCFeUwDCUa"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Read file into radar object\ninDir_f = \"./output_frac/20180107/\"\nfile_f = \"ncf_20180107_004719.nc\"\nds_radar_f = xr.open_dataset(inDir_f + file_f).squeeze()\nds_radar_f","key":"SjCexT9B7l"},{"type":"output","id":"9fQKaFs6XXq5o5dLIIel4","data":[],"key":"QafVCYVuYt"}],"key":"R4cVthkN0A"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"plotting_CN = ds_radar_f.conditionNumber.sel(z0=1.5 * 1000)","key":"VmDovAI5eJ"},{"type":"output","id":"yJSBNSe8wqS7wNywzkyOs","data":[],"key":"pdSgSR7P4Q"}],"key":"p3pSCJECdF"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"CN_threshold = 10\ndbz_goodcondition = np.where(plotting_CN \u003c CN_threshold, plotting_var_s, np.nan)\nu_goodcondition = np.where(plotting_CN \u003c CN_threshold, plotting_var_u_s, np.nan)\nv_goodcondition = np.where(plotting_CN \u003c CN_threshold, plotting_var_v_s, np.nan)\nw_goodcondition = np.where(plotting_CN \u003c CN_threshold, plotting_var_w_s, np.nan)\nvort_goodcondition = np.where(plotting_CN \u003c CN_threshold, plotting_var_vort_s, np.nan)","key":"XFOOHbeG3V"},{"type":"output","id":"Iu6dKSkAFN_yWc0p2m-xl","data":[],"key":"Ilyggl5BFG"}],"key":"bppmNEybOi"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig = plt.figure(figsize=(10, 10))\nax = plt.axes(projection=ccrs.PlateCarree())\n\ncf1 = ax.pcolormesh(\n    plotting_lon_s,\n    plotting_lat_s,\n    dbz_goodcondition,\n    cmap=ref_cmap,\n    norm=ref_norm,\n    alpha=0.8,\n    shading=\"auto\",\n    transform=ccrs.PlateCarree(),\n)\nstep = 1\ncf_q = ax.quiver(\n    plotting_lon_s[::step],\n    plotting_lat_s[::step],\n    u_goodcondition[::step, ::step],\n    v_goodcondition[::step, ::step],\n    scale=1000,\n    width=0.004,\n    color=\"k\",\n    transform=ccrs.PlateCarree(),\n)\n\ngl = ax.gridlines(\n    crs=ccrs.PlateCarree(),\n    draw_labels=True,\n    linewidth=2,\n    color=\"gray\",\n    alpha=0.5,\n    linestyle=\"--\",\n)\ngl.top_labels = False\ngl.right_labels = False\ngl.xformatter = LONGITUDE_FORMATTER\ngl.yformatter = LATITUDE_FORMATTER\n\ncbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])\ncbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)\ncbar.ax.tick_params(labelsize=14)\ncbar.ax.set_title(\"[dBZ]\", fontsize=14, y=-0.1)","key":"xhpnd8hdHQ"},{"type":"output","id":"eM2XQnYS_xZf6rRp4sKQm","data":[],"key":"Kq8RYtXodn"}],"key":"tFiUaVOvB8"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"## Set NWS reflectivity colorbar:\nplotting_alt = 2.5  # altitude at 3 km\nplotting_var_s = ds_radar_s.DBZ.sel(altitude=3.5)\nplotting_var_u_s = ds_radar_s.U.sel(altitude=plotting_alt).data\nplotting_var_v_s = ds_radar_s.V.sel(altitude=plotting_alt).data\nplotting_var_w_s = ds_radar_s.W.sel(altitude=plotting_alt).data\nplotting_var_vort_s = ds_radar_s.VORT.sel(altitude=plotting_alt).data\nplotting_var_div_s = ds_radar_s.DIV.sel(altitude=plotting_alt).data\nplotting_lon_s = ds_radar_s.longitude\nplotting_lat_s = ds_radar_s.latitude\n\nfig = plt.figure(figsize=(12, 12))\nax = plt.axes(projection=ccrs.PlateCarree())\n\next = 0.02\nax.set_extent(\n    [\n        np.min(lon_s) + ext,\n        np.max(lon_s) - ext,\n        np.min(lat_s) + ext,\n        np.max(lat_s) - ext,\n    ],\n    crs=ccrs.PlateCarree(),\n)\nlevs_w = np.arange(-15, 15, 0.1)\ncf1 = ax.contourf(\n    plotting_lon_s,\n    plotting_lat_s,\n    plotting_var_w_s,\n    cmap=\"RdBu_r\",\n    levels=levs_w,\n    alpha=0.8,\n    shading=\"auto\",\n    transform=ccrs.PlateCarree(),\n)\n\ncf = ax.contour(\n    plotting_lon_s[::2],\n    plotting_lat_s[::2],\n    vort_goodcondition[::2, ::2],\n    transform=ccrs.PlateCarree(),\n    colors=\"lightgreen\",\n    linewidths=3,\n)\nax.contour(\n    plotting_lon_s,\n    plotting_lat_s,\n    dbz_goodcondition,\n    levels=np.arange(35, 100, 100),\n    colors=\"k\",\n    linewidths=3,\n    transform=ccrs.PlateCarree(),\n)\nstep = 1\ncf_q = ax.quiver(\n    plotting_lon_s[::step],\n    plotting_lat_s[::step],\n    u_goodcondition[::step, ::step],\n    v_goodcondition[::step, ::step],\n    scale=1000,\n    width=0.004,\n    color=\"k\",\n    transform=ccrs.PlateCarree(),\n)\n\ngl = ax.gridlines(\n    crs=ccrs.PlateCarree(),\n    draw_labels=True,\n    linewidth=2,\n    color=\"gray\",\n    alpha=0.5,\n    linestyle=\"--\",\n)\ngl.top_labels = False\ngl.right_labels = False\ngl.xformatter = LONGITUDE_FORMATTER\ngl.yformatter = LATITUDE_FORMATTER\n\ncbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])\ncbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)\ncbar.ax.tick_params(labelsize=14)\ncbar.ax.set_title(\"[dBZ]\", fontsize=14, y=-0.1)","key":"COCem1vjbN"},{"type":"output","id":"jMKf_dxQ1-do4MwqVpVZO","data":[],"key":"ARD4yLcG4S"}],"key":"ulfIeUoEQt"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"","key":"nvbboSUgOt"},{"type":"output","id":"R9wKOtN4qml0NSjHeG3tK","data":[],"key":"wq4nMtgvX1"}],"key":"dV42UfPxTI"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot cross sections of Divergence and Absolute Vorticity Fields","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LVY33Tk1dT"}],"key":"bjmD6R4CJ9"}],"key":"eVKLwtEm6U"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"loc = 15\nplotting_var_vort_s_cs = da_s_ABSVORT.sel(latitude=ds_radar_s.latitude[loc])\nplotting_var_CN_s_cs = da_CN[:, loc, :]\nplotting_var_u_s_cs = da_s_U.sel(latitude=ds_radar_s.latitude[loc]).data\nplotting_var_v_s_cs = da_s_V.sel(latitude=ds_radar_s.latitude[loc]).data\nplotting_var_w_s_cs = ds_radar_s[\"W\"].sel(latitude=ds_radar_s.latitude[loc]).data\nplotting_var_div_s_cs = da_s_DIV.sel(latitude=ds_radar_s.latitude[loc]).data\nplotting_alt_s = ds_radar_s.altitude\nu_cs_goodcondition = np.where(\n    plotting_var_CN_s_cs \u003c CN_threshold, plotting_var_u_s_cs, np.nan\n)\nv_cs_goodcondition = np.where(\n    plotting_var_CN_s_cs \u003c CN_threshold, plotting_var_v_s_cs, np.nan\n)\nw_cs_goodcondition = np.where(\n    plotting_var_CN_s_cs \u003c CN_threshold, plotting_var_w_s_cs, np.nan\n)\ndiv_cs_goodcondition = np.where(\n    plotting_var_CN_s_cs \u003c CN_threshold, plotting_var_div_s_cs, np.nan\n)\nvort_cs_goodcondition = np.where(\n    plotting_var_CN_s_cs \u003c CN_threshold, plotting_var_vort_s_cs, np.nan\n)","key":"eVh2qFUxka"},{"type":"output","id":"W-7S5FVHdLiwa2Sw0P3J2","data":[],"key":"jnd6T9uz3B"}],"key":"PzY5PUcRJd"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig = plt.figure(figsize=(10, 10))\nax = plt.axes()\n\ncf1 = ax.pcolormesh(\n    plotting_lon_s,\n    plotting_alt_s,\n    div_cs_goodcondition / 1e5,\n    cmap=\"Spectral_r\",\n    vmin=-0.005,\n    vmax=0.005,\n    alpha=0.8,\n    shading=\"auto\",\n)\nstep = 1\ncf_q = ax.quiver(\n    plotting_lon_s[::step],\n    plotting_alt_s[::step],\n    u_cs_goodcondition[::step, ::step],\n    w_cs_goodcondition[::step, ::step],\n    scale=600,\n    width=0.004,\n    color=\"k\",\n)\nax.set_title(\"Divergence\")\n# ax.plot(terr_lon, terr_height)\ncbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])\ncbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)\ncbar.ax.tick_params(labelsize=14)\ncbar.ax.set_title(\"[1/s]\", fontsize=14, y=-0.1)\n\nax.set_xlabel(\"Longitude\")\nax.set_ylabel(\"Altitude\")","key":"ijLjXHQXwH"},{"type":"output","id":"Gr47HidnrY6bGbDgYHRZy","data":[],"key":"ar7G3XinuV"}],"key":"D4AWuH2XhU"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig = plt.figure(figsize=(10, 10))\nax = plt.axes()\n\ncf1 = ax.pcolormesh(\n    plotting_lon_s,\n    plotting_alt_s,\n    vort_cs_goodcondition / 1e5,\n    cmap=\"Spectral_r\",\n    vmin=-0.005,\n    vmax=0.005,\n    alpha=0.8,\n    shading=\"auto\",\n)\nstep = 2\ncf_q = ax.quiver(\n    plotting_lon_s[::step],\n    plotting_alt_s[::step],\n    u_cs_goodcondition[::step, ::step],\n    w_cs_goodcondition[::step, ::step],\n    scale=600,\n    width=0.004,\n    color=\"k\",\n)\nax.set_title(\"Absolute Vorticity\")\n\ncbar_ax = fig.add_axes([0.95, 0.3, 0.02, 0.4])\ncbar = fig.colorbar(cf1, cax=cbar_ax, fraction=0.04)\ncbar.ax.tick_params(labelsize=14)\ncbar.ax.set_title(\"[1/s]\", fontsize=14, y=-0.1)\n\n# ax.set_xlim([-87.3, -86.4])\n# ax.set_ylim([0, 14.5])\nax.set_xlabel(\"Longitude\")\nax.set_ylabel(\"Altitude\")","key":"DR8BFRuLPv"},{"type":"output","id":"b3MvppC7182WMVEjApKkB","data":[],"key":"geo9n6tYzi"}],"key":"RWX4rG2MNb"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Congratulations! You have successfully completed the LROSE Wind tutorial. There are other options to set in both FRACTL and SAMURAI, but the steps and parameters in this tutorial can produce a good quality wind field in many cases. Be critical with your own analysis and feel free to reach out to the LROSE team for questions as you analyze your own data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"faqC939nr7"}],"identifier":"congratulations-you-have-successfully-completed-the-lrose-wind-tutorial-there-are-other-options-to-set-in-both-fractl-and-samurai-but-the-steps-and-parameters-in-this-tutorial-can-produce-a-good-quality-wind-field-in-many-cases-be-critical-with-your-own-analysis-and-feel-free-to-reach-out-to-the-lrose-team-for-questions-as-you-analyze-your-own-data","label":"Congratulations! You have successfully completed the LROSE Wind tutorial. There are other options to set in both FRACTL and SAMURAI, but the steps and parameters in this tutorial can produce a good quality wind field in many cases. Be critical with your own analysis and feel free to reach out to the LROSE team for questions as you analyze your own data.","html_id":"congratulations-you-have-successfully-completed-the-lrose-wind-tutorial-there-are-other-options-to-set-in-both-fractl-and-samurai-but-the-steps-and-parameters-in-this-tutorial-can-produce-a-good-quality-wind-field-in-many-cases-be-critical-with-your-own-analysis-and-feel-free-to-reach-out-to-the-lrose-team-for-questions-as-you-analyze-your-own-data","implicit":true,"key":"zKRGDgqpBy"}],"key":"o4zxbX10Q1"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"","key":"oIIGbX4Tz4"},{"type":"output","id":"-ea8MBhAjojHUsDfIPz64","data":[],"key":"FdbIgsLwtW"}],"key":"wbcIOEgHYc"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Appendix - additional SAMURAI parameters","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hKIJO3hUYX"}],"identifier":"appendix-additional-samurai-parameters","label":"Appendix - additional SAMURAI parameters","html_id":"appendix-additional-samurai-parameters","implicit":true,"key":"Y3qZHGLail"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The following are optional parameters:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XIfXt8EkJH"}],"identifier":"the-following-are-optional-parameters","label":"The following are optional parameters:","html_id":"the-following-are-optional-parameters","implicit":true,"key":"zhCXnRZmFM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"BACKGROUND SECTION","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Yc3qWWZpes"}],"key":"XfsrHrbPuS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"load_background [line 107]","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"j8398q228N"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"TRUE: A first guess of the analysis stored in the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"eUoMMoFXgU"},{"type":"inlineCode","value":"samurai_Background.in","key":"kiLvyFBZJO"},{"type":"text","value":" will be loaded. This can come from a model, sounding, or other data source if available. Most of the time it is not available so it should be set to FALSE.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hsdT0IWBY8"}],"key":"NZA8wdCB9j"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"FALSE (default setting)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"chaZqnARCx"}],"key":"xGCOsRqe5z"}],"key":"OhRuZTc74r"}],"key":"ZKTRXnS49C"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"adjust_background [line 132]","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"CB2ck7QURQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"TRUE: the background will be adjusted to satisfy the mass continuity and match the supplied data using a variational adjustment. Without this, it is just interpolated simply to the grid.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"gkrkZQQYR9"}],"key":"pb500r31Cb"}],"key":"kEY21JKKYn"}],"key":"JrPKLaWrvB"}],"key":"XYyDiLDDgS"}],"key":"y2Vb2KsEy7"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"OPERATION SECTION","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"e2ZudaB0ZJ"}],"key":"nnqmb4KFxl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"mode [line 170]: The default mode is MODE_XYZ, which is Cartesian grid. You can run in cylindrical mode with MODE_RTZ. Stay tuned for more radar centric RTZ mode in the near future!","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"T8qPjLEFRc"}],"key":"pTLM5kty6O"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"preprocess_obs [line 219]","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"d0WaU2AAA1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"TRUE: the raw data files will be preprocessed according to their file suffixes, and a ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"MQBwp9MCGg"},{"type":"inlineCode","value":"samurai_Observations.in","key":"mJmkPFJFRy"},{"type":"text","value":" file will be generated.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"zdhmo2brPU"}],"key":"beUBGShMAQ"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"FALSE: SAMURAI will load the observations from the ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"GtLGEkWZq3"},{"type":"inlineCode","value":"samurai_Observations.in","key":"zN0KyKxHtt"},{"type":"text","value":" file located in the data_directory. This is useful for generating fake data, or for saving some time if you already ran the preprocessing of lots of files.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"ZkfKwKALEl"}],"key":"I8hRGho3B6"}],"key":"KqPXBA9ThD"}],"key":"iZphjEJSXs"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"num_iterations [line 232]: SAMURAI has the ability to take the output analysis and use it as a first guess for another analysis. This can be useful to create a ‘coarse’ analysis, followed by a ‘fine’ analysis. It is very important to set the observation and background errors appropriately if you choose this option.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"vWG0aG7w1A"}],"key":"zj6rq1ly2f"}],"key":"H36V55xhOI"}],"key":"oYdcobwze2"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"strong","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"BACKGROUND SECTION","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"WDhQfBdXWr"}],"key":"rtPOvC1saH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"ref_state [line 380]: a sounding file to define the hydrostatic reference state used in the analysis. The default is the Dunion (2011) moist tropical sounding file. The analysis is generally not sensitive to this sounding, as it is just used to provide a reference density field and fall speed relationships in most cases. If you are analyzing thermodynamic information or have a very different freezing level it may be useful to provide a more appropriate sounding. The file format is similar to that of WRF or CM1 idealized soundings.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"Xg9alPHDXW"}],"key":"Q5NpCxgP88"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"i_background_roi [line 402], j_background_roi [line 412]: These set the background radius of influence when loading a background field.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"WSH6ndqal0"}],"key":"LIh0AXQb0R"}],"key":"W9P1ca3lhV"}],"key":"ieNeUmE29Q"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"RADAR SECTION","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"feiB1PG7SJ"}],"key":"y4Kg0On3zH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"qr_variable [line 452]: In the default ‘dbz’ mode, the reflectivity is just interpolated and not included in the cost function minimization. If this is set to ‘qr’, then reflectivity is converted to liquid water using Z-M relationships defined in Gamache et al. (1993) and used as an additional variable in the cost function minimization. This is useful if you have other liquid water measurements to assimilate. Since this is a relatively simple Z-M it should be used with caution.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"QVMgDRYfkq"}],"key":"o8SXfHuJyL"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"dbz_pseudow_weight [line 516]: SAMURAI has the ability to set a ‘soft’ w=0 boundary condition at echo top, and setting this weight will determine how soft or hard that constraint is enforced. Usually a hard w=0 is enforced via the spline boundary conditions at the bottom and top of the domain, so this is optional. It can be useful if the vertical velocities are believed to be too strong at the top of the cloud.","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"UmVX9xEDJ4"}],"key":"rs6wfi7ulE"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"melting_zone_width [line 532], mixed_phase_dbz [line 540], rain_dbz [line 548]: SAMURAI has some basic terminal fall speed corrections that use reflectivity and Z-VT relationships. These parameters control which relationships are used depending on dbz and the height of the zero C level (which is determined from the reference sounding).","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"k4T85FQDIY"}],"key":"w37sXDmMdJ"}],"key":"jOsVnWGrDL"}],"key":"mxxQ9ecixV"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"strong","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"BOUNDARY CONDITIONS SECTION","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"tyUUGC668Q"}],"key":"d42bmWkolf"}],"key":"TMBqBgug1Y"}],"key":"D2D0KEcMvk"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Available options are R0, R1T0, R1T1, R1T2, R2T10, R2T20, R3, and PERIODIC following Ooyama (2002). The default “non”- boundary condition (R0) adds a buffer set of gridpoints that are used to calculate the solution but are discarded for output. Different boundary conditions can be set on the left (L) or right (R) side of the domain for each variable and dimension. The most common option other than R0 would be R1T0 for vertical velocity (rhow = 0) at the surface and/or domain top. Periodic domains are only valid for the i and j dimension, but are available in both the XYZ and RTZ mode. Improved boundary conditions are currently in development.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"yasQtLtMLo"}],"key":"Dh3dfcDyD7"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":27,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"OBSERVATION ERRORS SECTION","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"JC3cat0Z5R"}],"key":"zNtDiSYwSJ"}],"key":"gUGfEP6J95"}],"key":"kk3VDwuGuG"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Specified error is given in terms of a standard deviation, and is fixed for all observations from a particular instrument except radar. In the radar case, the spectrum width and elevation angle (proportional to terminal fall speed contribution) are used to define the error for each radar gate. A minimum error (radar_min_error) is also enforced.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"BTVa1bkMiC"}],"key":"SyFQWIAovA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":30,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"strong","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"ITERATION DEPENDENT SECTION","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"yioUWxya0J"}],"key":"GCbQiTjeAh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":31,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"mc_weight [line 1450]: specify the weight given to the mass continuity constraint. Default is set to 1, and is generally not recommended to change unless you have a good reason.","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"wvkO13LXhR"}],"key":"bzS8dJnEAI"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"i_filter_length [line 1546], j_filter_length [line 1558], k_filter_length [line 1570]","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"kMQFfLyAvA"}],"key":"tqZseylEm7"}],"key":"WNtAF2iaw6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Gaussian recursive filter is a low-pass filter. Smaller filter lengths retain more detail, and larger filter lengths smooth more. The general recommendation is 4, 4, 2, which removes features less than approximately 4dx, 4dy, and 2dz from the analysis.","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"GihbeBggSI"}],"key":"kbXmjW6uMr"}],"key":"BAcaUEqXZ4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"i_spline_cutoff [line 1582], j_spline_cutoff [line 1594], k_spline_cutoff [line 1606]","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"BobDBzZEAy"}],"key":"wJVXCcxSN0"}],"key":"a9av1wARPV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Spline cutoff is implemented as a third derivative constraint on the cubic B-spline basis during the spline transform. It is a sharper filter than the Gaussian, roughly equivalent to a sixth order filter.","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"JYePLrRAHU"}],"key":"lqaM3bJteV"}],"key":"tDC28b1CZT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"i_max_wavenumber [line 1618], j_max_wavenumber [line 1630], k_max_wavenumber [line 1642]","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"yREls4M8ih"}],"key":"zJRiWxOfU8"}],"key":"qb7eOJB2rZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"The Fourier spectral filter is the sharpest filter. It can be used for desired effects, such as explicitly removing high-wavenumber features in the spectral domain (usually for RTZ analysis), or for producing a ‘mean’ field by restricting to wavenumber zero.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"wn5K4TbSSj"}],"key":"HMy2qryLeL"}],"key":"wrNugeknh7"}],"key":"aTwcsvvM67"}],"key":"TRAApmHwvT"}],"key":"ugKZoEerRJ"}],"key":"geNchk4lZu"},"references":{"cite":{"order":["Bell_2012","Foerster_2014","Foerster_2017","Cha_2021"],"data":{"Bell_2012":{"label":"Bell_2012","enumerator":"1","doi":"10.1175/jas-d-11-0276.1","html":"Bell, M. M., Montgomery, M. T., \u0026 Emanuel, K. A. (2012). Air–Sea Enthalpy and Momentum Exchange at Major Hurricane Wind Speeds Observed during CBLAST. \u003ci\u003eJournal of the Atmospheric Sciences\u003c/i\u003e, \u003ci\u003e69\u003c/i\u003e(11), 3197–3222. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1175/jas-d-11-0276.1\"\u003e10.1175/jas-d-11-0276.1\u003c/a\u003e","url":"https://doi.org/10.1175/jas-d-11-0276.1"},"Foerster_2014":{"label":"Foerster_2014","enumerator":"2","doi":"10.1175/mwr-d-13-00313.1","html":"Foerster, A. M., Bell, M. M., Harr, P. A., \u0026 Jones, S. C. (2014). Observations of the Eyewall Structure of Typhoon Sinlaku (2008) during the Transformation Stage of Extratropical Transition. \u003ci\u003eMonthly Weather Review\u003c/i\u003e, \u003ci\u003e142\u003c/i\u003e(9), 3372–3392. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1175/mwr-d-13-00313.1\"\u003e10.1175/mwr-d-13-00313.1\u003c/a\u003e","url":"https://doi.org/10.1175/mwr-d-13-00313.1"},"Foerster_2017":{"label":"Foerster_2017","enumerator":"3","doi":"10.1175/jtech-d-17-0073.1","html":"Foerster, A. M., \u0026 Bell, M. M. (2017). Thermodynamic Retrieval in Rapidly Rotating Vortices from Multiple-Doppler Radar Data. \u003ci\u003eJournal of Atmospheric and Oceanic Technology\u003c/i\u003e, \u003ci\u003e34\u003c/i\u003e(11), 2353–2374. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1175/jtech-d-17-0073.1\"\u003e10.1175/jtech-d-17-0073.1\u003c/a\u003e","url":"https://doi.org/10.1175/jtech-d-17-0073.1"},"Cha_2021":{"label":"Cha_2021","enumerator":"4","doi":"10.5194/amt-14-3523-2021","html":"Cha, T.-Y., \u0026 Bell, M. M. (2021). Comparison of single-Doppler and multiple-Doppler wind retrievals in Hurricane Matthew (2016). \u003ci\u003eAtmospheric Measurement Techniques\u003c/i\u003e, \u003ci\u003e14\u003c/i\u003e(5), 3523–3539. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5194/amt-14-3523-2021\"\u003e10.5194/amt-14-3523-2021\u003c/a\u003e","url":"https://doi.org/10.5194/amt-14-3523-2021"}}}},"footer":{"navigation":{"prev":{"title":"An Introduction to LROSE","url":"/lrose-basics","group":"LROSE"},"next":{"title":"stress-testing","url":"/stress-testing","group":"LROSE"}}},"domain":"http://localhost:3000"},"project":{"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"title":"ERAD 2024","authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","orcid":"0009-0004-9266-9293","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","orcid":"0009-0006-1419-0556","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"github":"https://github.com/openradar/erad2024","copyright":"2024","references":{"foundations":{"url":"https://projectpythia-mystmd.github.io/pythia-foundations"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"openradar/erad2024","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"schedule.md"}],"title":"Schedule"},{"children":[{"file":"notebooks/data-access/intro-data-access.ipynb"}],"title":"Data Access"},{"children":[{"children":[{"file":"notebooks/xradar-pyart/xradar-basics.ipynb"}],"title":"XRadar"},{"children":[{"file":"notebooks/xradar-pyart/pyart-basics.ipynb"},{"file":"notebooks/wradlib/wradlib_clutter_beamblockage.ipynb"}],"title":"Py-ART and wradlib"},{"children":[{"file":"notebooks/gpm-api/gpm-api-intro.ipynb"}],"title":"GPM-API"},{"children":[{"pattern":"notebooks/baltrad/baltrad_short_course/*.ipynb"},{"pattern":"notebooks/baltrad/pyart2baltrad/*.ipynb"},{"file":"notebooks/baltrad/baltrad2wradlib/baltrad2wradlib.ipynb"}],"title":"BALTRAD"},{"children":[{"file":"notebooks/lrose/LROSE_Basics.ipynb"},{"file":"notebooks/lrose/LROSE_ERAD_fractl_samurai.ipynb"},{"file":"notebooks/lrose/DD_Tornado_ERAD2024.ipynb"},{"file":"notebooks/lrose/testing/stress_testing.ipynb"}],"title":"LROSE"}],"title":"Radar Software Foundations"},{"children":[{"file":"notebooks/environment.ipynb"}],"title":"Notebook Environment"},{"children":[{"file":"notebooks/Retrieving_winds_with_pydda.ipynb"}],"title":"Retrieving winds with PyDDA"}],"thumbnail":"/erad2024/_preview/91/build/0885e6292c6be2fd643fbc952d479a01.jpeg","exports":[],"bibliography":[],"index":"readme","pages":[{"level":1,"title":"Preamble"},{"slug":"how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Schedule"},{"slug":"schedule","title":"Schedule","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Data Access"},{"slug":"intro-data-access","title":"Data Access Instructions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Radar Software Foundations"},{"level":2,"title":"XRadar"},{"slug":"xradar-basics","title":"Xradar Basics","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/xradar_logo-7850b184b6680fd4ae16cba7f7fff12d.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"Py-ART and wradlib"},{"slug":"pyart-basics","title":"Py-ART Basics with Xradar","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/arm_logo-17af329d19162baa8aa8ac0a8ba3b995.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"wradlib-clutter-beamblockage","title":"clutter and beamblockage","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/wradlib_logo.svg-82838a7a3f30c5f7326cec520ba52088.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"GPM-API"},{"slug":"gpm-api-intro","title":"Introduction to GPM-API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"BALTRAD"},{"slug":"baltrad-io","title":"I/O model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-qc","title":"Quality Control","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-drqc","title":"Quality Control using DR","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-parallel-processing","title":"Parallel processing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-compositing","title":"Compositing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-pyart-rain-rate-example","title":"Rain Rate retrieval with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pyart-baltrad-dealias-example","title":"Doppler Velocity Dealiasing with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad2wradlib","title":"Attenuation correction comparison with wradlib","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"LROSE"},{"slug":"lrose-basics","title":"An Introduction to LROSE","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/colette_rose-6abc79bfaa5e02829320f6eb11fe8c25.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lrose-erad-fractl-samurai","title":"LROSE Wind Tutorial","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/samurai-27fbe15cad957b2a5a2a28cd8349c2a5.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stress-testing","title":"stress-testing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Notebook Environment"},{"slug":"environment","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Retrieving winds with PyDDA"},{"slug":"retrieving-winds-with-pydda","title":"PyDDA tutorial","description":"","date":"","thumbnail":"/erad2024/_preview/91/build/5e2d147096249dc3a37da495168a9e9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/erad2024/_preview/91/build/manifest-4C03D258.js";
import * as route0 from "/erad2024/_preview/91/build/root-ZSMPVWLZ.js";
import * as route1 from "/erad2024/_preview/91/build/routes/$-OW6NTZY2.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/erad2024/_preview/91/build/entry.client-K6EYMIDZ.js");</script></body></html>