<!DOCTYPE html><html lang="en" class="light" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Introduction to GPM-API - ERAD 2024</title><meta property="og:title" content="Introduction to GPM-API - ERAD 2024"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/erad2024/build/0885e6292c6be2fd643fbc952d479a01.jpeg"/><meta property="og:image" content="/erad2024/build/0885e6292c6be2fd643fbc952d479a01.jpeg"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/erad2024/build/_assets/app-IVMJSATM.css"/><link rel="stylesheet" href="/erad2024/build/_assets/thebe-core-C4ZDKLDU.css"/><link rel="stylesheet" href="/myst-theme.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 fixed w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-wrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/erad2024/"><div class="p-1 mr-3"><img src="/erad2024/build/erad_white_backgroun-8eb612b715aa6c1ffd96dd514fa1a585.png" class="h-9 dark:hidden" height="2.25rem"/><img src="/erad2024/build/erad_white_backgroun-8eb612b715aa6c1ffd96dd514fa1a585.png" class="hidden h-9 dark:block" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"><div class="relative inline-block mx-2 grow-0"><a href="https://www.erad2024.it" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Conference Home</a></div><div class="relative inline-block mx-2 grow-0"><a href="https://openradarscience.org" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Open Radar Community</a></div></div><div class="flex-grow block"></div><button class="theme rounded-full border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Change theme to dark mode." aria-label="Change theme to dark mode."><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-full w-full p-0.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></button><div class="block sm:hidden"><div class="relative" data-headlessui-state=""><div><button class="flex text-sm bg-transparent rounded-full focus:outline-none" id="headlessui-menu-button-:Rciop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open Menu</span><div class="flex items-center text-stone-200 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="p-1"><path fill-rule="evenodd" d="M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z" clip-rule="evenodd"></path></svg></div></button></div></div></div><div class="hidden sm:block"><a href="https://binder.projectpythia.org/v2/gh/openradar/erad2024/main?labpath=notebooks" target="_blank" rel="noopener noreferrer" class="inline-block px-4 py-2 mx-1 mt-0 leading-none border rounded text-md border-stone-700 dark:border-white text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 hover:bg-neutral-100">Launch Environment</a></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><nav aria-label="Table of Contents" class="flex-grow overflow-y-auto transition-opacity mt-6 pb-3 ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="ERAD 2024" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/erad2024/">ERAD 2024</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Preamble" class="block break-words rounded py-2 grow cursor-pointer">Preamble</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Schedule" class="block break-words rounded py-2 grow cursor-pointer">Schedule</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R3d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Getting started" class="block break-words rounded py-2 grow cursor-pointer">Getting started</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R4d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R4d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Radar Software Foundations" class="block break-words rounded py-2 grow cursor-pointer">Radar Software Foundations</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R5d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R5d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Notebook Environment" class="block break-words rounded py-2 grow cursor-pointer">Notebook Environment</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R6d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R6d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Retrieving winds with PyDDA" class="block break-words rounded py-2 grow cursor-pointer">Retrieving winds with PyDDA</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R7d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R7d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav><div class="flex-none py-4 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap" style="margin-top:60px"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="pt-5 mb-8"><div class="flex items-center h-6 mt-3 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://opensource.org/licenses/Apache-2.0" target="_blank" rel="noopener noreferrer" title="Content License: Apache License 2.0 (Apache-2.0)" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="mx-1 inline-block opacity-60 hover:opacity-100 hover:text-[#599F46]"><path d="M13.2 15.6c1.4-.5 2.1-1.6 2.1-3.3S13.8 8.9 12 8.9c-1.9 0-3.3 1.6-3.3 3.3 0 1.8.8 3 2.2 3.4l-2.3 5.9c-3.1-.8-6.3-4.6-6.3-9.3 0-5.5 4.3-10 9.7-10s9.8 4.5 9.8 10c0 4.7-3.1 8.5-6.3 9.3l-2.3-5.9z"></path></svg></a><a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="opacity-50 hover:opacity-100 text-inherit hover:text-inherit" aria-label="Code License: Creative Commons Attribution 4.0 International (CC-BY-4.0)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mx-1"><title>Code License: Creative Commons Attribution 4.0 International (CC-BY-4.0)</title><path d="M12 2.2c2.7 0 5 1 7 2.9.9.9 1.6 2 2.1 3.1.5 1.2.7 2.4.7 3.8 0 1.3-.2 2.6-.7 3.8-.5 1.2-1.2 2.2-2.1 3.1-1 .9-2 1.7-3.2 2.2-1.2.5-2.5.7-3.7.7s-2.6-.3-3.8-.8c-1.2-.5-2.2-1.2-3.2-2.1s-1.6-2-2.1-3.2-.8-2.4-.8-3.7c0-1.3.2-2.5.7-3.7S4.2 6 5.1 5.1C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C5.6 7.1 5 8 4.6 9c-.4 1-.6 2-.6 3s.2 2.1.6 3c.4 1 1 1.8 1.8 2.6S8 19 9 19.4c1 .4 2 .6 3 .6s2.1-.2 3-.6c1-.4 1.9-1 2.7-1.8 1.5-1.5 2.3-3.3 2.3-5.6 0-1.1-.2-2.1-.6-3.1-.4-1-1-1.8-1.7-2.6C16.1 4.8 14.2 4 12 4zm-.1 6.4l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.5.3-1 .4-1.5.4-.9 0-1.6-.3-2.1-.8-.5-.6-.8-1.3-.8-2.3 0-.9.3-1.7.8-2.2.6-.6 1.3-.8 2.1-.8 1.2 0 2.1.4 2.6 1.4zm5.6 0l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.4.2-.9.3-1.4.3-.9 0-1.6-.3-2.1-.8s-.8-1.3-.8-2.2c0-.9.3-1.7.8-2.2.5-.5 1.2-.8 2-.8 1.2 0 2.1.4 2.6 1.4z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1"><title>Credit must be given to the creator</title><path d="M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.8-1.7-2.8-4-2.8-6.7s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4zm2.6 5.6v4h-1.1v4.7h-3v-4.7H9.4v-4c0-.2.1-.3.2-.4.1-.2.2-.2.4-.2h4c.2 0 .3.1.4.2.2.1.2.2.2.4zm-4-2.5c0-.9.5-1.4 1.4-1.4s1.4.5 1.4 1.4c0 .9-.5 1.4-1.4 1.4s-1.4-.5-1.4-1.4z"></path></svg></a><a href="https://en.wikipedia.org/wiki/Open_access" target="_blank" rel="noopener noreferrer" title="Open Access" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="mr-1 inline-block opacity-60 hover:opacity-100 hover:text-[#E18435]"><path d="M17.1 12.6h-2V7.5c0-1.7-1.4-3.1-3-3.1-.8 0-1.6.3-2.2.9-.6.5-.9 1.3-.9 2.2v.7H7v-.7c0-1.4.5-2.7 1.5-3.7s2.2-1.5 3.6-1.5 2.6.5 3.6 1.5 1.5 2.3 1.5 3.7v5.1z"></path><path d="M12 21.8c-.8 0-1.6-.2-2.3-.5-.7-.3-1.4-.8-1.9-1.3-.6-.6-1-1.2-1.3-2-.3-.8-.5-1.6-.5-2.4s.2-1.6.5-2.4c.3-.7.7-1.4 1.3-2s1.2-1 1.9-1.3c.7-.3 1.5-.5 2.3-.5.8 0 1.6.2 2.3.5.7.3 1.4.8 1.9 1.3.6.6 1 1.2 1.3 2 .3.8.5 1.6.5 2.4s-.2 1.6-.5 2.4c-.3.7-.7 1.4-1.3 2-.6.6-1.2 1-1.9 1.3-.7.3-1.5.5-2.3.5zm0-10.3c-2.2 0-4 1.8-4 4.1s1.8 4.1 4 4.1 4-1.8 4-4.1-1.8-4.1-4-4.1z"></path><circle cx="12" cy="15.6" r="1.7"></circle></svg></a><a href="https://github.com/openradar/erad2024" title="GitHub Repository: openradar/erad2024" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rd4fop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Introduction to GPM-API</h1><header class="mt-4 not-prose"><div><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rhkfop:" data-state="closed">Alfonso Ladino</button><a class="ml-1" href="https://orcid.org/0000-0001-8081-7827" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rikfop:" data-state="closed">Anna del Moral Méndez</button><a class="ml-1" href="https://orcid.org/0000-0002-5015-840X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rjkfop:" data-state="closed">Brenda Javornik</button><a class="ml-1" href="https://orcid.org/0009-0004-9266-9293" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rkkfop:" data-state="closed">Daniel Michelson</button><a class="ml-1" href="https://orcid.org/0000-0003-3222-9881" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rlkfop:" data-state="closed">Daniel Wolfensberger</button><a class="ml-1" href="https://orcid.org/0009-0006-1419-0556" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rmkfop:" data-state="closed">Gionata Ghiggi</button><a class="ml-1" href="https://orcid.org/0000-0002-0818-0865" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rnkfop:" data-state="closed">Jen DeHart</button><a class="ml-1" href="https://orcid.org/0000-0001-8536-4927" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rokfop:" data-state="closed">Jordi Figueras i Ventura</button><a class="ml-1" href="https://orcid.org/0000-0002-4949-422X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rpkfop:" data-state="closed">Julian Giles</button><a class="ml-1" href="https://orcid.org/0000-0001-8134-008X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rqkfop:" data-state="closed">Kai Mühlbauer</button><a class="ml-1" href="https://orcid.org/0000-0001-6599-1034" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rrkfop:" data-state="closed">Maxwell Grover</button><a class="ml-1" href="https://orcid.org/0000-0002-0370-8974" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rskfop:" data-state="closed">Mike Dixon</button><a class="ml-1" href="https://orcid.org/0000-0002-9597-9113" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rtkfop:" data-state="closed">Robert Jackson</button><a class="ml-1" href="https://orcid.org/0000-0003-2518-1234" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block text-comma"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rukfop:" data-state="closed">Scott Collis</button><a class="ml-1" href="https://orcid.org/0000-0002-2303-687X" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span><span class="font-semibold text-sm inline-block"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rvkfop:" data-state="closed">Ting-Yu Cha</button><a class="ml-1" href="https://orcid.org/0000-0002-6292-8483" target="_blank" rel="noopener noreferrer" title="ORCID (Open Researcher and Contributor ID)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 hover:text-[#A9C751] -translate-y-[0.1em]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span></div></header></div><div class="block my-10 lg:sticky lg:top-0 lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:93px"><nav></nav></div><div class="sticky top-[60px] flex justify-end w-full z-20 pointer-events-none"><div class="flex p-1 m-1 space-x-1 border rounded-full shadow pointer-events-auto border-stone-300 bg-white/80 dark:bg-stone-900/80 backdrop-blur"><div class="rounded"><button class="flex text-center rounded-full cursor-pointer text-stone-800 dark:text-white hover:opacity-100 opacity-60" aria-label="start compute environment"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="inline-block w-6 h-6 align-top"><title>enable compute</title><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1012.728 0M12 3v9"></path></svg></button></div></div></div><div id="skip-to-article"></div><div id="J5cCxGO1Jh" class="relative group/block article-grid subgrid-gap col-screen"><p>In this tutorial, we will provide the foundations to use GPM-API to download, manipulate and analyze data from the Global Precipitation Measurement (GPM) spaceborne radars.</p><p>Please note that GPM-API also enable access and analysis tools for the entire GPM constellation of passive microwave sensors as well as the IMERG precipitation products.
For detailed information and additional tutorials, please refer to the <a target="_blank" href="https://gpm-api.readthedocs.io/en/latest/" rel="noreferrer">official GPM-API documentation</a>.</p></div><div id="GE5suY51YQ" class="relative group/block article-grid subgrid-gap col-screen"><p>First, let’s import the package required in this tutorial.</p></div><div id="KLkPedRwMb" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">import datetime
import gpm
import numpy as np
import ximage  # noqa
import xarray as xr
from xarray.backends.api import open_datatree
import matplotlib.pyplot as plt
import cartopy.crs as ccrs
from gpm.utils.geospatial import (
    get_country_extent,
    get_geographic_extent_around_point,
    get_circle_coordinates_around_point,
)
from gpm.utils.gv import volume_matching</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="hQ9b54nLmNW7ffH90IuIR" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="rjIKbDyWU8" class="relative group/block article-grid subgrid-gap col-screen"><p>Using the <code>available_products</code> function, users can obtain a list of all GPM products that can be downloaded and opened into CF-compliant xarray datasets.</p></div><div id="VJFDg4AFZO" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">gpm.available_products(product_types=&quot;RS&quot;)  # research products</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="TCs0aJbFPQeIvRRV5bAD7" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="saMQfGT4yv" class="relative group/block article-grid subgrid-gap col-screen"><p>Let’s have a look at the available RADAR products:</p></div><div id="Zy3b2FWMiv" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">gpm.available_products(product_categories=&quot;RADAR&quot;, product_levels=&quot;1B&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="4AqmR17bVUb3g35T5uk7F" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="lvjOcKYmGV" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">gpm.available_products(product_categories=&quot;RADAR&quot;, product_levels=&quot;2A&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="yA-97eYmDTjKlsCGT2Yhb" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="WEISitCFzB" class="relative group/block article-grid subgrid-gap col-screen"><p>In this tutorial, we will use the <code>2A-DPR</code> product which provides the GPM Dual-frequency Precipitation Radar (DPR) reflectivities and associated precipitation retrievals.</p><p>Since we are running this tutorial on a Binder environment, we will not execute the following <code>gpm.download</code> and <code>gpm.open_dataset</code> sections, and directly load the <code>2A.GPM.DPR.V9-20211125.20230820-S213941-E231213.053847.V07B.HDF5</code> granule file,<br/>which has been preconverted to a Zarr Store and uploaded on the Pythia Cloud Bucket to simplify access to the data.</p></div><div id="s2oZQ0hihr" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-1-download-data" class="relative group"><span class="heading-text">1. Download Data</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-1-download-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="QSN8SNJJ3v" class="relative group/block article-grid subgrid-gap col-screen"><p>Now let’s download the 2A-DPR product over a couple of hours.</p><p>To download GPM data with GPM-API, you have to previously create a <a target="_blank" href="https://urs.earthdata.nasa.gov/" rel="noreferrer">NASA Earthdata</a> and/or <a target="_blank" href="https://registration.pps.eosdis.nasa.gov/registration/" rel="noreferrer">NASA PPS</a> account.
We provide a step-by-step guide on how to set up your accounts in the <a target="_blank" href="https://gpm-api.readthedocs.io/en/latest/03_quickstart.html" rel="noreferrer">official GPM-API documentation</a>.</p></div><div id="xsPhHntjPg" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Specify the time period you are interested in
start_time = datetime.datetime.strptime(&quot;2023-08-20 22:12:00&quot;, &quot;%Y-%m-%d %H:%M:%S&quot;)
end_time = datetime.datetime.strptime(&quot;2023-08-20 22:13:45&quot;, &quot;%Y-%m-%d %H:%M:%S&quot;)
# Specify the product and product type
product = &quot;2A-DPR&quot;  # 2A-PR
product_type = &quot;RS&quot;
storage = &quot;GES_DISC&quot;
# Specify the version
version = 7</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="5KA_WfgxUaijOfzdBXRLt" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="JX7DKvIkOI" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Download the data
gpm.download(
    product=product,
    product_type=product_type,
    version=version,
    start_time=start_time,
    end_time=end_time,
    storage=storage,
    force_download=False,
    verbose=True,
    progress_bar=True,
    check_integrity=False,
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vIdiJ-n3o7Uvu4iu4xqxe" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="c77MJ92Nnc" class="relative group/block article-grid subgrid-gap col-screen"><p>Once, the data are downloaded on disk, let’s load the 2A-DPR product and look at the dataset structure.</p></div><div id="fSvLWJ4V4w" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-2-load-data" class="relative group"><span class="heading-text">2. Load Data</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2-load-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="KSBVntYbAn" class="relative group/block article-grid subgrid-gap col-screen"><p>With GPM-API, the name granule is used to refer to a single file, while the name dataset is used to refer to a collection of granules.</p><p>GPM-API enables to open single or multiple granules into an xarray.Dataset, an object designed for working with labeled multi-dimensional arrays.</p><ul><li><p>The <code>gpm.open_granule(filepath)</code> opens a single file into xarray by providing the path of the file of interest.</p></li><li><p>The <code>gpm.open_dataset</code> function enables to open a collection of granules over a period of interest.</p></li></ul></div><div id="jcC2tFdH1m" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Load the 2A-DPR dataset
ds = gpm.open_dataset(
    product=product,
    product_type=product_type,
    version=version,
    start_time=start_time,
    end_time=end_time,
)
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="exnTAQhlyJAVrRhqVEEZ0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bbsob1URmF" class="relative group/block article-grid subgrid-gap col-screen"><p>Here we directly read the data required for this tutorial from the Pythia Cloud Bucket so that you don’t have to register a NASA account and download the data beforehand.</p></div><div id="QFRUUx5a32" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">filepath_sr = &quot;/home/ghiggi/data/bucket/2A.GPM.DPR.V9-20211125.20230820-S213941-E231213.053847.V07B.zarr&quot;
ds = xr.open_zarr(filepath_sr)
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="oJG3CyBwnkR7VmRvmcdwI" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="NOKIg6IPO2" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-3-basic-manipulations" class="relative group"><span class="heading-text">3. Basic Manipulations</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3-basic-manipulations" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="I1rghm1Svu" class="relative group/block article-grid subgrid-gap col-screen"><p>You can list variables, coordinates and dimensions with the following methods:</p></div><div id="xh2sQ6kNFI" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Available variables
print(&quot;Available variables: &quot;, list(ds.data_vars))
# Available coordinates
print(&quot;Available coordinates: &quot;, list(ds.coords))
# Available dimensions
print(&quot;Available dimensions: &quot;, list(ds.dims))
# Spatial dimension:
print(&quot;Spatial dimensions: &quot;, ds.gpm.spatial_dimensions)
# Vertical dimension:
print(&quot;Vertical dimension: &quot;, ds.gpm.vertical_dimension)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="BPO_Ari2016_rkBs1iO-F" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ia5BDlBKYM" class="relative group/block article-grid subgrid-gap col-screen"><p>Through the use of the xarray <code>gpm</code> accessor, you can access various methods that simplify for example the listing of variables according to their dimensions.</p><p>For example, using <code>ds.gpm.spatial_3d_variables</code> you can list all dataset variables with spatial horizontal and vertical dimensions, while with
<code>ds.gpm.spatial_2d_variables</code> you can list all dataset variables with only spatial horizontal dimensions.</p><p>To directly obtain a dataset with the variables of interest, you can also call the <code>ds.gpm.select_spatial_2d_variables</code> or <code>ds.gpm.select_spatial_3d_variables</code>  methods.</p><p>Please keep in mind that to create a spatial map, it is necessary to select spatial 2D variables, while for extracting vertical cross-sections it is necessary to slice across spatial 3D variables.</p></div><div id="ZdVsykgvBW" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">print(ds.gpm.spatial_2d_variables)
ds.gpm.select_spatial_2d_variables()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="n9qx_ssdf9wMQoSmEkcIu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IANmLJedif" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">print(ds.gpm.spatial_3d_variables)
ds.gpm.select_spatial_3d_variables()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="MPF_GzLBuURj77H1UHWwF" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="rkPB57MwyI" class="relative group/block article-grid subgrid-gap col-screen"><p>Some variables also have a frequency dimension. You can list or subset such variables using <code>ds.gpm.frequency_variables</code> and <code>ds.gpm.&#x27;select_frequency_variables</code> respectively.</p></div><div id="FbEiGbC5NQ" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">print(ds.gpm.frequency_variables)
ds.gpm.select_frequency_variables()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="llNZURs3iyn2dd8t1t-XC" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="rZAFDwGPDf" class="relative group/block article-grid subgrid-gap col-screen"><p>Using the <code>ds.gpm.bin_variables</code> or <code>ds.gpm.select_bin_variables</code> you can instead list or select the variables that contains “pointers” to specific radar gates.
The bin variables are useful to slice or extract data across the “range” dimension of the dataset.
Bin variables values range from 1 (the ellipsoid surface) to the size of the <code>range</code> dimension (in the upper atmosphere).</p></div><div id="p6DkA4wdb8" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">print(ds.gpm.bin_variables)
ds.gpm.select_bin_variables()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="flRg11x8stlkvXLOF2zDe" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="mSFPMa0g9d" class="relative group/block article-grid subgrid-gap col-screen"><p>To select the DataArray corresponding to a single variable you do:</p></div><div id="GXaWfjepde" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">variable = &quot;precipRateNearSurface&quot;
da = ds[variable]
print(&quot; Array Class: &quot;, type(da.data))
da</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vgCtpGX1AmtxP3xKeLx1s" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Aco4Q7Zk5a" class="relative group/block article-grid subgrid-gap col-screen"><p>If the array class is <code>dask.Array</code>, it means that the data are not yet loaded into RAM memory.
To put the data into memory, you need to call the method <code>compute</code>, either on the xarray object or on the numerical array.</p></div><div id="oGV6wCXU6X" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">da = da.compute()
print(&quot;Array Class: &quot;, type(da.data))
da</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="W-_qOtwKtbNikN8UOlIpX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="YvzUNqBCDH" class="relative group/block article-grid subgrid-gap col-screen"><p>To check if the Dataset or the DataArray you selected has only spatial horizontal and/or vertical dimensions, you can use the xarray accessor <code>gpm.is_spatial_2d</code> and <code>gpm.is_spatial_3d</code> properties.</p></div><div id="JFF7l0mr3g" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">print(
    ds.gpm.is_spatial_2d
)  # False because the xarray.Dataset also contains the range and frequency dimensions !
print(
    ds.gpm.is_spatial_3d
)  # False because the xarray.Dataset also contains frequency dimensions !</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="KK0_fGVJVUHwqTw1jK-CF" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="oPPs9XFsm0" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">print(
    ds[&quot;zFactorFinal&quot;].isel(range=0).sel(radar_frequency=&quot;Ka&quot;).gpm.is_spatial_2d
)  # True
print(ds[&quot;precipRateNearSurface&quot;].gpm.is_spatial_2d)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="DePrEUc42uKhSU0FUE1y8" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="jQ0TgXz6NR" class="relative group/block article-grid subgrid-gap col-screen"><p>You can select the reflectivity volumes at a given frequency using the radar band name with the <code>sel</code> method:</p></div><div id="aPXgLzRFnl" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds[&quot;zFactorFinal&quot;].sel(radar_frequency=&quot;Ka&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="DNLNiWI8CQdxEAF3sreMz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="JLRTJ9I323" class="relative group/block article-grid subgrid-gap col-screen"><p>Since xarray does not yet allow subsetting by value along non-dimensional coordinates, the <code>gpm.sel</code> method provides you this functionality.</p><p>As an example, you can subset the dataset by time:</p></div><div id="bjDoM5gZbD" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">start_time = datetime.datetime.strptime(&quot;2023-08-20 22:12:00&quot;, &quot;%Y-%m-%d %H:%M:%S&quot;)
end_time = datetime.datetime.strptime(&quot;2023-08-20 22:13:45&quot;, &quot;%Y-%m-%d %H:%M:%S&quot;)
ds_subset = ds.gpm.sel(time=slice(start_time, end_time))
ds_subset[&quot;time&quot;]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="t5NZKFA9cUssGZPbBGRCf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="j3ifstrveQ" class="relative group/block article-grid subgrid-gap col-screen"><p>Remember that you can get the start time and end time of your GPM xarray object with the gpm accessor methods <code>start_time</code> and <code>end_time</code>.</p></div><div id="YiUcX0UYV4" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">print(ds_subset.gpm.start_time)
print(ds_subset.gpm.end_time)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ReH0eQYOtfrsCwE47Okcn" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="tqdfcBNOMf" class="relative group/block article-grid subgrid-gap col-screen"><p>You can also subset your GPM xarray object by <code>gpm_id</code>, <code>gpm_cross_track_id</code> or <code>gpm_range_id</code> coordinates, which act as reference identifiers for the along-track, cross-track and range dimensions.
Selecting across coordinates by value is useful for example to:</p><ul><li>align multiple GPM xarray objects that might have been subsetted differently across the <code>cross_track</code>, <code>along_track</code> or <code>range</code> dimensions.</li><li>to retrieve a specific portion of a GPM granule indipendently of the previous subsetting operations.</li></ul><p>The <code>gpm_id</code> is defined as <code>&lt;gpm_granule_number&gt;-&lt;gpm_along_track_id&gt;</code>, while the others &lt;gpm_*_id&gt; coordinates start at 0 and increase incrementally by 1 along each granule dimension.</p></div><div id="V6mTegycTI" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Subset by gpm_id
start_gpm_id = &quot;53847-2768&quot;
end_gpm_id = &quot;53847-2918&quot;
ds_subset = ds.gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id))
ds_subset[&quot;gpm_id&quot;].data</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="OzVv_lys7e56DpsI2cteo" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="cBscjyNUgh" class="relative group/block article-grid subgrid-gap col-screen"><p>To check whether the GPM 2A-DPR product has contiguous along-track scans (with no missing scans), you can use:</p></div><div id="cq1393c3Dq" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">print(ds.gpm.has_contiguous_scans)
print(ds.gpm.is_regular)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="XP2bajuW5EasFnO7BKFXA" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="VrH3U3VTdG" class="relative group/block article-grid subgrid-gap col-screen"><p>In case there are non-contiguous scans, you can obtain the along-track slices over which the dataset is regular:</p></div><div id="tT50q7Laij" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">list_slices = ds.gpm.get_slices_contiguous_scans()
print(list_slices)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="EaqS7of-5gxr-RKDuNpd0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IgTWdmEefr" class="relative group/block article-grid subgrid-gap col-screen"><p>You can then select a regular portion of the dataset with:</p></div><div id="rJOq8ThiOZ" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">slc = list_slices[0]
print(slc)
ds_regular = ds.isel(along_track=slc)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="JoSBMJbDoSVGlASfSY3ds" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GejvmHmwql" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-4-plot-maps" class="relative group"><span class="heading-text">4. Plot Maps</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-4-plot-maps" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="AVXJGxXMKL" class="relative group/block article-grid subgrid-gap col-screen"><p>The GPM-API provides two ways of displaying 2D spatial fields:</p><ul><li>The <code>plot_map</code> method plot the data in a geographic projection using the <a target="_blank" href="https://scitools.org.uk/cartopy/docs/latest/" rel="noreferrer">Cartopy</a> <code>pcolormesh</code> method.</li><li>The <code>plot_image</code> method plot the data as an image using the xarray <code>imshow</code> method.</li></ul></div><div id="Ev9z507EKD" class="relative group/block article-grid subgrid-gap col-screen"><p>Let’s start by plotting the entire GPM DPR granule in the geographic space:</p></div><div id="goiQOZZDPy" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds[variable].gpm.plot_map()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="5gHIPLomaSN20CcpEsuB6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="FHMlpftZci" class="relative group/block article-grid subgrid-gap col-screen"><p>By focusing on a narrow region, it’s possible to better visualize the spatial field:</p></div><div id="y2tv45ZTqv" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">p = ds[variable].gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id)).gpm.plot_map()
p.axes.set_title(ds[variable].gpm.title(add_timestep=False))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="iKJSh-sNrj2mYwldD5eCn" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="n4KbFyAXLT" class="relative group/block article-grid subgrid-gap col-screen"><p>Using the <code>gpm.plot_image</code> method is possible to visualize the data in the so-called “swath scan view”:</p></div><div id="PrnUNt2IJY" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds[variable].gpm.plot_image()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="iymd7gPeQtrrvx2e6tqSI" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="hBwA16GOIG" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds[variable].gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id)).gpm.plot_image()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="du7BF9T3RvH7ETHgibbfj" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="TkzCg6aiC6" class="relative group/block article-grid subgrid-gap col-screen"><p>When we visualize different product variables, GPM-API will automatically try to use different appropriate colormaps and colorbars.
You can observe this in the following example:</p></div><div id="QwDJICp07Q" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_subset = ds.gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id), radar_frequency=&quot;Ku&quot;)
p = ds_subset[&quot;zFactorFinalNearSurface&quot;].gpm.plot_map()
p = ds_subset[&quot;zFactorFinalNearSurface&quot;].gpm.plot_map(
    cmap=&quot;RdYlBu_r&quot;, vmin=15, vmax=45
)  # ex: enable to modify defaults parameters on the fly
p = ds_subset[&quot;flagPrecip&quot;].gpm.plot_map()  # ex: defaults to categorical colorbar</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="IfKHwrNlnOTIlagQ5fZrS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="TbNp4zNd04" class="relative group/block article-grid subgrid-gap col-screen"><p>GPM-API provides colormaps and colorbars tailored to GPM product variables with the goal of simplifying the data analysis and make it more reproducible.</p><p>The default colormap and colorbar configurations are defined into YAML files into the <a href="https://github.com/ghiggi/gpm_api/blob/main/gpm/etc/colorbars/" class="italic" target="_blank" rel="noreferrer" data-state="closed">gpm/etc/colorbars directory</a> of the software.</p><p>However, users are free to override, add and/or customize the colorbars configurations using the pycolorbar (<a target="_blank" href="https://pycolorbar.readthedocs.io/en/latest/index.html" rel="noreferrer">https://<wbr/>pycolorbar<wbr/>.readthedocs<wbr/>.io<wbr/>/en<wbr/>/latest<wbr/>/index<wbr/>.html</a>) registry.</p><p>The registered colorbar configurations can be displayed using <code>gpm.colorbars.show_colorbars()</code> and the <code>plot_kwargs</code> and <code>cbar_kwargs</code> required to customize the figure can be obtained by calling the <code>gpm.get_plot_kwargs</code> function. Here below we provide an example on how to display DPR precipitation rates estimates using the same colorbar used by NASA to display IMERG liquid precipitation estimates.</p></div><div id="EuQ0zZEAcL" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">plot_kwargs, cbar_kwargs = gpm.get_plot_kwargs(&quot;IMERG_Liquid&quot;)
ds_subset[&quot;precipRateNearSurface&quot;].gpm.plot_map(cbar_kwargs=cbar_kwargs, **plot_kwargs)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vnA4gQLQ-c5XwPdbQSw0B" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Hp2MxkeFgf" class="relative group/block article-grid subgrid-gap col-screen"><p>Since GPM Datasets are characterized by multiple dimensions, GPM-API provides the capabilities to generate FacetGrid Cartopy plots following the classical xarray syntax:</p></div><div id="fUhM7RAbTA" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_subset = ds.gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id))

# Plot reflectivity at various levels
variable = &quot;zFactorFinal&quot;
da = ds_subset[variable].sel(range=[100, 125, 150, 170])
fc = da.gpm.plot_map(row=&quot;radar_frequency&quot;, col=&quot;range&quot;)

# Surface reflectivity at Ku and Ka band
variable = &quot;zFactorFinalNearSurface&quot;
da = ds_subset[variable]
fc = da.gpm.plot_map(col=&quot;radar_frequency&quot;, col_wrap=2)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="TdZu-a-oo7sJFGMt96Mkw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="wHu5gMLHaN" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-5-plot-cross-sections" class="relative group"><span class="heading-text">5. Plot Cross-Sections</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-5-plot-cross-sections" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="B0olI3IuTm" class="relative group/block article-grid subgrid-gap col-screen"><p>An easy way to derive a vertical cross-section is to slice the data along the cross-track or along-track dimension.
We can then plot the cross-section calling the <code>gpm.plot_transect()</code> method.</p></div><div id="zXiw2RG3F7" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_subset = ds.gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id), radar_frequency=&quot;Ku&quot;)
ds_subset[&quot;zFactorFinal&quot;].isel(cross_track=24).gpm.plot_transect(zoom=True)
ds_subset[&quot;zFactorFinal&quot;].isel(along_track=30).gpm.plot_transect(
    y=&quot;height_km&quot;, x=&quot;horizontal_distance_km&quot;, zoom=True
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ZFMBy1n2LQ2XABIFpm1KN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="pOXcX0zvYi" class="relative group/block article-grid subgrid-gap col-screen"><p>However, GPM-API also provides accessor methods to facilitate the extraction of cross-section around a point, between points and along a trajectory.
Here below we provide some examples:</p></div><div id="oNn22JXyNx" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">da_cross = ds_subset[&quot;zFactorFinal&quot;].gpm.extract_transect_between_points(
    start_point=(-118, 32), end_point=(-118, 36), steps=60
)
da_cross.gpm.plot_transect(zoom=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="BFDLh_A6jx5yss8AVxpYv" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="varZtRA8Uf" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">points = np.ones((100, 2))
points[:, 0] = -118
points[:, 1] = np.linspace(32, 36, 100)
da_cross = ds_subset[&quot;zFactorFinal&quot;].gpm.extract_transect_along_trajectory(
    points=points
)
da_cross.gpm.plot_transect(zoom=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Oz7KgaIszeR1UnOU_N-9M" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="zJsYgIow3Y" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">da_cross = ds_subset[&quot;zFactorFinal&quot;].gpm.extract_transect_around_point(
    point=(-118, 34), azimuth=0, distance=100_000, steps=100
)  # azimuth [0, 360]
da_cross.gpm.plot_transect(zoom=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="q6MhcXUpdDHjS7haVzTsr" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="OsVv6N9JPi" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-6-community-based-retrievals" class="relative group"><span class="heading-text">6. Community-based retrievals</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-6-community-based-retrievals" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="Di5RKC3E6t" class="relative group/block article-grid subgrid-gap col-screen"><p>GPM-API aims to be a platform where scientist can share their algorithms and retrievals with the community.</p><p>Based on the GPM product you are working with, you will have a series of retrievals available to you.
For example, GPM-API currently provide the following retrievals for the 2A-DPR product:</p></div><div id="UbY7qjWfc2" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds.gpm.available_retrievals()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="rtGLqRIvX40noAqhKPIWR" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="cHpEkJih7b" class="relative group/block article-grid subgrid-gap col-screen"><p>The <code>gpm.retrieve</code> method enables you to apply specific retrievals to your dataset.
Here below we provide a couple of examples:</p></div><div id="YIs514Nqlv" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_subset = ds.gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id), radar_frequency=&quot;Ku&quot;)

ds_subset[&quot;EchoTopHeight40dBZ&quot;] = ds_subset.gpm.retrieve(&quot;EchoTopHeight&quot;, threshold=40)
ds_subset[&quot;EchoTopHeight40dBZ&quot;].gpm.plot_map()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="kJT7xcHb-2g4HFSNYbWMr" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="XTiHhgIh6Z" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_subset[&quot;EchoDepthSolid30dBZ&quot;] = ds_subset.gpm.retrieve(
    &quot;EchoDepth&quot;, threshold=30, mask_liquid_phase=True
)
ds_subset[&quot;EchoDepthSolid30dBZ&quot;].gpm.plot_map()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="WQ_ymVB-0vfTAw0HwqsTL" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IJQ9luQ4ii" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_subset[&quot;VIL&quot;] = ds_subset.gpm.retrieve(&quot;VIL&quot;)
ds_subset[&quot;VIL&quot;].gpm.plot_map()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="wolvBpkpu5ImHi6hklWvP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Vsja7Hn6gd" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_subset[&quot;flagPrecipitationType&quot;] = ds_subset.gpm.retrieve(
    &quot;flagPrecipitationType&quot;, method=&quot;major_rain_type&quot;
)
ds_subset[&quot;flagPrecipitationType&quot;].gpm.plot_map()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="jwUJBSTthZAY_zRHtsdrg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="sTGvrQGgbv" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_subset[&quot;flagHydroClass&quot;] = ds_subset.gpm.retrieve(
    &quot;flagHydroClass&quot;
)  # this return a 3D array !
ds_subset[&quot;flagHydroClass&quot;].isel(cross_track=24).gpm.plot_transect()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="4l8ZCZWEjPTTFflJpsfL9" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Ghs9dsiyqO" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-7-advanced-manipulations" class="relative group"><span class="heading-text">7. Advanced Manipulations</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-advanced-manipulations" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="GIEaKV2DpN" class="relative group/block article-grid subgrid-gap col-screen"><p>When working with spaceborne radar data, it is often necessary to slice, extract or mask portions of data across the <code>range</code> dimension.
The xarray <code>gpm</code> accessor provides a series of methods to facilitate various tasks.</p></div><div id="zLzirwOFCl" class="relative group/block article-grid subgrid-gap col-screen"><p>If you wish to extract the values at specific range gate position varying over each radar beam, you can use the <code>slice_range_at_bin</code> method.
For example, to extract values near the surface where radar gates are not more contaminated by ground clutter, you can use the bin variable <code>&quot;binClutterFreeBottom&quot;</code>:</p></div><div id="cqwqJZa1Ok" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_surface = ds_subset.gpm.slice_range_at_bin(
    bins=&quot;binClutterFreeBottom&quot;
)  # or ds.gpm.slice_range_at_bin(bins=ds[&quot;binClutterFreeBottom&quot;])
ds_surface[&quot;precipRate&quot;].gpm.plot_map()  # precipRate is originally a 3D variable !
ds_surface[&quot;zFactorFinal&quot;].gpm.plot_map()  # zFactorFinal is originally a 3D variable !</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="PixvcXKm3esxfeSCix8pM" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="i0XDVE6t2S" class="relative group/block article-grid subgrid-gap col-screen"><p>Other slicing methods provide capabilities to retrieve values at a given height, along isothermals, or at the range gates where the minimum, maximum or closest value of a given variable occur:</p></div><div id="epGXdAbo67" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_isothermal = ds_subset.gpm.slice_range_at_temperature(
    273.15
)  # use by default the airTemperature variable
ds_3000 = ds_subset.gpm.slice_range_at_height(3000)
ds_max_z = ds_subset.gpm.slice_range_at_max_value(variable=&quot;zFactorFinal&quot;)
ds_min_z = ds_subset.gpm.slice_range_at_min_value(variable=&quot;zFactorFinal&quot;)
ds_at_z_30 = ds_subset.gpm.slice_range_at_value(variable=&quot;zFactorFinal&quot;, value=30)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="SnXYUmrkJI0s4FFIkOEu0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="DS1h3NBcB1" class="relative group/block article-grid subgrid-gap col-screen"><p>If you want to focus your analysis in the portion of radar gates with valid values (e.g., excluding upper atmosphere regions without reflectivities) or values ranging in a specific interval of interest, you can use the <code>subset_range_with_valid_data</code> and <code>subset_range_where_values</code> methods respectively:</p></div><div id="eS3eWXi1yK" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_valid = ds_subset.gpm.subset_range_with_valid_data(variable=&quot;zFactorFinal&quot;)
ds_intense = ds_subset.gpm.subset_range_where_values(
    variable=&quot;precipRate&quot;, vmin=200, vmax=300
)  # mm/hr
print(ds_valid[&quot;range&quot;].data)
print(ds_intense[&quot;range&quot;].data)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="uXPX_ifNb2iWpMeQl_06r" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bMDQERdxev" class="relative group/block article-grid subgrid-gap col-screen"><p>If you wish to extract radar gates above/below spatially-varying bin position, you can use the <code>extract_dataset_above_bin</code> and <code>extract_dataset_below_bin</code> methods.
Please note that these methods shifts the arrays beam-wise, returning datasets with a new <code>range</code> coordinate and the bin variables updated accordingly.</p></div><div id="XVKlxeWQKH" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_below_melting_layer = ds_subset.gpm.extract_dataset_below_bin(
    &quot;binBBBottom&quot;
)  # the first new range index corresponds to original binBBBottom
ds_above_melting_layer = ds_subset.gpm.extract_dataset_above_bin(
    &quot;binBBTop&quot;
)  # the last new range index corresponds to original binBBTop</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="QT_Ri4h_Qfk-SLP1s9GlO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="N1WxfU8kmG" class="relative group/block article-grid subgrid-gap col-screen"><p>If instead you wish to mask the data above/below or in between radar gates positions, you can use the <code>mask_above_bin</code>, <code>mask_below_bin</code> and <code>mask_between_bins</code> methods:</p></div><div id="pwQxTPGPwh" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">ds_rain = ds_subset.gpm.mask_above_bin(&quot;binZeroDeg&quot;)
ds_snow = ds_subset.gpm.mask_below_bin(&quot;binZeroDeg&quot;)
ds_masked_melting_layer = ds_subset.gpm.mask_between_bins(
    bottom_bins=&quot;binBBBottom&quot;, top_bins=&quot;binBBTop&quot;
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="TEbgpGx7Idye8jvpjk3-H" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ODpkcdUZs6" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-8-geospatial-manipulations" class="relative group"><span class="heading-text">8. Geospatial Manipulations</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-8-geospatial-manipulations" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="DFj79WIIYn" class="relative group/block article-grid subgrid-gap col-screen"><p>GPM-API provides methods to easily spatially subset orbits by extent, country or continent.</p><p>Note however, that an area can be crossed by multiple orbits depending on the size of your GPM satellite dataset.
In other words, multiple orbit slices in along-track direction can intersect the area of interest.</p><p>The method <code>get_crop_slices_by_extent</code>, <code>get_crop_slices_by_country</code> and <code> get_crop_slices_by_continent</code> enable to retrieve the orbit portions intersecting the area of interest.</p></div><div id="TpAdaOD5Z8" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Define the variable to display
variable = &quot;precipRateNearSurface&quot;

# Crop by country
list_isel_dict = ds.gpm.get_crop_slices_by_country(&quot;United States&quot;)
print(list_isel_dict)

# Crop by extent
extent = get_country_extent(&quot;United States&quot;)
list_isel_dict = ds.gpm.get_crop_slices_by_extent(extent)
print(list_isel_dict)

# Plot the swaths crossing the country
for isel_dict in list_isel_dict:
    da_subset = ds[variable].isel(isel_dict)
    slice_title = da_subset.gpm.title(add_timestep=True)
    p = da_subset.gpm.plot_map()
    p.axes.set_extent(extent)
    p.axes.set_title(label=slice_title)

# Define the variable to display
variable = &quot;precipRateNearSurface&quot;

# Crop around a point (i.e. radar location)
lon = -117.0418
lat = 32.9190
distance = 200_000  # 200 km
list_isel_dict = ds.gpm.get_crop_slices_around_point(
    lon=lon, lat=lat, distance=distance
)
print(list_isel_dict)

extent = get_geographic_extent_around_point(lon=lon, lat=lat, distance=distance)
list_isel_dict = ds.gpm.get_crop_slices_by_extent(extent)
print(list_isel_dict)

# Define ROI coordinates
circle_lons, circle_lats = get_circle_coordinates_around_point(
    lon, lat, radius=distance, num_vertices=360
)

# Plot the swaths crossing the ROI
for isel_dict in list_isel_dict:
    da_subset = ds[variable].isel(isel_dict)
    slice_title = da_subset.gpm.title(add_timestep=True)
    p = da_subset.gpm.plot_map()
    p.axes.plot(circle_lons, circle_lats, &quot;r-&quot;, transform=ccrs.Geodetic())
    p.axes.scatter(lon, lat, c=&quot;black&quot;, marker=&quot;X&quot;, s=100, transform=ccrs.Geodetic())
    p.axes.set_extent(extent)

# Alternatives if working with a single granule:

# ds_subset = ds.gpm.crop_by_extent(extent)
# ds_subset = ds.gpm.crop_by_country(&quot;United States&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="t4_pVZsK50CiElwixT9QS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="fGuWumSB5f" class="relative group/block article-grid subgrid-gap col-screen"><p>You can also easily obtain the extent around a given point (i.e. ground radar location) using the <code>get_geographic_extent_around_point</code> function and use
the gpm accessor methods <code>get_crop_slices_around_point</code> or <code>crop_around_point</code> to subset your dataset:</p></div><div id="MeBqS2p9J5" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Define the variable to display
variable = &quot;precipRateNearSurface&quot;

# Crop around a point (i.e. radar location)
lon = -117.0418
lat = 32.9190
distance = 200_000  # 200 km
list_isel_dict = ds.gpm.get_crop_slices_around_point(
    lon=lon, lat=lat, distance=distance
)
print(list_isel_dict)

extent = get_geographic_extent_around_point(lon=lon, lat=lat, distance=distance)
list_isel_dict = ds.gpm.get_crop_slices_by_extent(extent)
print(list_isel_dict)

# Define ROI coordinates
circle_lons, circle_lats = get_circle_coordinates_around_point(
    lon, lat, radius=distance, num_vertices=360
)

# Plot the swaths crossing the ROI
for isel_dict in list_isel_dict:
    da_subset = ds[variable].isel(isel_dict)
    slice_title = da_subset.gpm.title(add_timestep=True)
    p = da_subset.gpm.plot_map()
    p.axes.plot(circle_lons, circle_lats, &quot;r-&quot;, transform=ccrs.Geodetic())
    p.axes.scatter(lon, lat, c=&quot;black&quot;, marker=&quot;X&quot;, s=100, transform=ccrs.Geodetic())
    p.axes.set_extent(extent)

# Alternatives if working with a single granule:

# ds_subset = ds.gpm.crop_around_point(lon=lon, lat=lat, distance=distance)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vSV2LO0VeiiQL3KMwqKji" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="fnlZSgsLpK" class="relative group/block article-grid subgrid-gap col-screen"><p>Please keep in mind that you can easily retrieve the extent of a GPM xarray object using the <code>extent</code> method.</p><p>The optional argument <code>padding</code> allows to expand/shrink the geographic extent by custom lon/lat degrees, while the <code>size</code> argument allows
to obtain an extent centered on the GPM object with the desired size.</p></div><div id="pMdGVVJn6a" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">print(da_subset.gpm.extent(padding=0.1))  # expanding
print(da_subset.gpm.extent(padding=-0.1))  # shrinking
print(da_subset.gpm.extent(size=0.5))
print(da_subset.gpm.extent(size=0))  # centroid</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="gpwomrlBZAf_q4XwIN18w" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="qILDHg2h2f" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-9-storm-labeling" class="relative group"><span class="heading-text">9. Storm Labeling</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-9-storm-labeling" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="WvYtkKb05i" class="relative group/block article-grid subgrid-gap col-screen"><p>Using the xarray <code>ximage</code> accessor, it is possible to easily delineate (label) the precipitating areas. The label array is added to the dataset as a new coordinate.</p></div><div id="pbTezu3iF7" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Retrieve labeled xarray object
label_name = &quot;label&quot;
ds = ds.ximage.label(
    variable=&quot;precipRateNearSurface&quot;,
    min_value_threshold=1,
    min_area_threshold=5,
    footprint=5,  # assign same label to precipitating areas 5 pixels apart
    sort_by=&quot;area&quot;,  # &quot;maximum&quot;, &quot;minimum&quot;, &lt;custom_function&gt;
    sort_decreasing=True,
    label_name=label_name,
)
# Plot full label array
ds[label_name].ximage.plot_labels()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vfBLyW8LpQGmtNtZTT738" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="TC6e8jwL15" class="relative group/block article-grid subgrid-gap col-screen"><p>Let’s zoom in a specific region:</p></div><div id="bsAyzxyjI4" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">gpm.plot_labels(ds[label_name].isel(along_track=slice(2700, 3500)))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="JG7eOWIB1ZkRJJWsSuVVo" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="CgaiqT3jtM" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-10-patch-extraction" class="relative group"><span class="heading-text">10. Patch Extraction</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-10-patch-extraction" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="vOBYrOQzh5" class="relative group/block article-grid subgrid-gap col-screen"><p>With the xarray <code>ximage</code> accessor, it is also possible to extract patches around the precipitating areas. Here we provide a minimal example on how to proceed:</p></div><div id="Pjx496E5Ha" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Define the patch generator
da_patch_gen = ds[&quot;precipRateNearSurface&quot;].ximage.label_patches(
    label_name=label_name,
    patch_size=(49, 49),
    variable=variable,
    # Output options
    n_patches=4,
    # Patch extraction Options
    padding=0,
    centered_on=&quot;max&quot;,
    # Tiling/Sliding Options
    debug=False,
    verbose=False,
)

# # Retrieve list of patches
list_label_patches = list(da_patch_gen)
list_da = [da for label, da in list_label_patches]

# Display patches
gpm.plot_patches(list_label_patches)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="EaV5jofn2chjlwuHHTCtp" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Og4DMDI6lW" class="relative group/block article-grid subgrid-gap col-screen"><p>You can exploit the xarray manipulations and FacetGrid capabilities to quickly create the following figure:</p></div><div id="Vz6WKr6fs0" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">list_da_without_coords = [da.drop_vars([&quot;lon&quot;, &quot;lat&quot;]) for da in list_da]
da_patch = xr.concat(list_da_without_coords, dim=&quot;patch&quot;)
da_patch.isel(patch=slice(0, 4)).gpm.plot_image(col=&quot;patch&quot;, col_wrap=2)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="V8uCTZ_xAK30dQ1M54c1w" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="PqmLvEfO1E" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="id-11-spaceborne-ground-radar-matching" class="relative group"><span class="heading-text">11. Spaceborne/Ground Radar Matching</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-11-spaceborne-ground-radar-matching" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="v303xmMzOA" class="relative group/block article-grid subgrid-gap col-screen"><p>In this final subsection, we now provide also brief overview on how to match spaceborne (SR) and ground (GR) radar measurements.</p><p>A step-by-step guide on the methodology to obtain spatially and temporally coincident radar samples is provided in
the <a target="_blank" href="https://gpm-api.readthedocs.io/en/latest/tutorials/tutorial_03_SR_GR_Matching.html" rel="noreferrer">Spaceborne-Ground Radar Matching Tutorial</a>,
while an applied example is provided in the <a target="_blank" href="https://gpm-api.readthedocs.io/en/latest/tutorials/tutorial_03_SR_GR_Calibration.html" rel="noreferrer">Spaceborne-Ground Radar Calibration Applied Tutorial</a>.</p></div><div id="KcKcIcTi7e" class="relative group/block article-grid subgrid-gap col-screen"><p>To start let’s open the NEXRAD ground radar data coincident with the GPM DPR overpass. We have preprocessed the native NEXRAD radar with xradar and uploaded it into Zarr format on the Pythia Cloud Bucket.</p></div><div id="JfmriZ9P87" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">filepath_gr = &quot;/home/ghiggi/data/bucket/KNKX20230820_221341_V06.zarr&quot;
dt_gr = open_datatree(filepath_gr, engine=&quot;zarr&quot;, chunks={})
display(dt_gr)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="erBhzQhdNf7amRSkkBrPH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="eEmVJ6ibZ5" class="relative group/block article-grid subgrid-gap col-screen"><p>Now, let’s select the GR sweep to match with GPM DPR.</p></div><div id="fdbsyJMIXV" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">sweep_idx = 0
sweep_group = f&quot;sweep_{sweep_idx}&quot;  # GR sweep (elevation to be used)
ds_gr = dt_gr[sweep_group].ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="hApzIowfBEOTjMB9pJ7Gb" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="w6qlLHKZ9X" class="relative group/block article-grid subgrid-gap col-screen"><p>Let’s define some SR/GR volume matching settings ...</p></div><div id="iL7P2Ca17R" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">radar_band = &quot;S&quot;
beamwidth_gr = 1
z_min_threshold_gr = 0
z_min_threshold_sr = 10</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="yKNsDWyGgVm7w1rW0Lr_k" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IwYiGAPDRE" class="relative group/block article-grid subgrid-gap col-screen"><p>... and then apply the SR/GR volume matching. If the GPM Dataset is not specified, <code>volume_matching</code> automatically download and load the required SR radar data.</p></div><div id="OlGJu68aJK" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">gdf_match = volume_matching(
    ds_gr=ds_gr,
    ds_sr=ds,  # optional
    radar_band=radar_band,
    beamwidth_gr=beamwidth_gr,
    z_min_threshold_gr=z_min_threshold_gr,
    z_min_threshold_sr=z_min_threshold_sr,
    min_gr_range=0,
    max_gr_range=150_000,
    # gr_sensitivity_thresholds=None,
    # sr_sensitivity_thresholds=None,
    download_sr=False,  # require NASA accounts and internet connection !
    display_quicklook=True,
)
display(gdf_match)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="-nbXCSn0Zf_oIY41LJrcR" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="RWLYj2vbM2" class="relative group/block article-grid subgrid-gap col-screen"><p>Now let’s display the SR/GR matched/aggregated reflectivities:</p></div><div id="JKIcABxHFP" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">extent_xy = gdf_match.total_bounds[[0, 2, 1, 3]]
p = gdf_match.plot(
    column=f&quot;SR_zFactorFinal_{radar_band}_mean&quot;,
    legend=True,
    legend_kwds={&quot;label&quot;: &quot;SR Reflectivity (dBz)&quot;},
    cmap=&quot;Spectral_r&quot;,
    vmin=10,
    vmax=40,
)
p.axes.set_xlim(extent_xy[0:2])
p.axes.set_ylim(extent_xy[2:4])
p.axes.set_title(&quot;SR&quot;)
plt.xlabel(&quot;x (m)&quot;, fontsize=12)
plt.ylabel(&quot;y (m)&quot;, fontsize=12)
plt.grid(lw=0.25, color=&quot;grey&quot;)

p = gdf_match.plot(
    column=&quot;GR_Z_mean&quot;,
    legend=True,
    legend_kwds={&quot;label&quot;: &quot;GR Reflectivity (dBz)&quot;},
    cmap=&quot;Spectral_r&quot;,
    vmin=10,
    vmax=40,
)
p.axes.set_xlim(extent_xy[0:2])
p.axes.set_ylim(extent_xy[2:4])
p.axes.set_title(&quot;GR&quot;)
plt.xlabel(&quot;x (m)&quot;, fontsize=12)
plt.ylabel(&quot;y (m)&quot;, fontsize=12)
plt.grid(lw=0.25, color=&quot;grey&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="wGDb679gCLhVpLDjX-fXn" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/erad2024/wradlib-clutter-beamblockage"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">Py-ART and wradlib</div>clutter and beamblockage</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/erad2024/baltrad-io"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">BALTRAD</div>I/O model</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"></path></svg></div></a></div></main></article><script>((o,u)=>{if(!window.history.state||!window.history.state.key){let f=Math.random().toString(32).slice(2);window.history.replaceState({key:f},"")}try{let d=JSON.parse(sessionStorage.getItem(o)||"{}")[u||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(f){console.error(f),sessionStorage.removeItem(o)}})("positions", null)</script><link rel="modulepreload" href="/erad2024/build/entry.client-K6EYMIDZ.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-FBLNPC3V.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-XJN3BT5Q.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-RE6LVKIZ.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-YAIQ7LUU.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-HTHE5KDW.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-AAPZCWUN.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-QB27XQSF.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-JOLZ6LZB.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-MITWS4PZ.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-EEG6LHX7.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-TEYZXLTV.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/erad2024/build/root-ZSMPVWLZ.js"/><link rel="modulepreload" href="/erad2024/build/_shared/chunk-OCW4QGPJ.js"/><link rel="modulepreload" href="/erad2024/build/routes/$-OW6NTZY2.js"/><script>window.__remixContext = {"url":"/gpm-api-intro","state":{"loaderData":{"root":{"theme":"light","config":{"options":{"favicon":"/erad2024/build/favicon-6cd35bce8fbeee976ddbe66d829465b5.ico","logo":"/erad2024/build/erad_white_backgroun-8eb612b715aa6c1ffd96dd514fa1a585.png","logo_dark":"/erad2024/build/erad_white_backgroun-8eb612b715aa6c1ffd96dd514fa1a585.png"},"myst":"1.3.5","nav":[{"title":"Conference Home","url":"https://www.erad2024.it"},{"title":"Open Radar Community","url":"https://openradarscience.org"}],"actions":[{"title":"Launch Environment","url":"https://binder.projectpythia.org/v2/gh/openradar/erad2024/main?labpath=notebooks","internal":false,"static":false}],"projects":[{"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"title":"ERAD 2024","authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","orcid":"0009-0004-9266-9293","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","orcid":"0009-0006-1419-0556","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"github":"https://github.com/openradar/erad2024","copyright":"2024","references":{"foundations":{"url":"https://projectpythia-mystmd.github.io/pythia-foundations"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"openradar/erad2024","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"schedule.md"}],"title":"Schedule"},{"children":[{"file":"getting_started.md"},{"file":"notebooks/data-access/intro-data-access.ipynb"},{"file":"notebooks/environment.ipynb"}],"title":"Getting started"},{"children":[{"children":[{"file":"notebooks/xradar-pyart/xradar-basics.ipynb"}],"title":"XRadar"},{"children":[{"file":"notebooks/xradar-pyart/pyart-basics.ipynb"},{"file":"notebooks/wradlib/wradlib_clutter_beamblockage.ipynb"}],"title":"Py-ART and wradlib"},{"children":[{"file":"notebooks/gpm-api/gpm-api-intro.ipynb"}],"title":"GPM-API"},{"children":[{"pattern":"notebooks/baltrad/baltrad_short_course/*.ipynb"},{"pattern":"notebooks/baltrad/pyart2baltrad/*.ipynb"},{"file":"notebooks/baltrad/baltrad2wradlib/baltrad2wradlib.ipynb"}],"title":"BALTRAD"},{"children":[{"file":"notebooks/lrose/LROSE_Basics.ipynb"},{"file":"notebooks/lrose/LROSE_ERAD_fractl_samurai.ipynb"},{"file":"notebooks/lrose/DD_Tornado_ERAD2024.ipynb"},{"file":"notebooks/lrose/testing/stress_testing.ipynb"}],"title":"LROSE"}],"title":"Radar Software Foundations"},{"children":[{"file":"notebooks/environment.ipynb"}],"title":"Notebook Environment"},{"children":[{"file":"notebooks/Retrieving_winds_with_pydda.ipynb"}],"title":"Retrieving winds with PyDDA"}],"thumbnail":"/erad2024/build/0885e6292c6be2fd643fbc952d479a01.jpeg","exports":[],"bibliography":[],"index":"readme","pages":[{"level":1,"title":"Preamble"},{"slug":"how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Schedule"},{"slug":"schedule","title":"Schedule","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Getting started"},{"slug":"getting-started","title":"Notebook Execution","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-data-access","title":"Data Access Instructions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"environment","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Radar Software Foundations"},{"level":2,"title":"XRadar"},{"slug":"xradar-basics","title":"Xradar Basics","description":"","date":"","thumbnail":"/erad2024/build/xradar_logo-056b4e59022c2d2b2aee43aeb1a7cfb5.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"Py-ART and wradlib"},{"slug":"pyart-basics","title":"Py-ART Basics with Xradar","description":"","date":"","thumbnail":"/erad2024/build/arm_logo-1ff8b9fd151e125c896a3eee8606aca2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"wradlib-clutter-beamblockage","title":"clutter and beamblockage","description":"","date":"","thumbnail":"/erad2024/build/wradlib_logo.svg-04446fa7b27bf8c01c70e46114f5e99c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"GPM-API"},{"slug":"gpm-api-intro","title":"Introduction to GPM-API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"BALTRAD"},{"slug":"baltrad-io","title":"I/O model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-qc","title":"Quality Control","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-drqc","title":"Quality Control using DR","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-parallel-processing","title":"Parallel processing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-compositing","title":"Compositing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-pyart-rain-rate-example","title":"Rain Rate retrieval with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pyart-baltrad-dealias-example","title":"Doppler Velocity Dealiasing with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad2wradlib","title":"Attenuation correction comparison with wradlib","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"LROSE"},{"slug":"lrose-basics","title":"An Introduction to LROSE","description":"","date":"","thumbnail":"/erad2024/build/colette_rose-e546e81ebbcd972a32bda0625bf9de6c.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lrose-erad-fractl-samurai","title":"LROSE Wind Tutorial","description":"","date":"","thumbnail":"/erad2024/build/samurai-eb910fa602eaf3da675ac55d6f5e3dac.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stress-testing","title":"stress-testing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Notebook Environment"},{"slug":"environment-1","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Retrieving winds with PyDDA"},{"slug":"retrieving-winds-with-pydda","title":"PyDDA tutorial","description":"","date":"","thumbnail":"/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/erad2024"},"routes/$":{"config":{"options":{"favicon":"/erad2024/build/favicon-6cd35bce8fbeee976ddbe66d829465b5.ico","logo":"/erad2024/build/erad_white_backgroun-8eb612b715aa6c1ffd96dd514fa1a585.png","logo_dark":"/erad2024/build/erad_white_backgroun-8eb612b715aa6c1ffd96dd514fa1a585.png"},"myst":"1.3.5","nav":[{"title":"Conference Home","url":"https://www.erad2024.it"},{"title":"Open Radar Community","url":"https://openradarscience.org"}],"actions":[{"title":"Launch Environment","url":"https://binder.projectpythia.org/v2/gh/openradar/erad2024/main?labpath=notebooks","internal":false,"static":false}],"projects":[{"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"title":"ERAD 2024","authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","orcid":"0009-0004-9266-9293","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","orcid":"0009-0006-1419-0556","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"github":"https://github.com/openradar/erad2024","copyright":"2024","references":{"foundations":{"url":"https://projectpythia-mystmd.github.io/pythia-foundations"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"openradar/erad2024","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"schedule.md"}],"title":"Schedule"},{"children":[{"file":"getting_started.md"},{"file":"notebooks/data-access/intro-data-access.ipynb"},{"file":"notebooks/environment.ipynb"}],"title":"Getting started"},{"children":[{"children":[{"file":"notebooks/xradar-pyart/xradar-basics.ipynb"}],"title":"XRadar"},{"children":[{"file":"notebooks/xradar-pyart/pyart-basics.ipynb"},{"file":"notebooks/wradlib/wradlib_clutter_beamblockage.ipynb"}],"title":"Py-ART and wradlib"},{"children":[{"file":"notebooks/gpm-api/gpm-api-intro.ipynb"}],"title":"GPM-API"},{"children":[{"pattern":"notebooks/baltrad/baltrad_short_course/*.ipynb"},{"pattern":"notebooks/baltrad/pyart2baltrad/*.ipynb"},{"file":"notebooks/baltrad/baltrad2wradlib/baltrad2wradlib.ipynb"}],"title":"BALTRAD"},{"children":[{"file":"notebooks/lrose/LROSE_Basics.ipynb"},{"file":"notebooks/lrose/LROSE_ERAD_fractl_samurai.ipynb"},{"file":"notebooks/lrose/DD_Tornado_ERAD2024.ipynb"},{"file":"notebooks/lrose/testing/stress_testing.ipynb"}],"title":"LROSE"}],"title":"Radar Software Foundations"},{"children":[{"file":"notebooks/environment.ipynb"}],"title":"Notebook Environment"},{"children":[{"file":"notebooks/Retrieving_winds_with_pydda.ipynb"}],"title":"Retrieving winds with PyDDA"}],"thumbnail":"/erad2024/build/0885e6292c6be2fd643fbc952d479a01.jpeg","exports":[],"bibliography":[],"index":"readme","pages":[{"level":1,"title":"Preamble"},{"slug":"how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Schedule"},{"slug":"schedule","title":"Schedule","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Getting started"},{"slug":"getting-started","title":"Notebook Execution","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-data-access","title":"Data Access Instructions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"environment","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Radar Software Foundations"},{"level":2,"title":"XRadar"},{"slug":"xradar-basics","title":"Xradar Basics","description":"","date":"","thumbnail":"/erad2024/build/xradar_logo-056b4e59022c2d2b2aee43aeb1a7cfb5.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"Py-ART and wradlib"},{"slug":"pyart-basics","title":"Py-ART Basics with Xradar","description":"","date":"","thumbnail":"/erad2024/build/arm_logo-1ff8b9fd151e125c896a3eee8606aca2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"wradlib-clutter-beamblockage","title":"clutter and beamblockage","description":"","date":"","thumbnail":"/erad2024/build/wradlib_logo.svg-04446fa7b27bf8c01c70e46114f5e99c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"GPM-API"},{"slug":"gpm-api-intro","title":"Introduction to GPM-API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"BALTRAD"},{"slug":"baltrad-io","title":"I/O model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-qc","title":"Quality Control","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-drqc","title":"Quality Control using DR","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-parallel-processing","title":"Parallel processing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-compositing","title":"Compositing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-pyart-rain-rate-example","title":"Rain Rate retrieval with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pyart-baltrad-dealias-example","title":"Doppler Velocity Dealiasing with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad2wradlib","title":"Attenuation correction comparison with wradlib","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"LROSE"},{"slug":"lrose-basics","title":"An Introduction to LROSE","description":"","date":"","thumbnail":"/erad2024/build/colette_rose-e546e81ebbcd972a32bda0625bf9de6c.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lrose-erad-fractl-samurai","title":"LROSE Wind Tutorial","description":"","date":"","thumbnail":"/erad2024/build/samurai-eb910fa602eaf3da675ac55d6f5e3dac.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stress-testing","title":"stress-testing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Notebook Environment"},{"slug":"environment-1","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Retrieving winds with PyDDA"},{"slug":"retrieving-winds-with-pydda","title":"PyDDA tutorial","description":"","date":"","thumbnail":"/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"kind":"Notebook","sha256":"14c43a3bde3d50589330a3c6951e564462e0ab84e3dddbe8dba81f4a1ae4f3c0","slug":"gpm-api-intro","location":"/notebooks/gpm-api/gpm-api-intro.ipynb","dependencies":[],"frontmatter":{"title":"Introduction to GPM-API","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","orcid":"0009-0004-9266-9293","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","orcid":"0009-0006-1419-0556","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"github":"https://github.com/openradar/erad2024","copyright":"2024","abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"exports":[{"format":"ipynb","filename":"gpm-api-intro.ipynb","url":"/erad2024/build/gpm-api-intro-108d335d62b73c357821622aa8cf99bb.ipynb"}]},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this tutorial, we will provide the foundations to use GPM-API to download, manipulate and analyze data from the Global Precipitation Measurement (GPM) spaceborne radars.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f0L4UNOUe5"}],"key":"j1FTKtJ1Or"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Please note that GPM-API also enable access and analysis tools for the entire GPM constellation of passive microwave sensors as well as the IMERG precipitation products.\nFor detailed information and additional tutorials, please refer to the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"cvV6YNPFr3"},{"type":"link","url":"https://gpm-api.readthedocs.io/en/latest/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"official GPM-API documentation","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"AzMAnJNsMD"}],"urlSource":"https://gpm-api.readthedocs.io/en/latest/","key":"uLYx3KmoFQ"},{"type":"text","value":".","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"g32ZldwNDR"}],"key":"EH8od2mszN"}],"key":"J5cCxGO1Jh"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First, let’s import the package required in this tutorial.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M1IVTbyKBF"}],"key":"mXgGEn39Zk"}],"key":"GE5suY51YQ"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import datetime\nimport gpm\nimport numpy as np\nimport ximage  # noqa\nimport xarray as xr\nfrom xarray.backends.api import open_datatree\nimport matplotlib.pyplot as plt\nimport cartopy.crs as ccrs\nfrom gpm.utils.geospatial import (\n    get_country_extent,\n    get_geographic_extent_around_point,\n    get_circle_coordinates_around_point,\n)\nfrom gpm.utils.gv import volume_matching","key":"sQjDrCGi1v"},{"type":"output","id":"hQ9b54nLmNW7ffH90IuIR","data":[],"key":"lR3mAiET9A"}],"key":"KLkPedRwMb"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dpoKTM1UiQ"},{"type":"inlineCode","value":"available_products","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"voUV3lVQyG"},{"type":"text","value":" function, users can obtain a list of all GPM products that can be downloaded and opened into CF-compliant xarray datasets.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bPIHY9sYgv"}],"key":"pxyy2EUk9x"}],"key":"rjIKbDyWU8"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"gpm.available_products(product_types=\"RS\")  # research products","key":"kEqwU4ZVOB"},{"type":"output","id":"TCs0aJbFPQeIvRRV5bAD7","data":[],"key":"ehIn0Lhpz5"}],"key":"VJFDg4AFZO"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s have a look at the available RADAR products:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pvDe2gTsu3"}],"key":"TeWEb4GLn3"}],"key":"saMQfGT4yv"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"gpm.available_products(product_categories=\"RADAR\", product_levels=\"1B\")","key":"JHLV420I8E"},{"type":"output","id":"4AqmR17bVUb3g35T5uk7F","data":[],"key":"fyziSRPeKX"}],"key":"Zy3b2FWMiv"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"gpm.available_products(product_categories=\"RADAR\", product_levels=\"2A\")","key":"rrDMPCVaz3"},{"type":"output","id":"yA-97eYmDTjKlsCGT2Yhb","data":[],"key":"ulBta4CXWu"}],"key":"lvjOcKYmGV"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this tutorial, we will use the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"urdkKlA1eD"},{"type":"inlineCode","value":"2A-DPR","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SY261Y9RMg"},{"type":"text","value":" product which provides the GPM Dual-frequency Precipitation Radar (DPR) reflectivities and associated precipitation retrievals.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bedFnLpsjh"}],"key":"pLCdHTvjWZ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Since we are running this tutorial on a Binder environment, we will not execute the following ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yNicV7c3JF"},{"type":"inlineCode","value":"gpm.download","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TvdaL81Ljg"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xHrP2zRDBC"},{"type":"inlineCode","value":"gpm.open_dataset","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"U3x4V5PxfB"},{"type":"text","value":" sections, and directly load the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IiqRt8lPQD"},{"type":"inlineCode","value":"2A.GPM.DPR.V9-20211125.20230820-S213941-E231213.053847.V07B.HDF5","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cyNHwn6iIe"},{"type":"text","value":" granule file,","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jPJSjU0MBW"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yzw1MQoruC"},{"type":"text","value":"which has been preconverted to a Zarr Store and uploaded on the Pythia Cloud Bucket to simplify access to the data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dvKG6GAfK5"}],"key":"fD5jxTeCEA"}],"key":"WEISitCFzB"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1. Download Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kZq6A9fbza"}],"identifier":"id-1-download-data","label":"1. Download Data","html_id":"id-1-download-data","implicit":true,"key":"wn5MG4q7Uz"}],"key":"s2oZQ0hihr"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now let’s download the 2A-DPR product over a couple of hours.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mp9stpGjfD"}],"key":"dwbUX8y5xB"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"To download GPM data with GPM-API, you have to previously create a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"X5TpDUeW15"},{"type":"link","url":"https://urs.earthdata.nasa.gov/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"NASA Earthdata","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JPKuEcCjKn"}],"urlSource":"https://urs.earthdata.nasa.gov/","key":"lhqemivC8v"},{"type":"text","value":" and/or ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xEnSZ0tymb"},{"type":"link","url":"https://registration.pps.eosdis.nasa.gov/registration/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"NASA PPS","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pzXQcdtMcl"}],"urlSource":"https://registration.pps.eosdis.nasa.gov/registration/","key":"VStnKYW6Ce"},{"type":"text","value":" account.\nWe provide a step-by-step guide on how to set up your accounts in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LhpQA58ENt"},{"type":"link","url":"https://gpm-api.readthedocs.io/en/latest/03_quickstart.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"official GPM-API documentation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Tjot92P40E"}],"urlSource":"https://gpm-api.readthedocs.io/en/latest/03_quickstart.html","key":"nhbWGmxcF6"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yQGtE39sSb"}],"key":"lxRBKXF0CX"}],"key":"QSN8SNJJ3v"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Specify the time period you are interested in\nstart_time = datetime.datetime.strptime(\"2023-08-20 22:12:00\", \"%Y-%m-%d %H:%M:%S\")\nend_time = datetime.datetime.strptime(\"2023-08-20 22:13:45\", \"%Y-%m-%d %H:%M:%S\")\n# Specify the product and product type\nproduct = \"2A-DPR\"  # 2A-PR\nproduct_type = \"RS\"\nstorage = \"GES_DISC\"\n# Specify the version\nversion = 7","key":"ObQgz6mzOE"},{"type":"output","id":"5KA_WfgxUaijOfzdBXRLt","data":[],"key":"Eyo3F4rNQt"}],"key":"xsPhHntjPg"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Download the data\ngpm.download(\n    product=product,\n    product_type=product_type,\n    version=version,\n    start_time=start_time,\n    end_time=end_time,\n    storage=storage,\n    force_download=False,\n    verbose=True,\n    progress_bar=True,\n    check_integrity=False,\n)","key":"e4e2kaYbz6"},{"type":"output","id":"vIdiJ-n3o7Uvu4iu4xqxe","data":[],"key":"tmbacvdA4e"}],"key":"JX7DKvIkOI"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Once, the data are downloaded on disk, let’s load the 2A-DPR product and look at the dataset structure.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E4QPLX9Zrq"}],"key":"WyoGLATk1I"}],"key":"c77MJ92Nnc"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2. Load Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vN7DljdViD"}],"identifier":"id-2-load-data","label":"2. Load Data","html_id":"id-2-load-data","implicit":true,"key":"VKpGkulBPd"}],"key":"fSvLWJ4V4w"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"With GPM-API, the name granule is used to refer to a single file, while the name dataset is used to refer to a collection of granules.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TXcpdwADTA"}],"key":"XKYrdDcNm8"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"GPM-API enables to open single or multiple granules into an xarray.Dataset, an object designed for working with labeled multi-dimensional arrays.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xoaqBhdwAl"}],"key":"UU5W8Pia8d"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nRyUXJPe9z"},{"type":"inlineCode","value":"gpm.open_granule(filepath)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"rd5lCLdUKF"},{"type":"text","value":" opens a single file into xarray by providing the path of the file of interest.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"S0eeqmW53C"}],"key":"thU4eAjvlo"}],"key":"OAWCN3oRXa"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lnUIJHmOmk"},{"type":"inlineCode","value":"gpm.open_dataset","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"q2t0xFmNcO"},{"type":"text","value":" function enables to open a collection of granules over a period of interest.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"HBPcs1e11D"}],"key":"Y31J3q83jK"}],"key":"VpBBPCvPdB"}],"key":"ErUn70xy0I"}],"key":"KSBVntYbAn"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Load the 2A-DPR dataset\nds = gpm.open_dataset(\n    product=product,\n    product_type=product_type,\n    version=version,\n    start_time=start_time,\n    end_time=end_time,\n)\nds","key":"BXRScSrwds"},{"type":"output","id":"exnTAQhlyJAVrRhqVEEZ0","data":[],"key":"Mv5Hk8Z1qT"}],"key":"jcC2tFdH1m"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Here we directly read the data required for this tutorial from the Pythia Cloud Bucket so that you don’t have to register a NASA account and download the data beforehand.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PEjfNVxvmM"}],"key":"PW6acS02ac"}],"key":"bbsob1URmF"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"filepath_sr = \"/home/ghiggi/data/bucket/2A.GPM.DPR.V9-20211125.20230820-S213941-E231213.053847.V07B.zarr\"\nds = xr.open_zarr(filepath_sr)\nds","key":"w4hSfrO6sf"},{"type":"output","id":"oJG3CyBwnkR7VmRvmcdwI","data":[],"key":"PE4jo29JiV"}],"key":"QFRUUx5a32"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3. Basic Manipulations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"meKAipVVfT"}],"identifier":"id-3-basic-manipulations","label":"3. Basic Manipulations","html_id":"id-3-basic-manipulations","implicit":true,"key":"YeTsF7vGvr"}],"key":"NOKIg6IPO2"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"You can list variables, coordinates and dimensions with the following methods:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tJlDsDLGlB"}],"key":"S9Hg2H2jB6"}],"key":"I1rghm1Svu"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Available variables\nprint(\"Available variables: \", list(ds.data_vars))\n# Available coordinates\nprint(\"Available coordinates: \", list(ds.coords))\n# Available dimensions\nprint(\"Available dimensions: \", list(ds.dims))\n# Spatial dimension:\nprint(\"Spatial dimensions: \", ds.gpm.spatial_dimensions)\n# Vertical dimension:\nprint(\"Vertical dimension: \", ds.gpm.vertical_dimension)","key":"f4cHqpLWE1"},{"type":"output","id":"BPO_Ari2016_rkBs1iO-F","data":[],"key":"Y2FM6Yu5UV"}],"key":"xh2sQ6kNFI"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Through the use of the xarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mGWunstZSK"},{"type":"inlineCode","value":"gpm","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AHLIU8UY2c"},{"type":"text","value":" accessor, you can access various methods that simplify for example the listing of variables according to their dimensions.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MucaLwQlBL"}],"key":"JmqwRArScF"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"For example, using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SzFiREb9Zn"},{"type":"inlineCode","value":"ds.gpm.spatial_3d_variables","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZatEED9O6t"},{"type":"text","value":" you can list all dataset variables with spatial horizontal and vertical dimensions, while with\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"S8sxcxHMxp"},{"type":"inlineCode","value":"ds.gpm.spatial_2d_variables","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zM75DDxSDV"},{"type":"text","value":" you can list all dataset variables with only spatial horizontal dimensions.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QdC4LLJntn"}],"key":"YsOMvZOFG9"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"To directly obtain a dataset with the variables of interest, you can also call the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"VXIpcn747A"},{"type":"inlineCode","value":"ds.gpm.select_spatial_2d_variables","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"YSsXERW3Aw"},{"type":"text","value":" or ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"TRdqMaGHqZ"},{"type":"inlineCode","value":"ds.gpm.select_spatial_3d_variables","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zGTk8aOmPi"},{"type":"text","value":"  methods.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"t3DIYqz88V"}],"key":"dRU8cQRfL1"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Please keep in mind that to create a spatial map, it is necessary to select spatial 2D variables, while for extracting vertical cross-sections it is necessary to slice across spatial 3D variables.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"wGe8wOApJR"}],"key":"tOcA0wpMbh"}],"key":"ia5BDlBKYM"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"print(ds.gpm.spatial_2d_variables)\nds.gpm.select_spatial_2d_variables()","key":"zroXyJDpKr"},{"type":"output","id":"n9qx_ssdf9wMQoSmEkcIu","data":[],"key":"wybuIEJWxb"}],"key":"ZdVsykgvBW"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"print(ds.gpm.spatial_3d_variables)\nds.gpm.select_spatial_3d_variables()","key":"oo002j88Ot"},{"type":"output","id":"MPF_GzLBuURj77H1UHWwF","data":[],"key":"QnIwl4WZX3"}],"key":"IANmLJedif"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Some variables also have a frequency dimension. You can list or subset such variables using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Oeek4fmgBO"},{"type":"inlineCode","value":"ds.gpm.frequency_variables","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jFWI8ouY6S"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZUk9gSlBRI"},{"type":"inlineCode","value":"ds.gpm.'select_frequency_variables","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GvF0uvL5C9"},{"type":"text","value":" respectively.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nkWCmAntxL"}],"key":"GyoniM4shs"}],"key":"rkPB57MwyI"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"print(ds.gpm.frequency_variables)\nds.gpm.select_frequency_variables()","key":"sDfuvcwTbj"},{"type":"output","id":"llNZURs3iyn2dd8t1t-XC","data":[],"key":"hhn48qHuiR"}],"key":"FbEiGbC5NQ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EMVYgm5W5m"},{"type":"inlineCode","value":"ds.gpm.bin_variables","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HNMyvml3Sv"},{"type":"text","value":" or ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NQa8xEW3on"},{"type":"inlineCode","value":"ds.gpm.select_bin_variables","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UDaDdu8OCF"},{"type":"text","value":" you can instead list or select the variables that contains “pointers” to specific radar gates.\nThe bin variables are useful to slice or extract data across the “range” dimension of the dataset.\nBin variables values range from 1 (the ellipsoid surface) to the size of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JFo0CcIp21"},{"type":"inlineCode","value":"range","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WxCtn3Ay38"},{"type":"text","value":" dimension (in the upper atmosphere).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AVKfJ793iv"}],"key":"MqcqlORIb1"}],"key":"rZAFDwGPDf"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"print(ds.gpm.bin_variables)\nds.gpm.select_bin_variables()","key":"YeE9DjL5Ml"},{"type":"output","id":"flRg11x8stlkvXLOF2zDe","data":[],"key":"lXCtS0QqHY"}],"key":"p6DkA4wdb8"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To select the DataArray corresponding to a single variable you do:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LWPh8HTjfS"}],"key":"qxwS67ejJc"}],"key":"mSFPMa0g9d"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"variable = \"precipRateNearSurface\"\nda = ds[variable]\nprint(\" Array Class: \", type(da.data))\nda","key":"xkrxfM3YuL"},{"type":"output","id":"vgCtpGX1AmtxP3xKeLx1s","data":[],"key":"GaBwpCP1Bj"}],"key":"GXaWfjepde"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"If the array class is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UbVSv2OsEm"},{"type":"inlineCode","value":"dask.Array","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"W0NHQelDBX"},{"type":"text","value":", it means that the data are not yet loaded into RAM memory.\nTo put the data into memory, you need to call the method ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"anIAX5z8Nr"},{"type":"inlineCode","value":"compute","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iiw3XXmS1P"},{"type":"text","value":", either on the xarray object or on the numerical array.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RzOPJSVEJ2"}],"key":"HVv3CfDl6y"}],"key":"Aco4Q7Zk5a"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"da = da.compute()\nprint(\"Array Class: \", type(da.data))\nda","key":"koz9CPS4Sx"},{"type":"output","id":"W-_qOtwKtbNikN8UOlIpX","data":[],"key":"Ln2DGNjLzS"}],"key":"oGV6wCXU6X"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To check if the Dataset or the DataArray you selected has only spatial horizontal and/or vertical dimensions, you can use the xarray accessor ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tHaSTcFk3V"},{"type":"inlineCode","value":"gpm.is_spatial_2d","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FpXG0EJxjj"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TM6XBFSL63"},{"type":"inlineCode","value":"gpm.is_spatial_3d","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Nd9omA0xuz"},{"type":"text","value":" properties.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lS9fry5Kol"}],"key":"lW7YOLh1XZ"}],"key":"YvzUNqBCDH"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"print(\n    ds.gpm.is_spatial_2d\n)  # False because the xarray.Dataset also contains the range and frequency dimensions !\nprint(\n    ds.gpm.is_spatial_3d\n)  # False because the xarray.Dataset also contains frequency dimensions !","key":"tFk8ZB9fzj"},{"type":"output","id":"KK0_fGVJVUHwqTw1jK-CF","data":[],"key":"Vgcnl09eYk"}],"key":"JFF7l0mr3g"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"print(\n    ds[\"zFactorFinal\"].isel(range=0).sel(radar_frequency=\"Ka\").gpm.is_spatial_2d\n)  # True\nprint(ds[\"precipRateNearSurface\"].gpm.is_spatial_2d)","key":"XGfUjmdCzQ"},{"type":"output","id":"DePrEUc42uKhSU0FUE1y8","data":[],"key":"L6zGDfrIP2"}],"key":"oPPs9XFsm0"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"You can select the reflectivity volumes at a given frequency using the radar band name with the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lE12RYQgLE"},{"type":"inlineCode","value":"sel","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XHPJvCzkaW"},{"type":"text","value":" method:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YmoqV7VTc5"}],"key":"PuOyErYKmb"}],"key":"jQ0TgXz6NR"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds[\"zFactorFinal\"].sel(radar_frequency=\"Ka\")","key":"S66xZMuokf"},{"type":"output","id":"DNLNiWI8CQdxEAF3sreMz","data":[],"key":"suur24MtGw"}],"key":"aPXgLzRFnl"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Since xarray does not yet allow subsetting by value along non-dimensional coordinates, the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u25CtkkGUC"},{"type":"inlineCode","value":"gpm.sel","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"p01O34u93J"},{"type":"text","value":" method provides you this functionality.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MGnKYGr9HA"}],"key":"X3nenbrTuk"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As an example, you can subset the dataset by time:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hCXuWA1Ymt"}],"key":"kHREMROqES"}],"key":"JLRTJ9I323"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"start_time = datetime.datetime.strptime(\"2023-08-20 22:12:00\", \"%Y-%m-%d %H:%M:%S\")\nend_time = datetime.datetime.strptime(\"2023-08-20 22:13:45\", \"%Y-%m-%d %H:%M:%S\")\nds_subset = ds.gpm.sel(time=slice(start_time, end_time))\nds_subset[\"time\"]","key":"nAovClxJIr"},{"type":"output","id":"t5NZKFA9cUssGZPbBGRCf","data":[],"key":"ZStQwYuAmV"}],"key":"bjDoM5gZbD"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Remember that you can get the start time and end time of your GPM xarray object with the gpm accessor methods ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RKJZPVBj23"},{"type":"inlineCode","value":"start_time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c2N33kclEl"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EBe4HX9KLR"},{"type":"inlineCode","value":"end_time","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UeVvVo6gtQ"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J6Q8rk8xXp"}],"key":"AyLYKwdNCN"}],"key":"j3ifstrveQ"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"print(ds_subset.gpm.start_time)\nprint(ds_subset.gpm.end_time)","key":"wxnDpEb99g"},{"type":"output","id":"ReH0eQYOtfrsCwE47Okcn","data":[],"key":"zPYQ7z3nXx"}],"key":"YiUcX0UYV4"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"You can also subset your GPM xarray object by ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YQCdNYQQIR"},{"type":"inlineCode","value":"gpm_id","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bkNVdqsNLL"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EaVCa4qgc3"},{"type":"inlineCode","value":"gpm_cross_track_id","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DCGatrXoU5"},{"type":"text","value":" or ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rkCPx5GrWI"},{"type":"inlineCode","value":"gpm_range_id","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qJZAuoJe6G"},{"type":"text","value":" coordinates, which act as reference identifiers for the along-track, cross-track and range dimensions.\nSelecting across coordinates by value is useful for example to:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uzhWKV78HW"}],"key":"Lm76iSH5Nv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"align multiple GPM xarray objects that might have been subsetted differently across the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EEFh4B9Koy"},{"type":"inlineCode","value":"cross_track","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ltEojEhYRu"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XGBXE9UsEq"},{"type":"inlineCode","value":"along_track","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"X198ScAk0b"},{"type":"text","value":" or ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lP8xf7b6K0"},{"type":"inlineCode","value":"range","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"n7SVZKO0Wn"},{"type":"text","value":" dimensions.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ab9v2StzFg"}],"key":"nQA1f66Gso"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"to retrieve a specific portion of a GPM granule indipendently of the previous subsetting operations.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Q6oNirjygp"}],"key":"RSegDsNJOG"}],"key":"Vkskoe6gWX"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"x21Y54g3QB"},{"type":"inlineCode","value":"gpm_id","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"KDdahLoFV4"},{"type":"text","value":" is defined as ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"YHYqlDuzo8"},{"type":"inlineCode","value":"\u003cgpm_granule_number\u003e-\u003cgpm_along_track_id\u003e","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"UB8mYKJlLK"},{"type":"text","value":", while the others \u003cgpm_*_id\u003e coordinates start at 0 and increase incrementally by 1 along each granule dimension.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Ixm42G6uJM"}],"key":"KvNwqiN7Dd"}],"key":"tqdfcBNOMf"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Subset by gpm_id\nstart_gpm_id = \"53847-2768\"\nend_gpm_id = \"53847-2918\"\nds_subset = ds.gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id))\nds_subset[\"gpm_id\"].data","key":"f7X16bD9P5"},{"type":"output","id":"OzVv_lys7e56DpsI2cteo","data":[],"key":"nj962D4dwf"}],"key":"V6mTegycTI"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To check whether the GPM 2A-DPR product has contiguous along-track scans (with no missing scans), you can use:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dwsWwyGxCQ"}],"key":"QWJq2MCTMu"}],"key":"cBscjyNUgh"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"print(ds.gpm.has_contiguous_scans)\nprint(ds.gpm.is_regular)","key":"rGs8hTcdCe"},{"type":"output","id":"XP2bajuW5EasFnO7BKFXA","data":[],"key":"GYV6OxMWbB"}],"key":"cq1393c3Dq"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In case there are non-contiguous scans, you can obtain the along-track slices over which the dataset is regular:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TCaCPrTwNs"}],"key":"ikhRl8EyB9"}],"key":"VrH3U3VTdG"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"list_slices = ds.gpm.get_slices_contiguous_scans()\nprint(list_slices)","key":"SF88gvKCPH"},{"type":"output","id":"EaqS7of-5gxr-RKDuNpd0","data":[],"key":"vEGhmePIaW"}],"key":"tT50q7Laij"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"You can then select a regular portion of the dataset with:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"i8QXySGvzk"}],"key":"Nu9qEXiJYX"}],"key":"IgTWdmEefr"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"slc = list_slices[0]\nprint(slc)\nds_regular = ds.isel(along_track=slc)","key":"Rf2ZTkOSRA"},{"type":"output","id":"JoSBMJbDoSVGlASfSY3ds","data":[],"key":"KUFac4qwAm"}],"key":"rJOq8ThiOZ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"4. Plot Maps","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rsix02TO9z"}],"identifier":"id-4-plot-maps","label":"4. Plot Maps","html_id":"id-4-plot-maps","implicit":true,"key":"hhcqydWPGO"}],"key":"GejvmHmwql"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The GPM-API provides two ways of displaying 2D spatial fields:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XsA9UslDaM"}],"key":"SEivgCjHta"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"aPQ5VZ4s2f"},{"type":"inlineCode","value":"plot_map","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"XpbuJVJ6NY"},{"type":"text","value":" method plot the data in a geographic projection using the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"dhUV81J2Vz"},{"type":"link","url":"https://scitools.org.uk/cartopy/docs/latest/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Cartopy","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"onNkk7vH7r"}],"urlSource":"https://scitools.org.uk/cartopy/docs/latest/","key":"oESUhFaLM7"},{"type":"text","value":" ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"RhPJ4zFXoY"},{"type":"inlineCode","value":"pcolormesh","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"yuXdNWBzQB"},{"type":"text","value":" method.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"XBNybIf3dH"}],"key":"VhRyb1Fikw"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"A8KLuKvOTT"},{"type":"inlineCode","value":"plot_image","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sRpdnrVwPp"},{"type":"text","value":" method plot the data as an image using the xarray ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KuDRth2SsF"},{"type":"inlineCode","value":"imshow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CVXB53KkV6"},{"type":"text","value":" method.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WrSGFHyQeb"}],"key":"D2sTPp3m5u"}],"key":"WMPEZa80UM"}],"key":"AVXJGxXMKL"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s start by plotting the entire GPM DPR granule in the geographic space:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"L4BJjfIdGn"}],"key":"pN1TizHU2h"}],"key":"Ev9z507EKD"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds[variable].gpm.plot_map()","key":"xWvSfYAv1D"},{"type":"output","id":"5gHIPLomaSN20CcpEsuB6","data":[],"key":"UaX7zyyIcL"}],"key":"goiQOZZDPy"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"By focusing on a narrow region, it’s possible to better visualize the spatial field:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wgtmXAoqTH"}],"key":"jGrcsMQtCf"}],"key":"FHMlpftZci"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"p = ds[variable].gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id)).gpm.plot_map()\np.axes.set_title(ds[variable].gpm.title(add_timestep=False))","key":"Tdq4NYumFB"},{"type":"output","id":"iKJSh-sNrj2mYwldD5eCn","data":[],"key":"YtPQvxoEKL"}],"key":"y2tv45ZTqv"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"spIX5QgrQK"},{"type":"inlineCode","value":"gpm.plot_image","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q6x7A38xpl"},{"type":"text","value":" method is possible to visualize the data in the so-called “swath scan view”:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bPNvxqbTdF"}],"key":"Vz6WNEzNzn"}],"key":"n4KbFyAXLT"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds[variable].gpm.plot_image()","key":"jJM6dt6RK1"},{"type":"output","id":"iymd7gPeQtrrvx2e6tqSI","data":[],"key":"XQ0RSdOrMt"}],"key":"PrnUNt2IJY"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds[variable].gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id)).gpm.plot_image()","key":"sV7o8tcuSh"},{"type":"output","id":"du7BF9T3RvH7ETHgibbfj","data":[],"key":"uKmcW1U1qo"}],"key":"hBwA16GOIG"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"When we visualize different product variables, GPM-API will automatically try to use different appropriate colormaps and colorbars.\nYou can observe this in the following example:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Db6kd8GhP1"}],"key":"BI5KjRVtwc"}],"key":"TkzCg6aiC6"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_subset = ds.gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id), radar_frequency=\"Ku\")\np = ds_subset[\"zFactorFinalNearSurface\"].gpm.plot_map()\np = ds_subset[\"zFactorFinalNearSurface\"].gpm.plot_map(\n    cmap=\"RdYlBu_r\", vmin=15, vmax=45\n)  # ex: enable to modify defaults parameters on the fly\np = ds_subset[\"flagPrecip\"].gpm.plot_map()  # ex: defaults to categorical colorbar","key":"Rqmtqj2JT2"},{"type":"output","id":"IfKHwrNlnOTIlagQ5fZrS","data":[],"key":"HcaTsJTGip"}],"key":"QwDJICp07Q"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"GPM-API provides colormaps and colorbars tailored to GPM product variables with the goal of simplifying the data analysis and make it more reproducible.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"psjIObdCDn"}],"key":"xW8qWsekQs"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The default colormap and colorbar configurations are defined into YAML files into the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tya3zWXVwj"},{"type":"link","url":"https://github.com/ghiggi/gpm_api/blob/main/gpm/etc/colorbars/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"gpm/etc/colorbars directory","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MJx5kLpsMu"}],"urlSource":"https://github.com/ghiggi/gpm_api/blob/main/gpm/etc/colorbars/","data":{"kind":"file","org":"ghiggi","repo":"gpm_api","reference":"main","file":"gpm/etc/colorbars/","raw":"https://raw.githubusercontent.com/ghiggi/gpm_api/main/gpm/etc/colorbars/"},"internal":false,"protocol":"github","key":"QZnZaW7vcG"},{"type":"text","value":" of the software.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"W4ysaFUfee"}],"key":"DlDcvLtDdQ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"However, users are free to override, add and/or customize the colorbars configurations using the pycolorbar (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"d2FjD3nD1Y"},{"type":"link","url":"https://pycolorbar.readthedocs.io/en/latest/index.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"https://​pycolorbar​.readthedocs​.io​/en​/latest​/index​.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"w4E31eVeBO"}],"urlSource":"https://pycolorbar.readthedocs.io/en/latest/index.html","key":"DhKAAPiDZj"},{"type":"text","value":") registry.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Bn6GcGO3ln"}],"key":"r4x88pFB4l"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The registered colorbar configurations can be displayed using ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ef2Nzf0jGM"},{"type":"inlineCode","value":"gpm.colorbars.show_colorbars()","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"PFLuReopKC"},{"type":"text","value":" and the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZWBSvjpxmz"},{"type":"inlineCode","value":"plot_kwargs","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"fOQGza1eTv"},{"type":"text","value":" and ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"L8wAreYPFk"},{"type":"inlineCode","value":"cbar_kwargs","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"oL7Cv9Jc9l"},{"type":"text","value":" required to customize the figure can be obtained by calling the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"kc6qH7sXKu"},{"type":"inlineCode","value":"gpm.get_plot_kwargs","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rLokQanh2i"},{"type":"text","value":" function. Here below we provide an example on how to display DPR precipitation rates estimates using the same colorbar used by NASA to display IMERG liquid precipitation estimates.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"KCCMtHQmpS"}],"key":"X0HAsjaSeZ"}],"key":"TbNp4zNd04"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_kwargs, cbar_kwargs = gpm.get_plot_kwargs(\"IMERG_Liquid\")\nds_subset[\"precipRateNearSurface\"].gpm.plot_map(cbar_kwargs=cbar_kwargs, **plot_kwargs)","key":"hl7mFQTzka"},{"type":"output","id":"vnA4gQLQ-c5XwPdbQSw0B","data":[],"key":"Bj8mLshFoe"}],"key":"EuQ0zZEAcL"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Since GPM Datasets are characterized by multiple dimensions, GPM-API provides the capabilities to generate FacetGrid Cartopy plots following the classical xarray syntax:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"X6v6a0Pibx"}],"key":"KOcC16KEm3"}],"key":"Hp2MxkeFgf"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_subset = ds.gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id))\n\n# Plot reflectivity at various levels\nvariable = \"zFactorFinal\"\nda = ds_subset[variable].sel(range=[100, 125, 150, 170])\nfc = da.gpm.plot_map(row=\"radar_frequency\", col=\"range\")\n\n# Surface reflectivity at Ku and Ka band\nvariable = \"zFactorFinalNearSurface\"\nda = ds_subset[variable]\nfc = da.gpm.plot_map(col=\"radar_frequency\", col_wrap=2)","key":"Nivj8mSPH9"},{"type":"output","id":"TdZu-a-oo7sJFGMt96Mkw","data":[],"key":"xDs0qCJ0Eg"}],"key":"fUhM7RAbTA"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"5. Plot Cross-Sections","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s657KBx7k4"}],"identifier":"id-5-plot-cross-sections","label":"5. Plot Cross-Sections","html_id":"id-5-plot-cross-sections","implicit":true,"key":"UrtoMvaSPv"}],"key":"wHu5gMLHaN"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"An easy way to derive a vertical cross-section is to slice the data along the cross-track or along-track dimension.\nWe can then plot the cross-section calling the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AdPSWuh47c"},{"type":"inlineCode","value":"gpm.plot_transect()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gyg9ElYV6y"},{"type":"text","value":" method.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y7whuMpALU"}],"key":"V79kXLwPq5"}],"key":"B0olI3IuTm"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_subset = ds.gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id), radar_frequency=\"Ku\")\nds_subset[\"zFactorFinal\"].isel(cross_track=24).gpm.plot_transect(zoom=True)\nds_subset[\"zFactorFinal\"].isel(along_track=30).gpm.plot_transect(\n    y=\"height_km\", x=\"horizontal_distance_km\", zoom=True\n)","key":"lUfvEEIG7d"},{"type":"output","id":"ZFMBy1n2LQ2XABIFpm1KN","data":[],"key":"gwsFXcsuPt"}],"key":"zXiw2RG3F7"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"However, GPM-API also provides accessor methods to facilitate the extraction of cross-section around a point, between points and along a trajectory.\nHere below we provide some examples:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JS4J57ZYci"}],"key":"tYhe1cvTcn"}],"key":"pOXcX0zvYi"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"da_cross = ds_subset[\"zFactorFinal\"].gpm.extract_transect_between_points(\n    start_point=(-118, 32), end_point=(-118, 36), steps=60\n)\nda_cross.gpm.plot_transect(zoom=True)","key":"tallR0zWE8"},{"type":"output","id":"BFDLh_A6jx5yss8AVxpYv","data":[],"key":"SCVkob5zkA"}],"key":"oNn22JXyNx"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"points = np.ones((100, 2))\npoints[:, 0] = -118\npoints[:, 1] = np.linspace(32, 36, 100)\nda_cross = ds_subset[\"zFactorFinal\"].gpm.extract_transect_along_trajectory(\n    points=points\n)\nda_cross.gpm.plot_transect(zoom=True)","key":"K3371bW28u"},{"type":"output","id":"Oz7KgaIszeR1UnOU_N-9M","data":[],"key":"zD1il9pTxh"}],"key":"varZtRA8Uf"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"da_cross = ds_subset[\"zFactorFinal\"].gpm.extract_transect_around_point(\n    point=(-118, 34), azimuth=0, distance=100_000, steps=100\n)  # azimuth [0, 360]\nda_cross.gpm.plot_transect(zoom=True)","key":"NFker8gpfX"},{"type":"output","id":"q6MhcXUpdDHjS7haVzTsr","data":[],"key":"AMVJYEsRrr"}],"key":"zJsYgIow3Y"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"6. Community-based retrievals","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JvTZaZX6SK"}],"identifier":"id-6-community-based-retrievals","label":"6. Community-based retrievals","html_id":"id-6-community-based-retrievals","implicit":true,"key":"x8gbXoW0Ua"}],"key":"OsVv6N9JPi"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"GPM-API aims to be a platform where scientist can share their algorithms and retrievals with the community.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Oh3tNgOcU8"}],"key":"S2QBCGlNxs"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Based on the GPM product you are working with, you will have a series of retrievals available to you.\nFor example, GPM-API currently provide the following retrievals for the 2A-DPR product:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FATIDn68Df"}],"key":"nt9t1i3AhZ"}],"key":"Di5RKC3E6t"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds.gpm.available_retrievals()","key":"amSHGz2qXR"},{"type":"output","id":"rtGLqRIvX40noAqhKPIWR","data":[],"key":"hMeYb3EPr8"}],"key":"UbY7qjWfc2"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"p1V8r3dEVD"},{"type":"inlineCode","value":"gpm.retrieve","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mACZv52lEY"},{"type":"text","value":" method enables you to apply specific retrievals to your dataset.\nHere below we provide a couple of examples:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zOqMF1mRuX"}],"key":"yjieGdA0YM"}],"key":"cHpEkJih7b"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_subset = ds.gpm.sel(gpm_id=slice(start_gpm_id, end_gpm_id), radar_frequency=\"Ku\")\n\nds_subset[\"EchoTopHeight40dBZ\"] = ds_subset.gpm.retrieve(\"EchoTopHeight\", threshold=40)\nds_subset[\"EchoTopHeight40dBZ\"].gpm.plot_map()","key":"R4wV4oeQOG"},{"type":"output","id":"kJT7xcHb-2g4HFSNYbWMr","data":[],"key":"xijmfAYxBG"}],"key":"YIs514Nqlv"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_subset[\"EchoDepthSolid30dBZ\"] = ds_subset.gpm.retrieve(\n    \"EchoDepth\", threshold=30, mask_liquid_phase=True\n)\nds_subset[\"EchoDepthSolid30dBZ\"].gpm.plot_map()","key":"B4XXm28LYH"},{"type":"output","id":"WQ_ymVB-0vfTAw0HwqsTL","data":[],"key":"PNG7mbBtFc"}],"key":"XTiHhgIh6Z"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_subset[\"VIL\"] = ds_subset.gpm.retrieve(\"VIL\")\nds_subset[\"VIL\"].gpm.plot_map()","key":"Ne29gP3m9G"},{"type":"output","id":"wolvBpkpu5ImHi6hklWvP","data":[],"key":"YWvNaw89Gg"}],"key":"IJQ9luQ4ii"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_subset[\"flagPrecipitationType\"] = ds_subset.gpm.retrieve(\n    \"flagPrecipitationType\", method=\"major_rain_type\"\n)\nds_subset[\"flagPrecipitationType\"].gpm.plot_map()","key":"EQhhBEq9hH"},{"type":"output","id":"jwUJBSTthZAY_zRHtsdrg","data":[],"key":"JmvqwY8M4C"}],"key":"Vsja7Hn6gd"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_subset[\"flagHydroClass\"] = ds_subset.gpm.retrieve(\n    \"flagHydroClass\"\n)  # this return a 3D array !\nds_subset[\"flagHydroClass\"].isel(cross_track=24).gpm.plot_transect()","key":"C2pxToKOxZ"},{"type":"output","id":"4l8ZCZWEjPTTFflJpsfL9","data":[],"key":"oyrFi4Q1bX"}],"key":"sTGvrQGgbv"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"7. Advanced Manipulations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xehV4DX0xF"}],"identifier":"id-7-advanced-manipulations","label":"7. Advanced Manipulations","html_id":"id-7-advanced-manipulations","implicit":true,"key":"ndkQUo1HBl"}],"key":"Ghs9dsiyqO"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"When working with spaceborne radar data, it is often necessary to slice, extract or mask portions of data across the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NZRwHFC6Ua"},{"type":"inlineCode","value":"range","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hUYNuMO0n6"},{"type":"text","value":" dimension.\nThe xarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t4mkv5wo6X"},{"type":"inlineCode","value":"gpm","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gMHMqDSzpG"},{"type":"text","value":" accessor provides a series of methods to facilitate various tasks.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ne2Egu4FT6"}],"key":"VtBUCncCXH"}],"key":"GIEaKV2DpN"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"If you wish to extract the values at specific range gate position varying over each radar beam, you can use the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"N25zdyDFDj"},{"type":"inlineCode","value":"slice_range_at_bin","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KOYO9rDxKA"},{"type":"text","value":" method.\nFor example, to extract values near the surface where radar gates are not more contaminated by ground clutter, you can use the bin variable ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dBmOJv3Gzo"},{"type":"inlineCode","value":"\"binClutterFreeBottom\"","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"B7dm3L3XsM"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jtM8cNuCNe"}],"key":"uGbLMBSrQi"}],"key":"zLzirwOFCl"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_surface = ds_subset.gpm.slice_range_at_bin(\n    bins=\"binClutterFreeBottom\"\n)  # or ds.gpm.slice_range_at_bin(bins=ds[\"binClutterFreeBottom\"])\nds_surface[\"precipRate\"].gpm.plot_map()  # precipRate is originally a 3D variable !\nds_surface[\"zFactorFinal\"].gpm.plot_map()  # zFactorFinal is originally a 3D variable !","key":"nozjbmyVaP"},{"type":"output","id":"PixvcXKm3esxfeSCix8pM","data":[],"key":"I00NamIMX8"}],"key":"cqwqJZa1Ok"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Other slicing methods provide capabilities to retrieve values at a given height, along isothermals, or at the range gates where the minimum, maximum or closest value of a given variable occur:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xlC8tRShKq"}],"key":"sDp5eynlXx"}],"key":"i0XDVE6t2S"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_isothermal = ds_subset.gpm.slice_range_at_temperature(\n    273.15\n)  # use by default the airTemperature variable\nds_3000 = ds_subset.gpm.slice_range_at_height(3000)\nds_max_z = ds_subset.gpm.slice_range_at_max_value(variable=\"zFactorFinal\")\nds_min_z = ds_subset.gpm.slice_range_at_min_value(variable=\"zFactorFinal\")\nds_at_z_30 = ds_subset.gpm.slice_range_at_value(variable=\"zFactorFinal\", value=30)","key":"EMp0bNtvdR"},{"type":"output","id":"SnXYUmrkJI0s4FFIkOEu0","data":[],"key":"VhrwVGFmB1"}],"key":"epGXdAbo67"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If you want to focus your analysis in the portion of radar gates with valid values (e.g., excluding upper atmosphere regions without reflectivities) or values ranging in a specific interval of interest, you can use the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QtBG6X2UA3"},{"type":"inlineCode","value":"subset_range_with_valid_data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NkqJOz1uUt"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c0G6q1HOog"},{"type":"inlineCode","value":"subset_range_where_values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vzcggfQEAS"},{"type":"text","value":" methods respectively:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pjx3EN1dqA"}],"key":"pQPJJfLW6W"}],"key":"DS1h3NBcB1"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_valid = ds_subset.gpm.subset_range_with_valid_data(variable=\"zFactorFinal\")\nds_intense = ds_subset.gpm.subset_range_where_values(\n    variable=\"precipRate\", vmin=200, vmax=300\n)  # mm/hr\nprint(ds_valid[\"range\"].data)\nprint(ds_intense[\"range\"].data)","key":"S2ehRttM3z"},{"type":"output","id":"uXPX_ifNb2iWpMeQl_06r","data":[],"key":"cPYKc6s9Mq"}],"key":"eS3eWXi1yK"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"If you wish to extract radar gates above/below spatially-varying bin position, you can use the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jTNG85ek9f"},{"type":"inlineCode","value":"extract_dataset_above_bin","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yM6yGfYa6V"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wBlRirhX22"},{"type":"inlineCode","value":"extract_dataset_below_bin","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iLByiIw0jE"},{"type":"text","value":" methods.\nPlease note that these methods shifts the arrays beam-wise, returning datasets with a new ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aE1SEFozS8"},{"type":"inlineCode","value":"range","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eor4qHooE7"},{"type":"text","value":" coordinate and the bin variables updated accordingly.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"swQWDkO5TA"}],"key":"m5EmmUSE5E"}],"key":"bMDQERdxev"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_below_melting_layer = ds_subset.gpm.extract_dataset_below_bin(\n    \"binBBBottom\"\n)  # the first new range index corresponds to original binBBBottom\nds_above_melting_layer = ds_subset.gpm.extract_dataset_above_bin(\n    \"binBBTop\"\n)  # the last new range index corresponds to original binBBTop","key":"F4JGIxdd5W"},{"type":"output","id":"QT_Ri4h_Qfk-SLP1s9GlO","data":[],"key":"Pex31EQZQD"}],"key":"XVKlxeWQKH"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If instead you wish to mask the data above/below or in between radar gates positions, you can use the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hs6cbGDNeC"},{"type":"inlineCode","value":"mask_above_bin","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bLiCAR7osC"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c0pFmhVATe"},{"type":"inlineCode","value":"mask_below_bin","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KKEyluGvd4"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lJbtvuJsQE"},{"type":"inlineCode","value":"mask_between_bins","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z9RxQY8Wyx"},{"type":"text","value":" methods:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x75RoKnUUr"}],"key":"JIHds6qPqa"}],"key":"N1WxfU8kmG"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_rain = ds_subset.gpm.mask_above_bin(\"binZeroDeg\")\nds_snow = ds_subset.gpm.mask_below_bin(\"binZeroDeg\")\nds_masked_melting_layer = ds_subset.gpm.mask_between_bins(\n    bottom_bins=\"binBBBottom\", top_bins=\"binBBTop\"\n)","key":"TNhl1pCcC5"},{"type":"output","id":"TEbgpGx7Idye8jvpjk3-H","data":[],"key":"IzEb98LSjx"}],"key":"pwQxTPGPwh"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"8. Geospatial Manipulations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ah3bc0iiPv"}],"identifier":"id-8-geospatial-manipulations","label":"8. Geospatial Manipulations","html_id":"id-8-geospatial-manipulations","implicit":true,"key":"IsjRQFtkeG"}],"key":"ODpkcdUZs6"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"GPM-API provides methods to easily spatially subset orbits by extent, country or continent.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SQwjCBX7Gn"}],"key":"jAtkcdz0Aa"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Note however, that an area can be crossed by multiple orbits depending on the size of your GPM satellite dataset.\nIn other words, multiple orbit slices in along-track direction can intersect the area of interest.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hm5meFkyOA"}],"key":"phpnp54RqC"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The method ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"xB9DLQICLz"},{"type":"inlineCode","value":"get_crop_slices_by_extent","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"qvrNap6hgC"},{"type":"text","value":", ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bKJnhLYMOs"},{"type":"inlineCode","value":"get_crop_slices_by_country","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"p09hrlrhai"},{"type":"text","value":" and ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"g4wmdSIxYG"},{"type":"inlineCode","value":" get_crop_slices_by_continent","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"a6voNJlIMg"},{"type":"text","value":" enable to retrieve the orbit portions intersecting the area of interest.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Ov1qPJox7s"}],"key":"cimUvGEwjd"}],"key":"DFj79WIIYn"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Define the variable to display\nvariable = \"precipRateNearSurface\"\n\n# Crop by country\nlist_isel_dict = ds.gpm.get_crop_slices_by_country(\"United States\")\nprint(list_isel_dict)\n\n# Crop by extent\nextent = get_country_extent(\"United States\")\nlist_isel_dict = ds.gpm.get_crop_slices_by_extent(extent)\nprint(list_isel_dict)\n\n# Plot the swaths crossing the country\nfor isel_dict in list_isel_dict:\n    da_subset = ds[variable].isel(isel_dict)\n    slice_title = da_subset.gpm.title(add_timestep=True)\n    p = da_subset.gpm.plot_map()\n    p.axes.set_extent(extent)\n    p.axes.set_title(label=slice_title)\n\n# Define the variable to display\nvariable = \"precipRateNearSurface\"\n\n# Crop around a point (i.e. radar location)\nlon = -117.0418\nlat = 32.9190\ndistance = 200_000  # 200 km\nlist_isel_dict = ds.gpm.get_crop_slices_around_point(\n    lon=lon, lat=lat, distance=distance\n)\nprint(list_isel_dict)\n\nextent = get_geographic_extent_around_point(lon=lon, lat=lat, distance=distance)\nlist_isel_dict = ds.gpm.get_crop_slices_by_extent(extent)\nprint(list_isel_dict)\n\n# Define ROI coordinates\ncircle_lons, circle_lats = get_circle_coordinates_around_point(\n    lon, lat, radius=distance, num_vertices=360\n)\n\n# Plot the swaths crossing the ROI\nfor isel_dict in list_isel_dict:\n    da_subset = ds[variable].isel(isel_dict)\n    slice_title = da_subset.gpm.title(add_timestep=True)\n    p = da_subset.gpm.plot_map()\n    p.axes.plot(circle_lons, circle_lats, \"r-\", transform=ccrs.Geodetic())\n    p.axes.scatter(lon, lat, c=\"black\", marker=\"X\", s=100, transform=ccrs.Geodetic())\n    p.axes.set_extent(extent)\n\n# Alternatives if working with a single granule:\n\n# ds_subset = ds.gpm.crop_by_extent(extent)\n# ds_subset = ds.gpm.crop_by_country(\"United States\")","key":"Qyu4FqgRPl"},{"type":"output","id":"t4_pVZsK50CiElwixT9QS","data":[],"key":"SsKRV524Q6"}],"key":"TpAdaOD5Z8"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"You can also easily obtain the extent around a given point (i.e. ground radar location) using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oHew1lRcyS"},{"type":"inlineCode","value":"get_geographic_extent_around_point","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WwuTnl2F6W"},{"type":"text","value":" function and use\nthe gpm accessor methods ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r3RsprobU6"},{"type":"inlineCode","value":"get_crop_slices_around_point","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YjGu1yPNa9"},{"type":"text","value":" or ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FmtBdnqpPQ"},{"type":"inlineCode","value":"crop_around_point","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HtOTYCj7Yx"},{"type":"text","value":" to subset your dataset:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u3eDXUOVEi"}],"key":"MF4pYW669r"}],"key":"fGuWumSB5f"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Define the variable to display\nvariable = \"precipRateNearSurface\"\n\n# Crop around a point (i.e. radar location)\nlon = -117.0418\nlat = 32.9190\ndistance = 200_000  # 200 km\nlist_isel_dict = ds.gpm.get_crop_slices_around_point(\n    lon=lon, lat=lat, distance=distance\n)\nprint(list_isel_dict)\n\nextent = get_geographic_extent_around_point(lon=lon, lat=lat, distance=distance)\nlist_isel_dict = ds.gpm.get_crop_slices_by_extent(extent)\nprint(list_isel_dict)\n\n# Define ROI coordinates\ncircle_lons, circle_lats = get_circle_coordinates_around_point(\n    lon, lat, radius=distance, num_vertices=360\n)\n\n# Plot the swaths crossing the ROI\nfor isel_dict in list_isel_dict:\n    da_subset = ds[variable].isel(isel_dict)\n    slice_title = da_subset.gpm.title(add_timestep=True)\n    p = da_subset.gpm.plot_map()\n    p.axes.plot(circle_lons, circle_lats, \"r-\", transform=ccrs.Geodetic())\n    p.axes.scatter(lon, lat, c=\"black\", marker=\"X\", s=100, transform=ccrs.Geodetic())\n    p.axes.set_extent(extent)\n\n# Alternatives if working with a single granule:\n\n# ds_subset = ds.gpm.crop_around_point(lon=lon, lat=lat, distance=distance)","key":"tP7sEC7bIE"},{"type":"output","id":"vSV2LO0VeiiQL3KMwqKji","data":[],"key":"zqIsCWvcZC"}],"key":"MeBqS2p9J5"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Please keep in mind that you can easily retrieve the extent of a GPM xarray object using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YF4NLBe4BU"},{"type":"inlineCode","value":"extent","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CkOvs3SnTq"},{"type":"text","value":" method.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LAT2TIb9mE"}],"key":"XQKcoE9ETD"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The optional argument ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UJjrTWbe6z"},{"type":"inlineCode","value":"padding","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hNtpqoXZAi"},{"type":"text","value":" allows to expand/shrink the geographic extent by custom lon/lat degrees, while the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DmVNzbvTIq"},{"type":"inlineCode","value":"size","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xlraOYP7wJ"},{"type":"text","value":" argument allows\nto obtain an extent centered on the GPM object with the desired size.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QPDmWW8B7o"}],"key":"fuiCoCDwBb"}],"key":"fnlZSgsLpK"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"print(da_subset.gpm.extent(padding=0.1))  # expanding\nprint(da_subset.gpm.extent(padding=-0.1))  # shrinking\nprint(da_subset.gpm.extent(size=0.5))\nprint(da_subset.gpm.extent(size=0))  # centroid","key":"w7O79Rd0ns"},{"type":"output","id":"gpwomrlBZAf_q4XwIN18w","data":[],"key":"a9R9d30O62"}],"key":"pMdGVVJn6a"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"9. Storm Labeling","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u0IaL0q2n3"}],"identifier":"id-9-storm-labeling","label":"9. Storm Labeling","html_id":"id-9-storm-labeling","implicit":true,"key":"P38xtT5eqZ"}],"key":"qILDHg2h2f"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Using the xarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m8cqqaOrA2"},{"type":"inlineCode","value":"ximage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xv8Kd9iU74"},{"type":"text","value":" accessor, it is possible to easily delineate (label) the precipitating areas. The label array is added to the dataset as a new coordinate.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HNgfWEUv3F"}],"key":"ZHb7CBozn9"}],"key":"WvYtkKb05i"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Retrieve labeled xarray object\nlabel_name = \"label\"\nds = ds.ximage.label(\n    variable=\"precipRateNearSurface\",\n    min_value_threshold=1,\n    min_area_threshold=5,\n    footprint=5,  # assign same label to precipitating areas 5 pixels apart\n    sort_by=\"area\",  # \"maximum\", \"minimum\", \u003ccustom_function\u003e\n    sort_decreasing=True,\n    label_name=label_name,\n)\n# Plot full label array\nds[label_name].ximage.plot_labels()","key":"JG2Grp6Wat"},{"type":"output","id":"vfBLyW8LpQGmtNtZTT738","data":[],"key":"mlRpwHpJUn"}],"key":"pbTezu3iF7"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s zoom in a specific region:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bIPGyzaVVf"}],"key":"TzwI6Na4rU"}],"key":"TC6e8jwL15"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"gpm.plot_labels(ds[label_name].isel(along_track=slice(2700, 3500)))","key":"OplwRY75U2"},{"type":"output","id":"JG7eOWIB1ZkRJJWsSuVVo","data":[],"key":"U93PNrlnnQ"}],"key":"bsAyzxyjI4"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"10. Patch Extraction","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pu6T6J7o2I"}],"identifier":"id-10-patch-extraction","label":"10. Patch Extraction","html_id":"id-10-patch-extraction","implicit":true,"key":"HUe81uLsMV"}],"key":"CgaiqT3jtM"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"With the xarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ez61sAnB58"},{"type":"inlineCode","value":"ximage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ifuQWM44tS"},{"type":"text","value":" accessor, it is also possible to extract patches around the precipitating areas. Here we provide a minimal example on how to proceed:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vQzVgUh5mm"}],"key":"JRFhjEo9Rg"}],"key":"vOBYrOQzh5"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Define the patch generator\nda_patch_gen = ds[\"precipRateNearSurface\"].ximage.label_patches(\n    label_name=label_name,\n    patch_size=(49, 49),\n    variable=variable,\n    # Output options\n    n_patches=4,\n    # Patch extraction Options\n    padding=0,\n    centered_on=\"max\",\n    # Tiling/Sliding Options\n    debug=False,\n    verbose=False,\n)\n\n# # Retrieve list of patches\nlist_label_patches = list(da_patch_gen)\nlist_da = [da for label, da in list_label_patches]\n\n# Display patches\ngpm.plot_patches(list_label_patches)","key":"XJPzY82Fxz"},{"type":"output","id":"EaV5jofn2chjlwuHHTCtp","data":[],"key":"lgOOf87XgQ"}],"key":"Pjx496E5Ha"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"You can exploit the xarray manipulations and FacetGrid capabilities to quickly create the following figure:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ra9AC8tKNA"}],"key":"nmPJWmoYT1"}],"key":"Og4DMDI6lW"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"list_da_without_coords = [da.drop_vars([\"lon\", \"lat\"]) for da in list_da]\nda_patch = xr.concat(list_da_without_coords, dim=\"patch\")\nda_patch.isel(patch=slice(0, 4)).gpm.plot_image(col=\"patch\", col_wrap=2)","key":"T8gcdIIkSS"},{"type":"output","id":"V8uCTZ_xAK30dQ1M54c1w","data":[],"key":"PLvxrnfiLJ"}],"key":"Vz6WKr6fs0"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"11. Spaceborne/Ground Radar Matching","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PhhIZEE29G"}],"identifier":"id-11-spaceborne-ground-radar-matching","label":"11. Spaceborne/Ground Radar Matching","html_id":"id-11-spaceborne-ground-radar-matching","implicit":true,"key":"SbSFIevYy2"}],"key":"PqmLvEfO1E"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this final subsection, we now provide also brief overview on how to match spaceborne (SR) and ground (GR) radar measurements.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VstXAHrQsA"}],"key":"xOO9eYl42k"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"A step-by-step guide on the methodology to obtain spatially and temporally coincident radar samples is provided in\nthe ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uwLFNyilNy"},{"type":"link","url":"https://gpm-api.readthedocs.io/en/latest/tutorials/tutorial_03_SR_GR_Matching.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Spaceborne-Ground Radar Matching Tutorial","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Orrkz7GbCf"}],"urlSource":"https://gpm-api.readthedocs.io/en/latest/tutorials/tutorial_03_SR_GR_Matching.html","key":"uW71Zo2jQl"},{"type":"text","value":",\nwhile an applied example is provided in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vczejcXYsc"},{"type":"link","url":"https://gpm-api.readthedocs.io/en/latest/tutorials/tutorial_03_SR_GR_Calibration.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Spaceborne-Ground Radar Calibration Applied Tutorial","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JHnn6KKhb6"}],"urlSource":"https://gpm-api.readthedocs.io/en/latest/tutorials/tutorial_03_SR_GR_Calibration.html","key":"Ua3HlUDvDC"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uckN3RieBO"}],"key":"Npx5GwMaVA"}],"key":"v303xmMzOA"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To start let’s open the NEXRAD ground radar data coincident with the GPM DPR overpass. We have preprocessed the native NEXRAD radar with xradar and uploaded it into Zarr format on the Pythia Cloud Bucket.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XXCYOgeNr6"}],"key":"ICunZ95YIr"}],"key":"KcKcIcTi7e"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"filepath_gr = \"/home/ghiggi/data/bucket/KNKX20230820_221341_V06.zarr\"\ndt_gr = open_datatree(filepath_gr, engine=\"zarr\", chunks={})\ndisplay(dt_gr)","key":"unwLfVmwbH"},{"type":"output","id":"erBhzQhdNf7amRSkkBrPH","data":[],"key":"njoWB3HfHv"}],"key":"JfmriZ9P87"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now, let’s select the GR sweep to match with GPM DPR.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x7AIyFEe2I"}],"key":"Kzzm6jmPiX"}],"key":"eEmVJ6ibZ5"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"sweep_idx = 0\nsweep_group = f\"sweep_{sweep_idx}\"  # GR sweep (elevation to be used)\nds_gr = dt_gr[sweep_group].ds","key":"SrNcADqxsn"},{"type":"output","id":"hApzIowfBEOTjMB9pJ7Gb","data":[],"key":"TsYOYHNXWn"}],"key":"fdbsyJMIXV"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s define some SR/GR volume matching settings ...","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GwbrYG2aKs"}],"key":"eObBuLOTIl"}],"key":"w6qlLHKZ9X"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"radar_band = \"S\"\nbeamwidth_gr = 1\nz_min_threshold_gr = 0\nz_min_threshold_sr = 10","key":"wv8MLxbt41"},{"type":"output","id":"yKNsDWyGgVm7w1rW0Lr_k","data":[],"key":"NMR30K2Yzv"}],"key":"iL7P2Ca17R"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"... and then apply the SR/GR volume matching. If the GPM Dataset is not specified, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C6kdUOJJHZ"},{"type":"inlineCode","value":"volume_matching","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qPHa34Zra7"},{"type":"text","value":" automatically download and load the required SR radar data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t0INi3dtvM"}],"key":"bA6hru9P1R"}],"key":"IwYiGAPDRE"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"gdf_match = volume_matching(\n    ds_gr=ds_gr,\n    ds_sr=ds,  # optional\n    radar_band=radar_band,\n    beamwidth_gr=beamwidth_gr,\n    z_min_threshold_gr=z_min_threshold_gr,\n    z_min_threshold_sr=z_min_threshold_sr,\n    min_gr_range=0,\n    max_gr_range=150_000,\n    # gr_sensitivity_thresholds=None,\n    # sr_sensitivity_thresholds=None,\n    download_sr=False,  # require NASA accounts and internet connection !\n    display_quicklook=True,\n)\ndisplay(gdf_match)","key":"QUHf80OBpf"},{"type":"output","id":"-nbXCSn0Zf_oIY41LJrcR","data":[],"key":"zWzeVd8vcD"}],"key":"OlGJu68aJK"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now let’s display the SR/GR matched/aggregated reflectivities:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rYDA48TBgp"}],"key":"bTkv8dPM34"}],"key":"RWLYj2vbM2"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"extent_xy = gdf_match.total_bounds[[0, 2, 1, 3]]\np = gdf_match.plot(\n    column=f\"SR_zFactorFinal_{radar_band}_mean\",\n    legend=True,\n    legend_kwds={\"label\": \"SR Reflectivity (dBz)\"},\n    cmap=\"Spectral_r\",\n    vmin=10,\n    vmax=40,\n)\np.axes.set_xlim(extent_xy[0:2])\np.axes.set_ylim(extent_xy[2:4])\np.axes.set_title(\"SR\")\nplt.xlabel(\"x (m)\", fontsize=12)\nplt.ylabel(\"y (m)\", fontsize=12)\nplt.grid(lw=0.25, color=\"grey\")\n\np = gdf_match.plot(\n    column=\"GR_Z_mean\",\n    legend=True,\n    legend_kwds={\"label\": \"GR Reflectivity (dBz)\"},\n    cmap=\"Spectral_r\",\n    vmin=10,\n    vmax=40,\n)\np.axes.set_xlim(extent_xy[0:2])\np.axes.set_ylim(extent_xy[2:4])\np.axes.set_title(\"GR\")\nplt.xlabel(\"x (m)\", fontsize=12)\nplt.ylabel(\"y (m)\", fontsize=12)\nplt.grid(lw=0.25, color=\"grey\")","key":"NuPTeVmt53"},{"type":"output","id":"wGDb679gCLhVpLDjX-fXn","data":[],"key":"ssGA5UwrV5"}],"key":"JKIcABxHFP"}],"key":"XWdrMtwma9"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"clutter and beamblockage","url":"/wradlib-clutter-beamblockage","group":"Py-ART and wradlib"},"next":{"title":"I/O model","url":"/baltrad-io","group":"BALTRAD"}}},"domain":"http://localhost:3000"},"project":{"open_access":true,"license":{"content":{"id":"Apache-2.0","name":"Apache License 2.0","osi":true,"free":true,"url":"https://opensource.org/licenses/Apache-2.0"},"code":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"abbreviations":{"ARM":"Atmospheric Radiation Measurement","NCAR":"National Center for Atmospheric Research"},"title":"ERAD 2024","authors":[{"nameParsed":{"literal":"Alfonso Ladino","given":"Alfonso","family":"Ladino"},"name":"Alfonso Ladino","orcid":"0000-0001-8081-7827","github":"aladinor","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Anna del Moral Méndez","given":"Anna","non_dropping_particle":"del","family":"Moral Méndez"},"name":"Anna del Moral Méndez","orcid":"0000-0002-5015-840X","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Brenda Javornik","given":"Brenda","family":"Javornik"},"name":"Brenda Javornik","orcid":"0009-0004-9266-9293","github":"leavesntwigs","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Daniel Michelson","given":"Daniel","family":"Michelson"},"name":"Daniel Michelson","orcid":"0000-0003-3222-9881","github":"DanielMichelson","id":"contributors-myst-generated-uid-3"},{"nameParsed":{"literal":"Daniel Wolfensberger","given":"Daniel","family":"Wolfensberger"},"name":"Daniel Wolfensberger","orcid":"0009-0006-1419-0556","github":"wolfidan","id":"contributors-myst-generated-uid-4"},{"nameParsed":{"literal":"Gionata Ghiggi","given":"Gionata","family":"Ghiggi"},"name":"Gionata Ghiggi","orcid":"0000-0002-0818-0865","github":"ghiggi","id":"contributors-myst-generated-uid-5"},{"nameParsed":{"literal":"Jen DeHart","given":"Jen","family":"DeHart"},"name":"Jen DeHart","orcid":"0000-0001-8536-4927","github":"jcdehart","id":"contributors-myst-generated-uid-6"},{"nameParsed":{"literal":"Jordi Figueras i Ventura","given":"Jordi Figueras","non_dropping_particle":"i","family":"Ventura"},"name":"Jordi Figueras i Ventura","orcid":"0000-0002-4949-422X","github":"jfigui","id":"contributors-myst-generated-uid-7"},{"nameParsed":{"literal":"Julian Giles","given":"Julian","family":"Giles"},"name":"Julian Giles","orcid":"0000-0001-8134-008X","github":"JulianGiles","id":"contributors-myst-generated-uid-8"},{"nameParsed":{"literal":"Kai Mühlbauer","given":"Kai","family":"Mühlbauer"},"name":"Kai Mühlbauer","orcid":"0000-0001-6599-1034","github":"kmuehlbauer","id":"contributors-myst-generated-uid-9"},{"nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","github":"mgrover1","id":"contributors-myst-generated-uid-10"},{"nameParsed":{"literal":"Mike Dixon","given":"Mike","family":"Dixon"},"name":"Mike Dixon","orcid":"0000-0002-9597-9113","github":"mike-dixon","id":"contributors-myst-generated-uid-11"},{"nameParsed":{"literal":"Robert Jackson","given":"Robert","family":"Jackson"},"name":"Robert Jackson","orcid":"0000-0003-2518-1234","github":"rcjackson","id":"contributors-myst-generated-uid-12"},{"nameParsed":{"literal":"Scott Collis","given":"Scott","family":"Collis"},"name":"Scott Collis","orcid":"0000-0002-2303-687X","github":"scollis","id":"contributors-myst-generated-uid-13"},{"nameParsed":{"literal":"Ting-Yu Cha","given":"Ting-Yu","family":"Cha"},"name":"Ting-Yu Cha","orcid":"0000-0002-6292-8483","github":"tingyucha","id":"contributors-myst-generated-uid-14"}],"github":"https://github.com/openradar/erad2024","copyright":"2024","references":{"foundations":{"url":"https://projectpythia-mystmd.github.io/pythia-foundations"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"openradar/erad2024","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"schedule.md"}],"title":"Schedule"},{"children":[{"file":"getting_started.md"},{"file":"notebooks/data-access/intro-data-access.ipynb"},{"file":"notebooks/environment.ipynb"}],"title":"Getting started"},{"children":[{"children":[{"file":"notebooks/xradar-pyart/xradar-basics.ipynb"}],"title":"XRadar"},{"children":[{"file":"notebooks/xradar-pyart/pyart-basics.ipynb"},{"file":"notebooks/wradlib/wradlib_clutter_beamblockage.ipynb"}],"title":"Py-ART and wradlib"},{"children":[{"file":"notebooks/gpm-api/gpm-api-intro.ipynb"}],"title":"GPM-API"},{"children":[{"pattern":"notebooks/baltrad/baltrad_short_course/*.ipynb"},{"pattern":"notebooks/baltrad/pyart2baltrad/*.ipynb"},{"file":"notebooks/baltrad/baltrad2wradlib/baltrad2wradlib.ipynb"}],"title":"BALTRAD"},{"children":[{"file":"notebooks/lrose/LROSE_Basics.ipynb"},{"file":"notebooks/lrose/LROSE_ERAD_fractl_samurai.ipynb"},{"file":"notebooks/lrose/DD_Tornado_ERAD2024.ipynb"},{"file":"notebooks/lrose/testing/stress_testing.ipynb"}],"title":"LROSE"}],"title":"Radar Software Foundations"},{"children":[{"file":"notebooks/environment.ipynb"}],"title":"Notebook Environment"},{"children":[{"file":"notebooks/Retrieving_winds_with_pydda.ipynb"}],"title":"Retrieving winds with PyDDA"}],"thumbnail":"/erad2024/build/0885e6292c6be2fd643fbc952d479a01.jpeg","exports":[],"bibliography":[],"index":"readme","pages":[{"level":1,"title":"Preamble"},{"slug":"how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Schedule"},{"slug":"schedule","title":"Schedule","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Getting started"},{"slug":"getting-started","title":"Notebook Execution","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"intro-data-access","title":"Data Access Instructions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"environment","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Radar Software Foundations"},{"level":2,"title":"XRadar"},{"slug":"xradar-basics","title":"Xradar Basics","description":"","date":"","thumbnail":"/erad2024/build/xradar_logo-056b4e59022c2d2b2aee43aeb1a7cfb5.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"Py-ART and wradlib"},{"slug":"pyart-basics","title":"Py-ART Basics with Xradar","description":"","date":"","thumbnail":"/erad2024/build/arm_logo-1ff8b9fd151e125c896a3eee8606aca2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"wradlib-clutter-beamblockage","title":"clutter and beamblockage","description":"","date":"","thumbnail":"/erad2024/build/wradlib_logo.svg-04446fa7b27bf8c01c70e46114f5e99c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"GPM-API"},{"slug":"gpm-api-intro","title":"Introduction to GPM-API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"BALTRAD"},{"slug":"baltrad-io","title":"I/O model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-qc","title":"Quality Control","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-drqc","title":"Quality Control using DR","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-parallel-processing","title":"Parallel processing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-compositing","title":"Compositing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad-pyart-rain-rate-example","title":"Rain Rate retrieval with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"pyart-baltrad-dealias-example","title":"Doppler Velocity Dealiasing with Py-ART","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"baltrad2wradlib","title":"Attenuation correction comparison with wradlib","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":2,"title":"LROSE"},{"slug":"lrose-basics","title":"An Introduction to LROSE","description":"","date":"","thumbnail":"/erad2024/build/colette_rose-e546e81ebbcd972a32bda0625bf9de6c.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lrose-erad-fractl-samurai","title":"LROSE Wind Tutorial","description":"","date":"","thumbnail":"/erad2024/build/samurai-eb910fa602eaf3da675ac55d6f5e3dac.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"stress-testing","title":"stress-testing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"level":1,"title":"Notebook Environment"},{"slug":"environment-1","title":"Environment overview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Retrieving winds with PyDDA"},{"slug":"retrieving-winds-with-pydda","title":"PyDDA tutorial","description":"","date":"","thumbnail":"/erad2024/build/5e2d147096249dc3a37da495168a9e9e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/erad2024/build/manifest-4C03D258.js";
import * as route0 from "/erad2024/build/root-ZSMPVWLZ.js";
import * as route1 from "/erad2024/build/routes/$-OW6NTZY2.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/erad2024/build/entry.client-K6EYMIDZ.js");</script></body></html>